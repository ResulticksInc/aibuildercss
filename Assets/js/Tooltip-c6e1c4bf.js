import{r as t,b as e,p as n}from"./react-vendor-379f659a.js";import{n as o,v as r}from"./kendo-5d73125a.js";var i=t.createContext(0);i.displayName="KendoReactZIndexContext";var l=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n={},o=function(t){return t.filter((function(t){return!0!==t&&!!t})).map((function(t){return Array.isArray(t)?o(t):function(t){return"object"==typeof t?Object.keys(t).forEach((function(e){n[e]=t[e]})):n[t]=!0}(t)}))};return o(t),Object.keys(n).map((function(t){return n[t]&&t||null})).filter((function(t){return null!==t})).join(" ")};function a(t,e,n,o){if(t){var r={syntheticEvent:e,nativeEvent:e.nativeEvent,target:n};t.call(void 0,Object.assign(r,o))}}var s,p=10,c=10,u=["k-tooltip-content","k-animation-container","k-tooltip","k-tooltip-title","k-tooltip k-tooltip-closable","k-icon k-i-close"],f=function(t){if(null===t)return!1;for(var e=t;e;){if(null!==e&&e.classList&&e.classList.contains("k-tooltip"))return!0;e=null!==e.parentNode&&e.parentNode}return u.filter((function(e){return e===t.className})).length>0},d={name:"@progress/kendo-react-tooltip",productName:"KendoReact",productCodes:["KENDOUIREACT","KENDOUICOMPLETE"],publishDate:1695802907,version:"",licensingDocsUrl:"https://www.telerik.com/kendo-react-ui/my-license/?utm_medium=product&utm_source=kendoreact&utm_campaign=kendo-ui-react-purchase-license-keys-warning"},h=globalThis&&globalThis.__extends||(s=function(t,e){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}s(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),m=globalThis&&globalThis.__assign||function(){return m=Object.assign||function(t){for(var e,n=1,o=arguments.length;n<o;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t},m.apply(this,arguments)},v=globalThis&&globalThis.__rest||function(t,e){var n={};for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(t);r<o.length;r++)e.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(t,o[r])&&(n[o[r]]=t[o[r]])}return n},g=function(s){function u(t){var e,n=s.call(this,t)||this;return n.context=0,n.state={targetElement:null,open:!1,title:""},n.top=0,n.left=0,n.willOpen=!1,n.handleMouseOut=function(t){var e=n.state.targetElement,o=e?e.ownerDocument:document,r=o&&o.elementFromPoint(t.clientX,t.clientY);f(r)||n.props.open||(clearInterval(n.updateIntervalId),n.willOpen=!1,n.onClose(t))},n.handleMouseOver=function(t){var e=t.target;n.isVisible(e)&&!f(e)&&e!==n.state.targetElement&&n.showToolTip(t)},n.handleBodyMousemove=function(t){n.top=t.clientY,n.left=t.clientX},n.onClose=function(t){a(n.props.onClose,t,n,void 0),n.setState({targetElement:null,open:!1,title:""})},n.setUpdateInterval=function(){n.props.updateInterval&&(n.updateIntervalId=setInterval(n.onIntervalUpdate,n.props.updateInterval))},n.onIntervalUpdate=function(){var t=n.state.targetElement;t&&(null===t.parentElement?n.onClose({target:t}):n.showToolTip({target:t}))},n.position=function(t){var e,o=null!==(e=n.state.targetElement)?e.getBoundingClientRect():document.body.getBoundingClientRect();return{left:function(t,e,n,o,r){switch(r){case"bottom":case"top":return"pointer"===o?t-e/2:n.left-e/2+n.width/2;case"left":return"pointer"===o?t-e-p:n.left-e-p;case"right":return"pointer"===o?t+p:n.right+p;default:return"pointer"===o?t<window.screen.availWidth/2?t-p:t-e+p:t<window.screen.availWidth/2?n.left:n.right-e}}(n.left,t.offsetWidth,o,n.props.anchorElement,n.props.position),top:function(t,e,n,o,r){switch(r){case"bottom":return"pointer"===o?t+c:e.bottom+c;case"left":case"right":return"pointer"===o?t-n/2:e.top-n/2+e.height/2;case"top":return"pointer"===o?t-n-c:e.top-n-c;default:return"pointer"===o?t<window.innerHeight/2?t+p:t-n-p:t<window.innerHeight/2?e.bottom+c:e.top-n-c}}(n.top,o,t.offsetHeight,n.props.anchorElement,n.props.position)}},n.getTitle=function(t){for(;t;){if(null!==t.getAttribute("title")||t.titleExpando)return{title:t.getAttribute("title")||t.titleExpando,element:t};t=n.props.parentTitle&&t.parentElement||null}return{title:"",element:t}},n.calloutClassName=function(){switch(n.props.position){case"bottom":return"k-callout k-callout-n";case"left":return"k-callout k-callout-e";case"right":return"k-callout k-callout-w";case"top":return"k-callout k-callout-s";default:return n.top<window.innerHeight/2?"k-callout k-callout-n":"k-callout k-callout-s"}},n.getCurrentZIndex=function(){return n.context?n.context:100},e=d,void 0!==o?r(e):("License activation failed for ".concat(e.name,"\n"),"See ".concat(e.licensingDocsUrl," for more information.\n")),n}return h(u,s),u.prototype.componentDidMount=function(){document&&document.body.addEventListener("mousemove",this.handleBodyMousemove)},u.prototype.componentWillUnmount=function(){clearTimeout(this.openTimeoutId),clearInterval(this.updateIntervalId),document&&document.body.removeEventListener("mousemove",this.handleBodyMousemove)},u.prototype.componentDidUpdate=function(){this.props.open&&this.props.targetElement&&this.showToolTip({target:this.props.targetElement})},u.prototype.render=function(){var n=this;if(this.props.children){var o=this.props,r=o.children,i=v(o,["children"]),a=null;return t.createElement("div",{onMouseOver:function(t){a&&a.handleMouseOver(t)},onMouseOut:function(t){a&&a.handleMouseOut(t)}},t.createElement(u,m({ref:function(t){return a=t}},i)),r)}if(!1===this.props.open)return null;var s=this.state.targetElement,p=this.getCurrentZIndex();return s&&this.state.title&&s.ownerDocument&&e.createPortal(t.createElement("div",{ref:function(t){if(t){var e;if(n.props.onPosition){var o={element:t,targetElement:n.state.targetElement,mouseTop:n.top,mouseLeft:n.left,anchorElement:n.props.anchorElement,position:n.props.position,target:n,syntheticEvent:null,nativeEvent:null};e=n.props.onPosition.call(void 0,o)}else e=n.position(t);t.style.left=e.left+"px",t.style.top=e.top+"px"}},className:l("k-animation-container","k-animation-container-fixed","k-animation-container-shown",this.props.className),style:m({zIndex:p},this.props.style),tabIndex:0},t.createElement("div",{className:"k-child-animation-container"},t.createElement("div",{id:this.props.id,role:"tooltip",className:l("k-tooltip",this.props.tooltipClassName),style:m({position:"relative"},this.props.tooltipStyle)},t.createElement("div",{className:"k-tooltip-content"},this.props.content&&t.createElement(this.props.content,{title:this.state.title,target:this.state.targetElement})||this.state.title),this.props.showCallout&&t.createElement("div",{ref:function(t){t&&(t.className=n.calloutClassName(),"auto"===n.props.position&&(n.left<window.screen.availWidth/2?t.style.left=n.props.setCalloutOnPositionAuto||"25%":t.style.left=n.props.setCalloutOnPositionAuto||"75%"))}})))),this.props.appendTo?this.props.appendTo:s.ownerDocument.body)},u.prototype.showToolTip=function(t){var e=this;clearTimeout(this.openTimeoutId),clearInterval(this.updateIntervalId),t.target.hasChildNodes()&&t.target.childNodes.forEach((function(e){"title"===e.nodeName&&(t.target.titleExpando=e.innerHTML,e.remove())}));var n=this.props.targetElement||t.target,o=this.getTitle(n);o.title?(o.element&&(o.element.titleExpando=o.title,o.element.title=""),this.willOpen=!0,this.props.openDelay?this.openTimeoutId=window.setTimeout((function(){e.willOpen&&e.setState({targetElement:n,open:!0,title:o.title},e.setUpdateInterval)}),this.props.openDelay):this.setState({targetElement:n,open:!0,title:o.title},this.setUpdateInterval),this.state.title!==o.title&&a(this.props.onOpen,t,this,void 0)):this.state.open&&this.onClose(t)},u.prototype.isVisible=function(t){return!this.props.filter||this.props.filter(t)},u.propTypes={anchorElement:n.oneOf(["pointer","target"]),content:n.func,filter:n.func,openDelay:n.number,position:n.oneOf(["right","left","top","bottom","auto"]),updateInterval:n.number},u.defaultProps={anchorElement:"pointer",openDelay:400,position:"auto",showCallout:!0,parentTitle:!1},u.contextType=i,u}(t.PureComponent);export{g as T};
