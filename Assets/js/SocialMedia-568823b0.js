var e=Object.defineProperty,a=(a,s,t)=>(((a,s,t)=>{s in a?e(a,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[s]=t})(a,"symbol"!=typeof s?s+"":s,t),t);import{j as s}from"./pdf-editor-be9d2bd2.js";import{r as t}from"./react-vendor-379f659a.js";import{N as l}from"./NewCharts-e0e49dc6.js";import{B as i}from"./BootstrapDropdown-f79019e1.js";import{z as n,M as r,E0 as o,ep as d}from"./index-75225e0a.js";import{RSErrorPopup as c}from"./RSConfirmAlert-c9e1da8b.js";import{R as m}from"./RTabbar-119e28fb.js";import{Y as u,I as h,J as p,K as x,L as v,M as g,N as j,O as b,aG as N}from"./Colors-8a9fdcf2.js";import{H as y,O as f}from"./Skeleton-e3c7c022.js";import{a as k,S as w}from"./SkeletonTable-f73684ed.js";import"./charts-f2096496.js";import{c as D}from"./chart-clock-modified-749bb0de.js";import{i as C}from"./utils-16c7e021.js";import{D as L,d as I,e as S}from"./index-ea0ef9a3.js";import{H as B,a as H}from"./Constants-ded4990e.js";import{K as A}from"./index-44141e50.js";import{R as F,a as E}from"./ui-a5a97ebf.js";import"./map-99306e6f.js";import"./kendo-5d73125a.js";import"./drag-drop-4af74c4a.js";import"./RSIcon-40715e67.js";import"./constants-82903eb8.js";import"./get-4aa85b1a.js";class M extends t.Component{constructor(){super(...arguments),a(this,"state",{tabEngagementIndex:0,data:null,dropdownSelectedItem:this.props.selected,expandEnable:!1}),a(this,"componentDidMount",(e=>{this.setState({data:this.props.data})})),a(this,"componentDidUpdate",(e=>{e.data!==this.props.data&&this.setState({data:this.props.data})}))}render(){var e,a,t,i,n,r,o,d,c,u,h,p;return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"portlet-container portlet-md "+(this.state.expandEnable?"expand-full-view":""),children:[s.jsxs("div",{className:"portlet-header",children:[s.jsx("h4",{children:"Engagement"}),s.jsx("div",{className:"p-nav-right",children:s.jsx(m,{defaultSelectedItem:this.state.tabEngagementIndex,defaultClass:"",dynamicTab:"mini marginB0",activeClass:"active",tabData:W,callBack:(e,a)=>{this.setState({tabEngagementIndex:a})}})})]}),this.state.data?s.jsx(s.Fragment,{children:s.jsx("div",{className:"portlet-body",children:0===this.state.tabEngagementIndex?(null==(e=this.state.data)?void 0:e.engagementOverAllData)&&(null==(t=null==(a=this.state.data)?void 0:a.engagementOverAllData)?void 0:t.categories)&&(null==(n=null==(i=this.state.data)?void 0:i.engagementOverAllData)?void 0:n.series)&&void 0!==(null==(r=this.state.data)?void 0:r.engagementOverAllData)?s.jsxs("div",{className:"portlet-chart",children:[s.jsx(l,{options:T(null==(d=null==(o=this.state)?void 0:o.data)?void 0:d.engagementOverAllData,this.state.dropdownSelectedItem.channelName)}),s.jsx("div",{className:"expand-icon-wrap",onClick:()=>{this.setState({expandEnable:!this.state.expandEnable})},children:s.jsx("i",{className:(this.state.expandEnable?"icon-rs-arrow-left-mini":"icon-rs-arrow-right-medium")+" white"})})]}):s.jsxs(s.Fragment,{children:[s.jsx(k,{}),s.jsx(y,{})]}):(null==(u=null==(c=this.state.data)?void 0:c.engagementFirst24Hrs)?void 0:u.length)?s.jsxs("div",{className:"portlet-chart",children:[s.jsx(l,{options:O(null==(p=null==(h=this.state)?void 0:h.data)?void 0:p.engagementFirst24Hrs,this.state.dropdownSelectedItem.channelName)}),s.jsx("div",{className:"expand-icon-wrap",onClick:()=>{this.setState({expandEnable:!this.state.expandEnable})},children:s.jsx("i",{className:(this.state.expandEnable?"icon-rs-arrow-left-mini":"icon-rs-arrow-right-medium")+" white"})})]}):s.jsxs(s.Fragment,{children:[s.jsx(k,{}),s.jsx(y,{})]})})}):s.jsx(s.Fragment,{children:s.jsx(y,{})})]})})}}const W=[{id:1001,text:"Overall"},{id:1002,text:"First 24 hrs"}],T=e=>{var a,s,t;return{chart:{type:"areaspline",className:"chart-line-animate x-axis-labels-performance-del"},title:{text:""},xAxis:{title:{text:""},categories:null==(a=null==e?void 0:e.categories)?void 0:a.map((e=>{let a=new Date(e).toDateString().split(" ");var s,t,l;return l=(s=a[2])%100,(1==(t=s%10)&&11!=l?s+"st":2==t&&12!=l?s+"nd":3==t&&13!=l?s+"rd":s+"th")+" "+a[1]})),labels:{rotation:0}},yAxis:{title:{text:""}},symbolRadius:0,plotOptions:{series:{marker:{fillColor:null,lineColor:null,lineWidth:1,radius:3,symbol:"circle"}}},legend:{enabled:!0},series:[{marker:{lineColor:u,fillColor:"white",radius:3,lineWidth:2},name:"Clicks",lineWidth:1,color:u,data:null==(t=null==(s=null==e?void 0:e.series[0])?void 0:s.datas)?void 0:t.map((e=>e||0))}]}},O=(e,a)=>({chart:{type:"areaspline",className:"chart-line-animate x-axis-labels-performance-del"},title:{text:""},xAxis:{title:{text:""},categories:null==e?void 0:e.map((e=>`${e.hr} hrs`)),labels:{rotation:0}},yAxis:{title:{text:""}},symbolRadius:0,legend:{enabled:!0},series:[{marker:{lineColor:u,fillColor:"white"},name:"Clicks",lineWidth:1,color:u,data:null==e?void 0:e.map((e=>e.count))}]}),R=e=>{var a,i;const[n,r]=C({tabDaysIndex:0,socialMediaData:e.socialMediaData,byHoursChart:e.byHoursChart});return t.useEffect((()=>{r((a=>{a.socialMediaData=e.socialMediaData,a.byHoursChart=e.byHoursChart}))}),[e]),s.jsx(s.Fragment,{children:s.jsxs("div",{className:"portlet-container portlet-md",children:[s.jsxs("div",{className:"portlet-header",children:[s.jsx("h4",{children:"Usage behavior"}),s.jsx("div",{className:"p-nav-right",children:s.jsx(m,{defaultSelectedItem:n.tabDaysIndex,defaultClass:"",dynamicTab:"mini marginB0",activeClass:"active",tabData:P,callBack:(e,a)=>{r((e=>{e.tabDaysIndex=a}))}})})]}),s.jsx("div",{className:"portlet-body",children:0===n.tabDaysIndex?e.isLoading?s.jsx(y,{}):(null==(i=null==(a=n.socialMediaData)?void 0:a.byDays)?void 0:i.length)?s.jsx($,{data:n.socialMediaData}):s.jsxs(s.Fragment,{children:[s.jsx(k,{}),s.jsx(y,{})]}):e.isLoading?s.jsx(y,{}):n.byHoursChart?s.jsxs("div",{className:"portlet-chart",children:[s.jsx("img",{className:"chart-clock-img",src:D,alt:"by hours"}),s.jsx(l,{options:n.byHoursChart})]}):s.jsxs(s.Fragment,{children:[s.jsx(k,{}),s.jsx(y,{})]})})]})})},P=[{id:1001,text:"By days"},{id:1002,text:"By hours"}],z={monday:h,tuesday:p,wednesday:x,thursday:v,friday:g,saturday:j,sunday:b},$=e=>s.jsx("div",{className:"portlet-chart",children:s.jsx(l,{id:234212,options:U(e.data)})}),U=e=>{var a,s,t;let l=null==(a=null==e?void 0:e.byDaysCount)?void 0:a.reduce(((e,a)=>e+Number(a.value)),0);return{chart:{type:"column",height:350},xAxis:{title:{text:""},categories:null==(s=null==e?void 0:e.byDays)?void 0:s.map((e=>e.name)),tickInterval:1},plotOptions:{column:{stacking:!1,colorByPoint:!0}},colors:null==e?void 0:e.byDays.map((e=>z[e.name.toLowerCase()])),tooltip:{formatter:function(){return`<span>${this.x}</span><br><span style="color:${this.points[0].color}">●</span> Value: <span>${this.y.toFixed(0)}%</span>`}},yAxis:{title:{text:""},labels:{formatter:function(){return this.axis.defaultLabelFormatter.call(this)+"%"}},max:100},series:[{showInLegend:!1,name:"Communication period",pointWidth:27,data:null==(t=null==e?void 0:e.byDaysCount)?void 0:t.map((e=>Number(e.value)/l*100)),legendIndex:0,states:{inactive:{opacity:1},hover:{enabled:!1}}}]}},G=e=>{var a,m,u,h,p,x,v,g,j,b,N,D,W,T,O,P,z,$,U,G,J,Q,X,Z,ee,ae,se,te,le,ie,ne,re,oe,de,ce,me,ue,he,pe,xe,ve,ge,je,be,Ne,ye,fe,ke,we,De,Ce,Le,Ie,Se,Be,He,Ae,Fe,Ee,Me,We,Te,Oe,Re,Pe,ze,$e,Ue,Ge,Ke,_e,Ve,Ye;const qe=t.useContext(n),[Je,Qe]=C({isLoading:!0,sankeyPortletFullView:!1,tabReachIndex:0,tabEngagementIndex:0,tabDaysIndex:0,tabDeviceIndex:0,skip:0,take:10,dropdownSelectedItem:e.channels[0],dropdownListData:null,data:null,saveError:!1,byHoursChart:null});t.useEffect((()=>{var a;window.scrollTo(0,0),Qe((a=>{a.dropdownListData=e.channels,a.dropdownSelectedItem=e.channels[0]})),Ze(null==(a=e.channels[0])?void 0:a.channelId)}),[e.channelId]);const Xe=()=>{const a={campaignId:e.campaignId,channelType:Je.dropdownSelectedItem.channelId,channelId:e.channelId,blastGuid:e.guiId};return Qe((e=>{e.isLoading=!0,e.data=null})),a},Ze=t.useCallback((a=>{r({path:o,params:Xe(),sessionOut:qe.globalStateData.setSessionOutData,ok:a=>{(a=>{var s;let t={};a.status?(t={isLoading:!1},ea((null==(s=a.data)?void 0:s.mediaDetails)||{}),e.updateDownloadStatus(!0)):(t={saveError:!0,isLoading:!1},e.updateDownloadStatus(!1)),Qe((e=>{e.isLoading=t.isLoading,e.saveError=t.saveError}))})(a)},fail:a=>{Qe((e=>{e.isLoading=!1})),e.updateDownloadStatus(!1)}})})),ea=e=>{const a=["pinterestDetail","twitterDetail","linkedInDetails","whatsappDetail","facebookDetails","instagramDetail","lineDetails"];null==a||a.map((a=>{if(e[a]){let s=e[a];null==s||s.linkClicks}})),aa(e),Qe((a=>{a.data=e,a.linkClicks=null==e?void 0:e.linkClicks}))},aa=e=>{var a;let s=e;if(s.byHoursCount&&(null==(a=s.byHoursCount)?void 0:a.length)){let e=0,a=[],r=s.byHoursCount.map((e=>({hour:e.name.split(" ")[0],hourWiseCount:e.value})));r.forEach((a=>{e+=Number(a.hourWiseCount)})),a=r.sort(((e,a)=>Number(a.hourWiseCount)-Number(e.hourWiseCount))).map(((e,a)=>{if(a<4)return e})).filter(Boolean),a.forEach((e=>e.createdDate=new Date((e.createdDate||new Date)+" CDT").toLocaleString().replace(/,/g,"")));const o=a,d=null==o?void 0:o.reduce(((e,a)=>e+Number(a.hourWiseCount)),0),c=o[0],m=o[0];let u=0;o.forEach((e=>{u+=Number(e.hourWiseCount)}));let h=`of the visitors engage during ${c.hour-1>=12?c.hour-1-12==0?"12 PM":c.hour-1-12+" PM":c.hour-1==0?"12 AM":c.hour-1+" AM"} to ${m.hour>=12?m.hour-12==0?"12 PM":m.hour-12+" PM":0===m.hour?"12 AM":m.hour+" AM"}`;var t=new Date(o[0].createdDate);t.setHours(t.getHours()-1),new Date(o[0].createdDate);var l=new Date;l.setHours(Number(o[0].hour)-1),l=l.getHours();var i=new Date;i.setHours(Number(o[0].hour));let p={chart:{type:"gauge",plotBackgroundColor:null,plotBackgroundImage:null,plotBorderWidth:0,plotShadow:!1,backgroundColor:null},title:{text:null},credits:{enabled:!1},plotOptions:{gauge:{pivot:{radius:0},dial:{radius:"118%",topWidth:18,baseWidth:1,rearLength:"-93%",baseLength:"93%",backgroundColor:"#0c8aff"}}},pane:{startAngle:0,endAngle:360,size:"80%",innerSize:"50%",background:[{backgroundColor:{linearGradient:{x1:0,y1:1,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:1,outerRadius:"0%"},{borderColor:"transparent"}]},yAxis:{min:0,max:24,minorTickInterval:"3",minorTickWidth:1,minorTickLength:10,minorTickPosition:"inside",minorTickColor:"#ccc",tickPixelInterval:30,tickWidth:2,tickPosition:"inside",tickLength:10,tickColor:"#ccc",labels:{step:3,rotation:"90",style:{"font-size":"14px"}},title:{text:""},plotBands:[{from:0,to:24,color:"#e8e8ea",outerRadius:"105%",thickness:"4%"}]},tooltip:{enabled:!1},series:[{name:"24 Hour",data:[l,i=i.getHours()],tooltip:{valueSuffix:""}}]};try{let e=new Date;e.setHours(Number(o[0].hour)-1),e=e.getHours();let a=new Date;a.setHours(Number(o[0].hour)),a=a.getHours(),p.yAxis.plotBands.push({from:e,to:a,color:"#66ab37",outerRadius:"105%",thickness:"4%"})}catch(n){}try{let e=new Date;e.setHours(Number(o[1].hour)-1),e=e.getHours();let a=new Date;a.setHours(Number(o[1].hour)),a=a.getHours(),p.yAxis.plotBands.push({from:e,to:a,color:"#98cc03",outerRadius:"105%",thickness:"4%"})}catch(n){}try{let e=new Date;e.setHours(Number(o[2].hour)-1),e=e.getHours();let a=new Date;a.setHours(Number(o[2].hour)),a=a.getHours(),p.yAxis.plotBands.push({from:e,to:a,color:"#b2d943",outerRadius:"105%",thickness:"4%"})}catch(n){}try{let e=new Date;e.setHours(Number(o[3].hour)-1),e=e.getHours();let a=new Date;a.setHours(Number(o[3].hour)),a=a.getHours(),p.yAxis.plotBands.push({from:e,to:a,color:"#b6d759",outerRadius:"105%",thickness:"4%"})}catch(n){}Qe((e=>{e.byHoursChart=p,e.usage_by_hour_web=h,e.hourPeak=(Number(o[0].hourWiseCount)/d*100).toFixed(0)}))}},sa=()=>s.jsx(c,{headerTitle:"Sorry",subtitle:"Report is not generated properly. Please try again after sometime...",primaryButtonText:"OK",buttonClicked:()=>{Qe((e=>{e.saveError=!1}))}}),ta=()=>{var e,a,t,l,n;return s.jsx(E,{children:s.jsxs("div",{className:`tabs-sublevel mb0 tab-bg-${K[null==(a=null==(e=null==Je?void 0:Je.dropdownSelectedItem)?void 0:e.channelName)?void 0:a.toLowerCase().replace(/ /g,"")]}`,children:[s.jsx("div",{className:"tabs-sub-left",children:(null==(t=null==Je?void 0:Je.dropdownListData)?void 0:t.length)&&s.jsx(s.Fragment,{children:s.jsx(i,{data:Je.dropdownListData,defaultItem:null==Je?void 0:Je.dropdownListData[0].channelName,image:`${K[null==(n=null==(l=null==Je?void 0:Je.dropdownSelectedItem)?void 0:l.channelName)?void 0:n.toLowerCase().replace(/ /g,"")]}`,className:"fs18-btn position-relative mr15",fieldKey:"channelName",onSelect:e=>{Qe((a=>{a.dropdownSelectedItem=e})),Ze(null==e?void 0:e.channelId)}})})}),s.jsx("div",{className:"tabs-sub-right click-on"})]})})};return s.jsxs(s.Fragment,{children:[!0===Je.saveError&&s.jsx(sa,{}),s.jsx(F,{children:s.jsx(ta,{})}),s.jsxs("div",{className:"d-flex align-items-center",children:[s.jsx("h3",{className:"marginY15",children:"Overview"}),s.jsx("small",{className:"ml10",children:(null==(a=Je.data)?void 0:a.lastUpdatedDateTime)&&"0001-01-01T00:00:00"!==(null==(m=Je.data)?void 0:m.lastUpdatedDateTime)?s.jsxs(s.Fragment,{children:["(As on:"," ",d(null==(u=Je.data)?void 0:u.lastUpdatedDateTime,null==(h=Je.data)?void 0:h.lastUpdatedDateTime),")"]}):""})]}),s.jsxs(F,{children:[s.jsx(E,{children:s.jsx("div",{className:"details-box",children:Je.isLoading?s.jsx(f,{}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"detail-start d-flex align-items-center marginB23 click-off",children:[s.jsx("div",{className:"d-flex align-items-center",children:s.jsx("img",{src:L,alt:"Reach",width:65,height:65})}),s.jsxs("div",{className:"marginL23",children:[s.jsx("h4",{className:"marginB0",children:"Reach"}),s.jsx("h3",{className:"marginB0 font-xl fontM",children:"0"}),s.jsx("div",{className:"detail-center",children:s.jsx("ul",{children:s.jsxs("li",{children:[s.jsx("small",{children:"Delivered"}),s.jsx("span",{children:"0"})]})})})]})]}),s.jsxs("div",{className:"detail-end bgBlue-light d-flex justify-content-between align-items-center",children:[s.jsx("p",{className:"marginB0",children:(null==(p=Je.data)?void 0:p.prevDisplayLabel)||"Previous day comparison"}),s.jsx("div",{className:"h30",children:s.jsx("span",{children:"NA"})})]})]})})}),s.jsx(E,{children:s.jsx("div",{className:"details-box",children:Je.isLoading?s.jsx(f,{}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"detail-start d-flex align-items-center marginB23",children:[s.jsx("div",{className:"d-flex align-items-center",children:s.jsx("img",{src:I,alt:"Engagement",width:85,height:85})}),s.jsxs("div",{className:"marginL23",children:[s.jsx("h4",{className:"marginB0",children:"Engagement"}),s.jsx("h3",{className:"marginB0 font-xl fontM",children:(null==(v=null==(x=Je.data)?void 0:x.engagement)?void 0:v.count)||0}),s.jsx("div",{className:"detail-center",children:s.jsx("ul",{children:s.jsxs("li",{children:[s.jsx("small",{children:"Total clicks"}),s.jsx("span",{children:(null==(j=null==(g=Je.data)?void 0:g.engagement)?void 0:j.clicks)||0}),s.jsx("small",{children:"%"})]})})})]})]}),s.jsxs("div",{className:"detail-end bgOrange-medium d-flex justify-content-between align-items-center",children:[s.jsx("p",{className:"marginB0",children:(null==(b=Je.data)?void 0:b.prevDisplayLabel)||"Previous day comparison"}),s.jsxs("div",{className:"h30",children:[s.jsx("span",{children:0===Number(null==(D=null==(N=Je.data)?void 0:N.engagement)?void 0:D.previousWeekComparison)||null===Number(null==(T=null==(W=Je.data)?void 0:W.engagement)?void 0:T.previousWeekComparison)?"NA":null==(P=null==(O=Je.data)?void 0:O.engagement)?void 0:P.previousWeekComparison}),0===Number(null==($=null==(z=Je.data)?void 0:z.engagement)?void 0:$.previousWeekComparison)||null===Number(null==(G=null==(U=Je.data)?void 0:U.engagement)?void 0:G.previousWeekComparison)||"NA"===(null==(Q=null==(J=Je.data)?void 0:J.engagement)?void 0:Q.previousWeekComparison)?null:s.jsx("i",{className:`icon-rs-arrow-${(null==(X=Je.data)?void 0:X.isLowEngPerformance)?"down":"up"}-medium icons-md white`})]})]})]})})}),s.jsx(E,{children:s.jsx("div",{className:"details-box",children:Je.isLoading?s.jsx(f,{}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"detail-start d-flex align-items-center marginB23",children:[s.jsx("div",{className:"d-flex align-items-center",children:s.jsx("img",{src:S,alt:"Conversion",width:65,height:65})}),s.jsxs("div",{className:"marginL23",children:[s.jsx("h4",{className:"marginB0",children:"Conversion"}),s.jsx("h3",{className:"marginB0 font-xl fontM",children:(null==(ee=null==(Z=Je.data)?void 0:Z.conversion)?void 0:ee.count)||0}),s.jsx("div",{className:"detail-center",children:s.jsx("ul",{children:s.jsxs("li",{children:[s.jsx("small",{children:"Registration"}),s.jsx("span",{children:(null==(se=null==(ae=Je.data)?void 0:ae.conversion)?void 0:se.registration)||0}),s.jsx("small",{children:"%"})]})})})]})]}),s.jsxs("div",{className:"detail-end bgGreen-medium d-flex justify-content-between align-items-center",children:[s.jsx("p",{className:"marginB0",children:(null==(te=Je.data)?void 0:te.prevDisplayLabel)||"Previous day comparison"}),s.jsxs("div",{className:"",children:[s.jsx("span",{children:0===Number(null==(ie=null==(le=Je.data)?void 0:le.conversion)?void 0:ie.previousWeekComparison)||null===Number(null==(re=null==(ne=Je.data)?void 0:ne.conversion)?void 0:re.previousWeekComparison)?"NA":null==(de=null==(oe=Je.data)?void 0:oe.conversion)?void 0:de.previousWeekComparison}),0===Number(null==(me=null==(ce=Je.data)?void 0:ce.conversion)?void 0:me.previousWeekComparison)||null===Number(null==(he=null==(ue=Je.data)?void 0:ue.conversion)?void 0:he.previousWeekComparison)||"NA"===(null==(xe=null==(pe=Je.data)?void 0:pe.conversion)?void 0:xe.previousWeekComparison)?null:s.jsx("i",{className:`icon-rs-arrow-${(null==(ve=Je.data)?void 0:ve.isLowConvPerformance)?"down":"up"}-medium icons-md white`})]})]})]})})})]}),s.jsx(B,{}),s.jsxs(F,{md:12,children:[s.jsx(E,{md:8,children:s.jsx(M,{data:Je.data,selected:Je.dropdownSelectedItem})}),s.jsx(E,{md:4,children:s.jsxs("div",{className:"portlet-container keymetrics-portlet keymetrics-md",children:[s.jsx("h4",{children:"Key metrics"}),s.jsx("ul",{className:"keymetrics-list key-border",children:s.jsxs("li",{children:[s.jsx("h3",{children:(null==(je=null==(ge=Je.data)?void 0:ge.keyMetrics)?void 0:je.totalClicks)||0}),s.jsx("small",{children:"Total clicks"})]})}),s.jsx("ul",{className:"keymetrics-list keymetrics-theme",children:s.jsxs("li",{className:"bg-light-blue d-flex align-items-center",children:[s.jsx("h5",{className:"white paddingR5",children:"No. of devices "}),s.jsx("h3",{children:(null==(Ne=null==(be=Je.data)?void 0:be.keyMetrics)?void 0:Ne.noOfDevices)||0})]})}),s.jsxs("ul",{className:"keymetrics-list key-border paddingY15",children:[s.jsxs("li",{children:[s.jsx("h5",{className:"paddingB0",children:(null==(fe=null==(ye=Je.data)?void 0:ye.keyMetrics)?void 0:fe.topDevice)||0}),s.jsx("small",{children:"Top device"})]}),s.jsxs("li",{children:[s.jsx("h5",{className:"paddingB0",children:"IE"===(null==(we=null==(ke=Je.data)?void 0:ke.keyMetrics)?void 0:we.topBrowser)?"Edge":(null==(Ce=null==(De=Je.data)?void 0:De.keyMetrics)?void 0:Ce.topBrowser)||0}),s.jsx("small",{children:"Top browser"})]})]}),s.jsx("p",{className:"paddingL15 marginB5",children:"Top location of participants"}),s.jsx("ul",{className:"keymetrics-list keymetrics-theme",children:s.jsxs("li",{className:"bgGreen-medium",children:[s.jsxs("h3",{className:"white padding0",children:[(null==(Ie=null==(Le=Je.data)?void 0:Le.keyMetrics)?void 0:Ie.topLocationValue)||0,s.jsx("small",{children:"%"})]}),(null==(Be=null==(Se=Je.data)?void 0:Se.keyMetrics)?void 0:Be.topLocation)?s.jsxs("small",{children:["from ",null==(Ae=null==(He=Je.data)?void 0:He.keyMetrics)?void 0:Ae.topLocation]}):null]})})]})})]}),s.jsxs(F,{children:[s.jsx(E,{md:6,children:s.jsxs("div",{className:"portlet-container portlet-md",children:[s.jsx("div",{className:"portlet-header",children:s.jsx("h4",{children:"Conversion"})}),Je.isLoading?s.jsx(y,{}):(null==(Fe=Je.data)?void 0:Fe.conversionOverAllData)&&(null==(Me=null==(Ee=Je.data)?void 0:Ee.conversionOverAllData)?void 0:Me.categories)&&(null==(Te=null==(We=Je.data)?void 0:We.conversionOverAllData)?void 0:Te.series)&&void 0!==(null==(Oe=Je.data)?void 0:Oe.conversionOverAllData)?s.jsx(s.Fragment,{children:s.jsx("div",{className:"portlet-body",children:s.jsx("div",{className:"portlet-chart",children:(null==(Re=null==Je?void 0:Je.data)?void 0:Re.conversionOverAll)?s.jsx(l,{options:_(null==(Pe=null==Je?void 0:Je.data)?void 0:Pe.conversionOverAllData)}):s.jsxs(s.Fragment,{children:[s.jsx(k,{}),s.jsx(y,{})]})})})}):s.jsxs(s.Fragment,{children:[s.jsx(k,{}),s.jsx(y,{})]})]})}),s.jsx(E,{md:6,children:s.jsxs("div",{className:"portlet-container portlet-md",children:[s.jsx("div",{className:"portlet-header",children:s.jsx("h4",{children:"Browser"})}),Je.isLoading?s.jsx(y,{}):(null==($e=null==(ze=Je.data)?void 0:ze.byBrowser)?void 0:$e.length)?s.jsx(s.Fragment,{children:s.jsx("div",{className:"portlet-body",children:s.jsx("div",{className:"portlet-chart",children:Je.data&&s.jsx(l,{options:V(Je.data)})})})}):s.jsxs(s.Fragment,{children:[s.jsx(k,{}),s.jsx(y,{})]})]})})]}),s.jsxs(F,{children:[s.jsx(E,{md:6,children:s.jsxs("div",{className:"portlet-container portlet-md",children:[s.jsx("div",{className:"portlet-header",children:s.jsx("h4",{children:"Device"})}),Je.isLoading?s.jsx(y,{}):(null==(Ge=null==(Ue=Je.data)?void 0:Ue.byDevice)?void 0:Ge.length)?s.jsx(s.Fragment,{children:s.jsx("div",{className:"portlet-body",children:s.jsx("div",{className:"portlet-chart",children:Je.data&&s.jsx(l,{options:Y(Je.data)})})})}):s.jsxs(s.Fragment,{children:[s.jsx(k,{}),s.jsx(y,{})]})]})}),s.jsx(E,{md:6,children:s.jsx(R,{isLoading:Je.isLoading,socialMediaData:Je.data,byHoursChart:Je.byHoursChart})})]}),s.jsx(F,{children:s.jsxs(E,{children:[s.jsx(H,{}),s.jsx("div",{className:"portlet-container",children:Je.isLoading?s.jsx(w,{count:3,isError:!1}):(null==(_e=null==(Ke=Je.data)?void 0:Ke.linkClicks)?void 0:_e.length)?s.jsx(A,{data:Je.linkClicks,isDataStateRequired:!0,settings:{total:null==(Ve=Je.linkClicks)?void 0:Ve.length},pageable:(null==(Ye=Je.linkClicks)?void 0:Ye.length)>5,column:q}):s.jsx(w,{count:3,isError:!0})})]})})]})},K={facebook:"facebook",x:"twitter",linkedin:"linkedin",pinterest:"pinterest",whatsapp:"whatsapp",line:"line",instagram:"instagram"},_=e=>{var a,s,t;return{chart:{type:"areaspline",className:"chart-line-animate x-axis-labels-performance-del"},title:{text:""},xAxis:{title:{text:""},categories:null==(a=null==e?void 0:e.categories)?void 0:a.map((e=>{let a=new Date(e).toDateString().split(" ");var s,t,l;return l=(s=a[2])%100,(1==(t=s%10)&&11!=l?s+"st":2==t&&12!=l?s+"nd":3==t&&13!=l?s+"rd":s+"th")+" "+a[1]})),labels:{rotation:0}},yAxis:{title:{text:""}},symbolRadius:0,legend:{enabled:!0},series:[{marker:{lineColor:"#b3d942",fillColor:"white"},name:"Clicks",color:N,lineWidth:1,data:null==(t=null==(s=null==e?void 0:e.series[0])?void 0:s.datas)?void 0:t.map((e=>e||0))}]}},V=e=>{var a,s;let t=0;return null==(a=null==e?void 0:e.byBrowser)||a.map((e=>{t+=parseInt(e.value)})),{chart:{type:"pie"},plotOptions:{pie:{}},legend:{itemMarginTop:15,itemMarginBottom:0},tooltip:{enabled:!0,formatter:function(){let e=Number(this.point.count);return this.point.name+'<br><span style="color:'+this.point.color+'">●</span> '+this.series.name+": <b>"+e+"</b></span>"}},series:[{name:"Total",showInLegend:!0,borderWidth:2,height:"100%",innerSize:"50%",size:"100%",data:null==(s=null==e?void 0:e.byBrowser)?void 0:s.map(((e,a)=>({name:"IE"===e.name?"Edge":e.name,y:parseFloat(e.value)/t*100,legendIndex:a,count:e.value}))),shadow:!1,dataLabels:{enabled:!0,connectorShape:"crookedLine",crookDistance:"100%",softConnector:!1}},{borderWidth:0,innerSize:"89%",size:"53%",data:[{color:"rgba(0, 0, 0, 0.15)",y:100}],shadow:!1,showInLegend:!1,enableMouseTracking:!1,dataLabels:{enabled:!1}}]}},Y=e=>{var a,s;let t=0;return null==(a=null==e?void 0:e.byDevice)||a.map((e=>{t+=parseInt(e.value)})),{chart:{type:"pie"},plotOptions:{pie:{startAngle:-90}},legend:{itemMarginTop:15,itemMarginBottom:0},tooltip:{enabled:!0,formatter:function(){let e=Number(this.point.count);return this.point.name+'<br><span style="color:'+this.point.color+'">●</span> '+this.series.name+": <b>"+e+"</b></span>"}},series:[{name:"Total",showInLegend:!0,borderWidth:2,height:"100%",innerSize:"50%",size:"100%",data:null==(s=null==e?void 0:e.byDevice)?void 0:s.map(((e,a)=>({name:e.name,y:parseFloat(e.value)/t*100,count:e.value}))),shadow:!1,dataLabels:{enabled:!0,connectorShape:"crookedLine",crookDistance:"100%",softConnector:!1}},{borderWidth:0,innerSize:"89%",size:"53%",data:[{color:"rgba(0, 0, 0, 0.15)",y:100}],shadow:!1,showInLegend:!1,enableMouseTracking:!1,dataLabels:{enabled:!1}}]}},q=[{title:"S.No",field:"sNo",filter:"text"},{title:"Link (URL)",field:"url"},{title:"Total clicks",field:"totalClicks"}];export{G as default};
