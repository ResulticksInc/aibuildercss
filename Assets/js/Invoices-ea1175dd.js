var e=Object.defineProperty,t=(t,a,s)=>(((t,a,s)=>{a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s})(t,"symbol"!=typeof a?a+"":a,s),s);import{j as a,d as s,E as i}from"./pdf-editor-be9d2bd2.js";import{R as l,w as n,r as o,i as d,k as r,S as c,j as m}from"./react-vendor-379f659a.js";import{p as u}from"./kendo-5d73125a.js";import{aC as h,az as x,ar as p,z as j,M as v,Co as g,ad as f,al as b,ea as N,Cp as w,Cq as D,X as y,U as S,dW as C,aS as I,B as k,E as A,Y as T,qw as L,Cr as z}from"./index-75225e0a.js";import{b as P}from"./CompanyUserList-6f3010b3.js";import"./constants-82903eb8.js";import{S as F}from"./SkeletonTable-f73684ed.js";import{K as E}from"./index-44141e50.js";import"./RSDropdowns-9012b9eb.js";import{q as $}from"./utils-16c7e021.js";import{r as q}from"./react-router-dom.min-6f8d67fa.js";import{R as B}from"./RTabbar-119e28fb.js";import{L as M}from"./LayoutPageWrapper-c659fc07.js";import{RSErrorPopup as R}from"./RSConfirmAlert-c9e1da8b.js";import{R as U}from"./RSIcon-40715e67.js";import"./RSKendoDropdown-89bac735.js";import{R as G}from"./RSCheckbox-6c51a528.js";import"./style-a86a43a5.js";import{q as O}from"./inputLimit-ce03b0f6.js";import{H as W}from"./HPIconDropdownComponent-98e04ced.js";import{C as V,M as H}from"./ui-a5a97ebf.js";import{C as X}from"./CompanyListDropdown-aceaadaa.js";import"./drag-drop-4af74c4a.js";import"./RSPhoneInput-a07ff6f4.js";import"./RSFormGroup-2e23951f.js";import"./FormListWrapper-0cd539ec.js";import"./FormLabel-7c8c6237.js";import"./FormFieldIcon-388bc468.js";import"./RSSwitch-b5eda9e2.js";import"./constantObject-ca27cf51.js";import"./get-4aa85b1a.js";const K="/assets/svg/BrandLogo-96e77989.svg",Y=[{field:"invoiceNo",dir:"asc"}];let _=class extends l.Component{constructor(){super(...arguments),t(this,"state",{sort:Y,getUpdateAccessData:!1,permissionView:!1})}componentDidMount(){let e=!1,t=!1;const a=h("Consumptions");e=1==(null==a?void 0:a.accessUpdateData),1==(null==a?void 0:a.accessViewData)&&(t=!0),this.setState({getUpdateAccessData:e,permissionView:t})}render(){return a.jsx("td",{children:a.jsx(x,{className:"float-end",children:a.jsx(p,{icon:"icon-rs-eye-medium",iconClass:this.state.permissionView?"click-on":"click-off",size:"md",tooltip:"View",onClick:()=>{this.props.history.push({pathname:`${this.props.url}/invoice`,search:`?iId=${this.props.dataItem.invoiceId}`})}})})})}};const Q=(e,t)=>({result:u(t.reverse().slice(0),e),dataState:e});class Z extends o.Component{constructor(){super(...arguments),t(this,"initialDataState",{skip:0,take:5}),t(this,"state",{result:null,sort:Y,dataState:Q(this.initialDataState,[]).dataState,invoiceList:[],listError:!1}),t(this,"dataStateChange",(e=>{this.setState({result:u(this.state.invoiceList,e.dataState),dataState:e.dataState})})),t(this,"CustomActionCell",(e=>{const{match:t,history:s}=this.props;return a.jsx(_,{...e,history:s,url:t.url})})),t(this,"componentDidMount",(e=>{v({path:g,params:{clientId:f()},sessionOut:this.context.globalStateData.setSessionOutData,ok:e=>{var t;if(e.status&&e.data&&(null==(t=e.data)?void 0:t.length)>0){let t=e.data,a=Q({skip:0,take:5},e.data);this.setState({result:a.result.data.reverse(),invoiceList:e.data.reverse(),listError:0===t.length})}else this.setState({listError:!0})},fail:e=>{this.setState({listError:!0})}})})),t(this,"CustomDateCell",(e=>a.jsx("td",{className:"text-start",children:b(e.dataItem.invoiceDate,!1)}))),t(this,"CustomDueDateCell",(e=>a.jsx("td",{className:"text-start",children:b(e.dataItem.dueDate,!1)}))),t(this,"PayModeCell",(e=>a.jsx("td",{className:"text-start",children:"Credit card"}))),t(this,"ColumnMenu",(e=>a.jsx("div",{children:a.jsx(P,{dropdownData:te,dropdownDataDate:ae,enable:!0,jusBool:!0,propsData:e,dataa:this.state.invoiceList,onDataUpdate:e=>{let t=Q(this.state.dataState,e.Data);this.setState({result:t.result.data})},onClearDataUpdate:e=>{let t=Q(this.state.dataState,e.Data);this.setState({result:t.result.data})}})})))}render(){var e;return a.jsx(a.Fragment,{children:(null==(e=this.state.invoiceList)?void 0:e.length)>0?a.jsx(a.Fragment,{children:a.jsx(E,{config:{take:5,skip:0},data:this.state.invoiceList,isDataStateRequired:!1,settings:{total:this.state.invoiceList.length},pageable:this.state.invoiceList.length>5,column:[{field:"invoiceNo",filter:"text",title:"Invoice number",cell:e=>{var t;return a.jsx("td",{children:a.jsx("span",{children:null==(t=e.dataItem)?void 0:t.invoiceNo})})}},{field:"invoiceDateTime",title:"Invoice date",cell:this.CustomDateCell},{field:"totalAmount",title:"Amount (USD)",cell:ee},{field:"paymentMode",filter:"text",title:"Payment mode",cell:this.PayModeCell},{field:"dueDate",title:"Due date",cell:this.CustomDueDateCell},{field:"action",title:"Action",width:"120",cell:this.CustomActionCell}]})}):a.jsx("div",{className:"box-design pb10",children:a.jsx(F,{count:3,isError:this.state.listError})})})}}t(Z,"contextType",j);const J=n(Z),ee=e=>a.jsx("td",{className:"text-end",children:`$${N(e.dataItem.totalAmount)}`});var te=[{name:"Contains"},{name:"Is equal to"},{name:"Is not equal to"}],ae=[{name:"Less than or equal to"},{name:"Greater than or equal to"}];const se=[{field:"invoiceNo",dir:"asc"}],ie=e=>{const t=q.useHistory(),[s,i]=o.useState({sort:se,getUpdateAccessData:!1,permissionView:!1});return o.useEffect((()=>{{let e=!1,t=!1;const a=h("Consumptions");e=1==(null==a?void 0:a.accessUpdateData),1==(null==a?void 0:a.accessViewData)&&(t=!0),i((a=>({...a,getUpdateAccessData:e,permissionView:t})))}}),[]),a.jsx("td",{children:a.jsx(x,{className:"float-end",children:a.jsx(p,{icon:"icon-rs-eye-medium",iconClass:s.permissionView?"click-on":"click-off",size:"md",tooltip:"View",onClick:()=>{t.push(`${e.url}/consumable-invoice`,{consumableId:e.dataItem.consumptionInvoiceId})}})})})},le=(e,t)=>({result:u(t.slice(0),e),dataState:e}),ne=n((({history:e,match:t})=>{const s=o.useContext(j),[i,l]=o.useState({result:null,sort:se,dataState:le({skip:0,take:5},[]).dataState,invoiceList:[],listError:!1});return o.useEffect((()=>{v({path:w,params:{clientId:f()},sessionOut:s.globalStateData.setSessionOutData,ok:e=>{if(e.status&&e.data&&e.data.length>0){let t=e.data.filter((e=>null!==e.invoiceNo)),a=le({take:5,skip:0},t);l((e=>({...e,result:a.result,invoiceList:t,listError:0===t.length})))}else l((e=>({...e,listError:!0})))},fail:e=>{l((e=>({...e,listError:!0})))}})}),[]),a.jsx(a.Fragment,{children:i.invoiceList.length>0?a.jsx(a.Fragment,{children:a.jsx(E,{config:{take:5,skip:0},isDataStateRequired:!1,data:i.invoiceList,settings:{total:i.invoiceList.length},pageable:i.invoiceList.length>5,column:[{title:"Invoice number",field:"invoiceNo",filter:"text",cell:e=>{var t;return a.jsx("td",{children:a.jsx("span",{children:null==(t=e.dataItem)?void 0:t.invoiceNo})})}},{title:"Invoice date",field:"invoiceDateTime",cell:e=>a.jsx("td",{className:"text-start",children:b(e.dataItem.invoiceDate,!1)})},{title:"Amount (USD)",field:"totalAmount",filter:"text",cell:e=>{var t;return a.jsx("td",{className:"text-end",children:"$"+N(parseFloat((null==(t=null==e?void 0:e.dataItem)?void 0:t.price)||0).toFixed(2))})}},{title:"Payment mode",field:"paymentMode",cell:e=>a.jsx("td",{className:"text-start",children:"Credit card"})},{title:"Status",field:"status",filter:"text"},{title:"Action",width:"120",field:"action",cell:e=>a.jsx(ie,{...e,url:t.url})}]})}):a.jsx("div",{className:"box-design pb10",children:a.jsx(F,{count:3,isError:i.listError})})})})),oe=e=>{var t,l,n,r,c;let m=d(),u=o.useContext(j);const[h,x]=o.useState(null),[g,w]=o.useState(!1),[L,z]=o.useState(null),[P,F]=o.useState(!1),[E,q]=o.useState(!1),[B,X]=o.useState("Downloading"),[Y,_]=o.useState(!1),[Q,Z]=o.useState(""),[J,ee]=o.useState([]),te=o.useRef();o.useEffect((()=>{var e;const t=$.parse(null==(e=null==m?void 0:m.location)?void 0:e.search);let a=void 0!==t.iId?t.iId:0;ae(a)}),[]);const ae=e=>{let t={clientId:f(),invoiceId:e};v({path:D,params:t,loading:u.globalStateData.setIsLoadingData,sessionOut:u.globalStateData.setSessionOutData,ok:e=>{var t;e.status?(null==(t=e.data)||t.invoiceDateTime,x(e.data),ee(se(null==e?void 0:e.data)),F(!1),setTimeout((()=>{(()=>{var e,t;((null==(t=null==(e=null==m?void 0:m.location)?void 0:e.state)?void 0:t.isDownload)||P)&&s(document.getElementById("download"),{quality:.95}).then((function(e){document.createElement("a").download="my-image-name.jpeg";const t=new i,a=t.getImageProperties(e),s=t.internal.pageSize.getWidth(),l=a.height*s/a.width;t.addImage(e,"PNG",0,0,s,l);let n="subscription invoice"+b(new Date,!1)+".pdf";t.save(n),P?F(!1):m.push("/preferences/invoice-list")}))})()}),2e3)):(w(!0),z((null==e?void 0:e.message)||y))},fail:e=>{}})},se=e=>{var t,a,s,i,l;let n=[];if((null==(t=null==e?void 0:e.featureType)?void 0:t.toLowerCase().includes("license"))||!1===(null==e?void 0:e.isAddOnInv)){let t=ie(e,!1);return n.push(t),(null==(a=null==e?void 0:e.addons)?void 0:a.length)>0&&(null==(s=null==e?void 0:e.addons)||s.map((e=>{let t=ie(e,!0);n.push(t)}))),n}return(null==(i=null==e?void 0:e.addons)?void 0:i.length)>0&&(null==(l=null==e?void 0:e.addons)||l.map((e=>{let t=ie(e,!0);n.push(t)}))),n},ie=(e,t)=>({planName:!0===t?null==e?void 0:e.addOnName:null==e?void 0:e.featureName,planType:!0===t?"Add-on":"License",pricePerMonth:null==e?void 0:e.pricePerMonth,quantity:!0===t?null==e?void 0:e.quantity:1,freqValue:(null==e?void 0:e.freqValue)||"",salePrice:!0===t?null==e?void 0:e.totalAmount:null==e?void 0:e.salePrice});return a.jsxs(a.Fragment,{children:[!0===g&&a.jsx(R,{headerTitle:"Sorry",para:L,primaryButtonText:"OK",buttonClicked:e=>{w(!1)}}),E&&a.jsx(R,{headerTitle:"Invoice",para:B,primaryButtonText:"OK",buttonClicked:e=>{w(!1)}}),a.jsx(M,{children:a.jsxs("div",{className:"print-container",children:[a.jsx(V,{fluid:!0,className:"main-heading-wrapper mb0 no-print",children:a.jsxs(V,{className:"mhw-container",children:[a.jsx("div",{className:"mhwc-left",children:(P||!(null==(l=null==(t=null==m?void 0:m.location)?void 0:t.state)?void 0:l.isDownload))&&a.jsx(a.Fragment,{children:a.jsx("h1",{children:"Invoice"})})}),a.jsx("div",{className:"mhwc-right",children:a.jsxs("div",{className:"align-items-center d-flex",children:[a.jsx(W,{data:de,flatIcon:!0,defaultItem:a.jsx(S,{position:"top",text:"Download",children:a.jsx("i",{id:"rs_data_download",className:`${C} icons-lg color-primary-blue`})}),showUpdate:!1,className:"no_caret",alignRight:!0,onSelect:e=>{var t,a;" pdf"===(null==(t=null==e?void 0:e.props)?void 0:t.children[1].toLowerCase())?(F(!0),X("Downloading . . ."),q(!0),s(document.getElementById("download"),{quality:.95}).then((function(e){X("Download completed"),setTimeout((()=>{q(!1)}),2e3),document.createElement("a").download="my-image-name.jpeg";const t=new i,a=t.getImageProperties(e),s=t.internal.pageSize.getWidth(),l=a.height*s/a.width;t.addImage(e,"PNG",0,0,s,l);let n="subscription invoice"+b(new Date,!1)+".pdf";t.save(n),F(!1)})).catch((e=>{q(!1)}))):" print"===(null==(a=null==e?void 0:e.props)?void 0:a.children[1].toLowerCase())?((()=>{for(var e=document.getElementsByClassName("header-component"),t=0;t<e.length;t++)e[t].classList.add("no-print");var a=document.getElementsByClassName("layout-footer-container");for(t=0;t<a.length;t++)a[t].classList.add("no-print")})(),setTimeout((()=>{var e,t;e=document.querySelector(".print-container"),t=document.body.innerHTML,document.body.innerHTML=e.innerHTML,window.print(),document.body.innerHTML=t}),1e3)):_(!0)}}),a.jsxs("div",{className:"back-text ml10",onClick:()=>m.push("/preferences/invoice-list"),children:[a.jsx(p,{icon:I,size:"sm"}),"Back"]}),Y&&a.jsxs(H,{show:!0,centered:!0,children:[a.jsxs(H.Header,{children:[a.jsx("h2",{children:"Mail id"}),a.jsx(U,{mainClass:"close",size:"md",handleClose:()=>{_(!1)}})]}),a.jsx(H.Body,{children:a.jsxs("div",{className:"",children:[a.jsx(G,{name:"Mail id",placeholder:"Enter your mail id",val:Q,required:!0,max:O,type:"text",cb:e=>{Z(e)},ob:e=>{Z(e)}}),a.jsxs("div",{className:"d-flex justify-content-end",children:[a.jsx(k,{children:"Cancel"}),a.jsx(A,{children:"Ok"})]})]})})]})]})})]})}),a.jsx(V,{children:a.jsx(V,{children:null!==h&&a.jsxs("div",{ref:te,id:"download",className:"portlet-box-theme invoice-wrapper",children:[a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"d-flex align-items-center justify-content-between mb15",children:[a.jsx("div",{className:"d-flex align-items-center",children:a.jsx("img",{src:K,alt:K,className:"invoice-smartdx-logo"})}),a.jsx("h1",{children:"Invoice"})]}),a.jsx("hr",{className:"blue"})]}),a.jsx("div",{className:"theme-space-mb",children:a.jsxs("div",{className:"invoice-address-wrapper mt23 d-flex justify-content-between",children:[a.jsxs("div",{className:"invoice-address",children:[a.jsx("h4",{children:"To,"}),a.jsxs("ul",{className:"",children:[a.jsx("li",{children:(null==(n=T())?void 0:n.clientName)||""}),null==(r=null==h?void 0:h.address)?void 0:r.split("$").map((e=>a.jsx("li",{children:e})))]})]}),a.jsx("table",{className:"rs-table-sm",children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{children:"Date/Time:"}),a.jsx("td",{children:b(null==h?void 0:h.invoiceDateTime,!1)})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Invoice number:"}),a.jsx("td",{children:null==h?void 0:h.invoiceNo})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Amount paid:"}),a.jsxs("td",{children:["$",N(null==h?void 0:h.amountPayable)]})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Due date:"}),a.jsx("td",{children:b(null==h?void 0:h.dueDate,!1)})]})]})})]})}),a.jsxs("div",{style:{backgroundColor:"#e5efe1"},className:"horizontal-list-row marginB20",children:[a.jsxs("div",{className:"horizontal-list",children:[a.jsx("small",{children:"Account/Client:"}),a.jsx("h4",{children:null==(c=T())?void 0:c.clientName})]}),a.jsxs("div",{className:"horizontal-list",children:[a.jsx("small",{children:"Account no:"}),a.jsx("h4",{children:null==h?void 0:h.accountNo})]})]}),a.jsx("div",{className:"notification-box bgGreen-medium",children:null!==(null==h?void 0:h.authorizationCode)&&void 0!==(null==h?void 0:h.authorizationCode)&&""!==(null==h?void 0:h.authorizationCode)?a.jsxs("p",{children:[" You have acknowledged to make this payment ",null!==(null==h?void 0:h.authorizationCode)&&void 0!==(null==h?void 0:h.authorizationCode)&&""!==(null==h?void 0:h.authorizationCode)?"using the authorization code ":"",a.jsx("span",{className:(null!==(null==h?void 0:h.authorizationCode)&&void 0!==(null==h?void 0:h.authorizationCode)&&""!==(null==h?void 0:h.authorizationCode)?"bgGreen paddingX5 marginX5":"")+" ",children:null==h?void 0:h.authorizationCode})]}):null}),a.jsxs("table",{width:"100%",border:"0",cellPadding:"0",cellSpacing:"0",className:"table rs-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{width:"5%",children:"S.No"}),a.jsx("th",{width:"20%",children:"Plan name"}),a.jsx("th",{width:"15%",children:"Type"}),a.jsx("th",{width:"10%",children:"Price/Month(USD)"}),a.jsx("th",{width:"10%",children:"Quantity"}),a.jsx("th",{width:"20%",children:"Payment frequency"}),a.jsx("th",{width:"15%",children:"Amount (USD)"})]})}),a.jsxs("tbody",{children:[(null==J?void 0:J.length)>0&&(null==J?void 0:J.map(((e,t)=>a.jsxs("tr",{children:[a.jsx("td",{className:"text-center",children:t+1}),a.jsx("td",{className:"",children:null==e?void 0:e.planName}),a.jsx("td",{className:"",children:null==e?void 0:e.planType}),a.jsxs("td",{className:"text-end",children:["$",N(e.pricePerMonth)]}),a.jsx("td",{className:"text-end",children:e.quantity}),a.jsx("td",{className:"",children:null==e?void 0:e.freqValue}),a.jsxs("td",{className:"text-end",children:["$",N(null==e?void 0:e.salePrice)]})]})))),void 0!==(null==h?void 0:h.taxAmount)&&null!==(null==h?void 0:h.taxAmount)&&a.jsxs("tr",{className:"bgWhite even",children:[a.jsx("td",{className:"border-top-0 border-left-0 border-bottom-0 bgGrey-lighter1",colSpan:"5",rowSpan:"1"}),a.jsx("td",{className:"",children:"Tax"}),a.jsxs("td",{className:"text-end",children:["$",N((null==h?void 0:h.taxAmount)||0)]})]}),void 0!==h.subAmount&&null!==h.subAmount&&a.jsxs("tr",{className:"bgWhite even",children:[a.jsx("td",{className:"border-top-0 border-left-0 border-bottom-0 bgGrey-lighter1",colSpan:"5",rowSpan:"1"}),a.jsx("td",{className:"",children:"Sub total"}),a.jsxs("td",{className:"text-end",children:[" $",(e=>{const{salePrice:t,addons:a}=e,s=a.reduce(((e,t)=>e+t.totalAmount),0);return N(t+s)})(h)]})]}),void 0!==h.subAmount&&null!==h.subAmount&&0!==h.subAmount&&a.jsxs("tr",{className:"bgWhite even",children:[a.jsx("td",{className:"border-top-0 border-left-0 border-bottom-0 bgGrey-lighter1",colSpan:"5",rowSpan:"1"}),a.jsx("td",{className:"",children:"Wallet amount"}),a.jsxs("td",{className:"text-end",children:["( - )"," $",N(h.subAmount)]})]}),void 0!==(null==h?void 0:h.discountAmount)&&null!==(null==h?void 0:h.discountAmount)&&a.jsxs("tr",{className:"bgWhite even",children:[a.jsx("td",{className:"border-top-0 border-left-0 border-bottom-0 bgGrey-lighter1",colSpan:"5",rowSpan:"1"}),a.jsx("td",{className:"",children:"Discount"}),a.jsxs("td",{className:"text-end",children:["(-) $",N((null==h?void 0:h.discountAmount)||0)]})]}),void 0!==(null==h?void 0:h.amountPaid)&&null!==(null==h?void 0:h.amountPaid)&&a.jsxs("tr",{className:"bgWhite even",children:[a.jsx("td",{className:"border-top-0 border-left-0 border-bottom-0 bgGrey-lighter1",colSpan:"5",rowSpan:"1"}),a.jsx("td",{className:"",children:"Total amount"}),a.jsxs("td",{className:"text-end",children:["$",N(parseInt(null==h?void 0:h.amountPaid)||0)]})]})]})]}),a.jsxs("div",{className:"clearfix small invoice-note",children:[a.jsx("p",{className:"font-bold",children:"Note:"}),a.jsx("p",{children:"1) Payment terms : 15 days (18% of interest will be applicable for delay in payment beyond stipulated days)."}),a.jsx("p",{children:"2) All pricing mentioned above are in USD."}),a.jsx("p",{children:"3) In case of any clarification on this invoice, please contact us within 10 days from the billing date."})]}),a.jsxs("div",{className:"clearfix small text-center marginT35",children:[a.jsxs("p",{className:"marginB5",children:["For any queries, please write to ",a.jsx("span",{className:"rs-link blue",onClick:()=>{window.location.href="mailto:billing@smartdx.com"},children:"billing@smartdx.com"})]}),a.jsx("p",{className:"marginB15",children:"Resulticks Singapore Pte Ltd, 3 Temasek Avenue, #21 - 27 Centennial Tower, Singapore - 039190, Tel: +65 6238 8995 / Fax: +65 6238 8943, Biz. Reg. no.: 201429642C"}),a.jsx("h4",{children:"Thank you for your business."})]})]})})})]})})]})},de=[a.jsxs(a.Fragment,{children:[a.jsx("i",{className:`${L} icons-md pr10 color-primary-blue cursor-pointer `})," Pdf"]})],re=n((e=>{var t,l,n,d,r,c,m,u,h,x,g,w,D,y,S,C,k,A,L,P,F;const E=o.useContext(j),$=q.useHistory(),[B,U]=o.useState({apiData:null,isDownload:!1,pdff:!1,pdfDownload:!1,downLoadMessage:"Downloading"});o.useEffect((()=>{var e,t;0!==((null==(t=null==(e=null==$?void 0:$.location)?void 0:e.state)?void 0:t.consumableId)||0)&&G($.location.state.consumableId)}),[]);const G=e=>{v({path:z,params:{consumptionInvoiceId:e,campaignId:0,clientId:f()},loading:E.globalStateData.setIsLoadingData,sessionOut:E.globalStateData.setSessionOutData,ok:e=>{var t,a;e.data&&(null==(a=null==(t=null==$?void 0:$.location)?void 0:t.state)||a.isRoot,U((t=>({...t,apiData:e.data,pdff:!1}))),setTimeout((()=>{O()}),2e3))},fail:e=>{}})},O=()=>{var e,t;((null==(t=null==(e=null==$?void 0:$.location)?void 0:e.state)?void 0:t.isRoot)||B.pdff)&&s(document.getElementById("consumable"),{quality:.95}).then((e=>{document.createElement("a").download="my-image-name.jpeg";const t=new i,a=t.getImageProperties(e),s=t.internal.pageSize.getWidth(),l=a.height*s/a.width;t.addImage(e,"PNG",0,0,s,l);let n="Consumableinvoice"+b(new Date,!1)+".pdf";t.save(n),B.pdff?U((e=>({...e,pdff:!1}))):$.push("/preferences/invoice-list")}))};return a.jsx(M,{children:a.jsxs(V,{className:"page-header",children:[B.pdfDownload&&a.jsx(R,{headerTitle:"Consumable invoice",para:B.downLoadMessage,primaryButtonText:"OK",buttonClicked:e=>{U(prev,{...prev,pdfDownload:!1})}}),a.jsx("div",{className:"header-title d-flex justify-content-between",children:(B.pdff||!(null==(l=null==(t=null==$?void 0:$.location)?void 0:t.state)?void 0:l.isRoot))&&a.jsxs(a.Fragment,{children:[a.jsx("h1",{children:"Consumable invoice"}),a.jsxs("div",{className:"d-flex",children:[a.jsx(p,{icon:"icon-rs-download-medium",iconClass:"",size:"lg",tooltip:"Download",onClick:()=>{U(prev,{...prev,pdfDownload:!0}),U((e=>({...e,downLoadMessage:"Downloading . . .",pdfDownload:!0}))),s(document.getElementById("consumable"),{quality:.95}).then((e=>{U(prev,{...prev,downLoadMessage:"Download completed"}),setTimeout((()=>{U(prev,{...prev,pdfDownload:!1})}),2e3),document.createElement("a").download="my-image-name.jpeg";const t=new i,a=t.getImageProperties(e),s=t.internal.pageSize.getWidth(),l=a.height*s/a.width;t.addImage(e,"PNG",0,0,s,l);let n="Consumableinvoice"+b(new Date,!1)+".pdf";t.save(n),U(prev,{...prev,pdff:!1,downLoadMessage:"Download completed"}),setTimeout((()=>{U(prev,{...prev,pdfDownload:!1})}),2e3)})).catch((e=>{U(prev,{...prev,pdfDownload:!1})}))}}),a.jsxs("div",{className:"back-text ml10",onClick:()=>$.push("/preferences/invoice-list"),children:[a.jsx(p,{icon:I,size:"sm"}),"Back"]})]})]})}),a.jsxs("div",{className:"portlet-box-theme",id:"consumable",children:[a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"d-flex align-items-center justify-content-between mb15",children:[a.jsx("div",{className:"d-flex align-items-center",children:a.jsx("img",{src:K,alt:K,className:"invoice-smartdx-logo"})}),a.jsx("h1",{children:"Invoice"})]}),a.jsx("hr",{className:"blue"})]}),a.jsxs("div",{className:"d-flex justify-content-between theme-space-mb mt23",children:[a.jsxs("div",{className:"invoice-address",children:[a.jsx("h4",{children:"To,"}),a.jsxs("ul",{className:"",children:[a.jsx("li",{children:(null==(n=T())?void 0:n.clientName)||""}),null==(r=null==(d=B.apiData)?void 0:d.address)?void 0:r.split("$").map((e=>a.jsx("li",{children:e})))]})]}),a.jsx("table",{className:"rs-table-sm",children:a.jsxs("tbody",{children:[a.jsxs("tr",{children:[a.jsx("td",{children:"Date / Time:"}),a.jsx("td",{children:b(null==(c=B.apiData)?void 0:c.invoiceDate,!0)})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Invoice number:"}),a.jsx("td",{children:null==(m=B.apiData)?void 0:m.invoiceNo})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Amount:"}),a.jsx("td",{children:"$"+N(parseFloat((null==(u=B.apiData)?void 0:u.payableAmount)||0).toFixed(2))})]}),a.jsxs("tr",{children:[a.jsx("td",{children:"Due date:"}),a.jsx("td",{children:b(null==(h=B.apiData)?void 0:h.dueDate,!1)})]})]})})]}),a.jsxs("div",{className:"horizontal-list-row marginB20",children:[a.jsxs("div",{className:"horizontal-list",children:[a.jsx("small",{children:"Account/Client:"}),a.jsx("h4",{children:null==(x=T())?void 0:x.clientName})]}),a.jsxs("div",{className:"horizontal-list",children:[a.jsx("small",{children:"Account no:"}),a.jsx("h4",{children:null==(g=B.apiData)?void 0:g.accountNo})]})]}),a.jsx("div",{className:"notification-box bgGreen-light",children:a.jsxs("p",{children:[" ","You have acknowledged to make this payment"," ",null!==(null==(w=B.apiData)?void 0:w.authorizationCode)&&void 0!==(null==(D=B.apiData)?void 0:D.authorizationCode)&&""!==(null==(y=B.apiData)?void 0:y.authorizationCode)?"using the authorization code ":"",a.jsx("span",{className:(null!==(null==(S=B.apiData)?void 0:S.authorizationCode)&&void 0!==(null==(C=B.apiData)?void 0:C.authorizationCode)&&""!==(null==(k=B.apiData)?void 0:k.authorizationCode)?"bgGreen paddingX5 marginX5":"")+" ",children:null==(A=B.apiData)?void 0:A.authorizationCode})]})}),a.jsxs("table",{width:"100%",border:"0",cellPadding:"0",cellSpacing:"0",className:"table rs-table",children:[a.jsx("thead",{children:a.jsxs("tr",{children:[a.jsx("th",{width:"35%",children:"Channel"}),a.jsx("th",{width:"25%",children:"Units used"}),a.jsx("th",{width:"25%",children:"Unit price (USD)"}),a.jsx("th",{children:"Amount (USD)"})]})}),a.jsxs("tbody",{children:[null==(L=B.apiData)?void 0:L.consumptions.map(((e,t)=>a.jsxs("tr",{children:[a.jsx("td",{children:null!==(null==e?void 0:e.consumptionName)?null==e?void 0:e.consumptionName:"NoData"}),a.jsx("td",{className:"text-end",children:null==e?void 0:e.exceedCount}),a.jsxs("td",{className:"text-end",children:["$"," ",N(parseFloat(null==e?void 0:e.unitPrice).toFixed(2)||0)]}),a.jsxs("td",{className:"text-end",children:["$"," ",N(parseFloat((null==e?void 0:e.exceedPrice)||0).toFixed(2))]})]}))),a.jsx("tr",{children:a.jsx("td",{className:"border-left-0 border-bottom-0 bgGrey-lighter1",colSpan:"2",rowSpan:"5"})}),a.jsxs("tr",{className:"bgWhite even",children:[a.jsx("td",{className:"text-end",children:"Total"}),a.jsx("td",{className:"text-end",children:"$ "+N(parseFloat((null==(P=B.apiData)?void 0:P.totalAmount)||0).toFixed(2))})]}),a.jsxs("tr",{className:"even",children:[a.jsx("td",{className:"text-end",children:"Amount"}),a.jsx("td",{className:"text-end blue",children:"$ "+N(parseFloat((null==(F=B.apiData)?void 0:F.payableAmount)||0).toFixed(2))})]})]})]}),a.jsxs("div",{className:"clearfix small invoice-note",children:[a.jsx("p",{className:"font-bold",children:"Note:"}),a.jsx("p",{children:"1) Payment terms : 15 days (18% of interest will be applicable for delay in payment beyond stipulated days)."}),a.jsx("p",{children:"2) All pricing mentioned above are in USD."}),a.jsx("p",{children:"3) In case of any clarification on this invoice, please contact us within 10 days from the billing date."})]}),a.jsxs("div",{className:"clearfix small text-center marginT35",children:[a.jsxs("p",{className:"marginB5",children:["For any queries, please write to"," ",a.jsx("span",{className:"rs-link blue",onClick:()=>{window.location.href="mailto:billing@smartdx.com"},children:"billing@smartdx.com"})]}),a.jsx("p",{className:"marginB15",children:"Resulticks Singapore Pte Ltd, 3 Temasek Avenue, #21 - 27 Centennial Tower, Singapore - 039190, Tel: +65 6238 8995 / Fax: +65 6238 8943, Biz. Reg. no.: 201429642C"}),a.jsx("h4",{children:"Thank you for your business."})]})]})]})})})),ce=()=>{let e=r();return a.jsxs(c,{children:[a.jsx(m,{exact:!0,path:`${e.url}/`,children:a.jsx(ue,{})}),a.jsx(m,{path:`${e.url}/invoice`,children:a.jsx(oe,{})}),a.jsx(m,{path:`${e.url}/consumable-invoice`,children:a.jsx(re,{})})]})},me=[{id:1001,text:"Subscription invoice",disable:!1},{id:1002,text:"Consumable invoice",disable:!1}],ue=e=>{const[t,s]=o.useState(0),i=d();return o.useState(null),o.useEffect((()=>{}),[]),a.jsxs(M,{children:[a.jsx(V,{fluid:!0,className:"main-heading-wrapper mb0",children:a.jsxs(V,{className:"mhw-container",children:[a.jsx("div",{className:"mhwc-left",children:a.jsx("h1",{children:a.jsx("div",{className:"mh-wrapper",children:a.jsx("span",{className:"mh-text",children:"Invoice list"})})})}),a.jsxs("div",{className:"mhwc-right",children:[a.jsx("div",{className:"marginR20",children:a.jsx(X,{onSelect:()=>{s(-1),setTimeout((()=>{s(0)}),100)}})}),a.jsxs("div",{className:"back-text",onClick:()=>i.push("/preferences"),children:[a.jsx(p,{icon:I,size:"sm"}),"Back"]})]})]})}),a.jsx(V,{fluid:!0,className:"bgWhite",children:a.jsx(V,{children:a.jsx(B,{defaultSelectedItem:t,defaultClass:"",dynamicTab:"tabs-filled-component",activeClass:"active",tabData:me,callBack:(e,t)=>{s(t)}})})}),a.jsx(V,{className:"page-header",children:(l=t,0===l?n=a.jsx(J,{}):1===l&&(n=a.jsx(ne,{})),n)})]});var l,n};export{ce as default};
