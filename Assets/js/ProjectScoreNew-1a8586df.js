import{j as e}from"./pdf-editor-be9d2bd2.js";import{r as s}from"./react-vendor-379f659a.js";import{Y as a,z as t,ai as n,aj as r}from"./index-75225e0a.js";import"./ui-a5a97ebf.js";import"./kendo-5d73125a.js";import"./drag-drop-4af74c4a.js";import"./utils-16c7e021.js";const i={card:"_card_1wni0_1",minimized:"_minimized_1wni0_17",header:"_header_1wni0_23",headerIcons:"_headerIcons_1wni0_38",progressBar:"_progressBar_1wni0_44",progress:"_progress_1wni0_44",taskItem:"_taskItem_1wni0_57",taskStatus:"_taskStatus_1wni0_65",arrowIcon:"_arrowIcon_1wni0_77",subTask:"_subTask_1wni0_82",themeToggle:"_themeToggle_1wni0_87"},l={modalOverlay:"_modalOverlay_10mjc_1","dark-mode":"_dark-mode_10mjc_14",modalContent:"_modalContent_10mjc_18",header:"_header_10mjc_29",sdkStatus:"_sdkStatus_10mjc_38",flexEndBtn:"_flexEndBtn_10mjc_41",relative:"_relative_10mjc_47",onBoardModal:"_onBoardModal_10mjc_50",copyBtn:"_copyBtn_10mjc_55",statusIndicator:"_statusIndicator_10mjc_65",closeButton:"_closeButton_10mjc_79",body:"_body_10mjc_103",videoContainer:"_videoContainer_10mjc_109",videoPlaceholder:"_videoPlaceholder_10mjc_120",playButton:"_playButton_10mjc_132",guideSteps:"_guideSteps_10mjc_146",guideItem:"_guideItem_10mjc_150",guideColumn:"_guideColumn_10mjc_158",guideStatus:"_guideStatus_10mjc_168",guideItemFlex:"_guideItemFlex_10mjc_178",guideSubItem:"_guideSubItem_10mjc_188",guideCode:"_guideCode_10mjc_201",sub:"_sub_10mjc_217",footer:"_footer_10mjc_241"},o={onboardingContainer:"_onboardingContainer_1d88q_1",formGroup:"_formGroup_1d88q_26",uploadContainer:"_uploadContainer_1d88q_53",uploadButton:"_uploadButton_1d88q_63",uploadHint:"_uploadHint_1d88q_77",radioGroup:"_radioGroup_1d88q_85",fcmDetails:"_fcmDetails_1d88q_93",formRow:"_formRow_1d88q_103",buttonContainer:"_buttonContainer_1d88q_114",cancelButton:"_cancelButton_1d88q_123",saveButton:"_saveButton_1d88q_124"},d=({onClose:a,onSave:t,onSaveComplete:n})=>{const[r,i]=s.useState({domainName:"",domainURL:"",userId:"",notificationProvider:"fcm",senderId:"",apiKey:"",authDomain:"",projectId:"",storageBucket:"",measurementId:"",appId:"",vapidKey:"",databaseURL:""}),l=e=>{const{name:s,value:a}=e.target;i({...r,[s]:a})};return e.jsxs("div",{className:o.onboardingContainer,children:[e.jsx("h2",{children:"Domain onboarding"}),e.jsxs("div",{className:o.formGroup,children:[e.jsx("label",{htmlFor:"domainName",children:"Domain name"}),e.jsx("input",{type:"text",id:"domainName",name:"domainName",value:r.domainName,onChange:l,placeholder:"Domain name"})]}),e.jsxs("div",{className:o.formGroup,children:[e.jsx("label",{htmlFor:"domainURL",children:"Domain URL"}),e.jsx("input",{type:"text",id:"domainURL",name:"domainURL",value:r.domainURL,onChange:l,placeholder:"https://"})]}),e.jsxs("div",{className:o.formGroup,children:[e.jsx("label",{htmlFor:"userId",children:"User identifier"}),e.jsx("select",{id:"userId",name:"userId",value:r.userId,onChange:l,children:e.jsx("option",{value:"",children:"-- Select user identifier id --"})})]}),e.jsxs("div",{className:o.formGroup,children:[e.jsx("label",{children:"Upload logo"}),e.jsxs("div",{className:o.uploadContainer,children:[e.jsx("input",{type:"text",placeholder:"Upload your logo",readOnly:!0}),e.jsx("button",{className:o.uploadButton,children:"Upload"})]}),e.jsx("span",{className:o.uploadHint,children:"Upload 145x145 px logo in JPEG or PNG format"})]}),e.jsxs("div",{className:o.fcmDetails,children:[e.jsx("h3",{children:"FCM project details"}),e.jsx("div",{className:o.formRow,children:e.jsxs("div",{className:o.formGroup,children:[e.jsx("label",{htmlFor:"serviceAccount",children:"Upload service account JSON file"}),e.jsxs("div",{className:o.uploadContainer,children:[e.jsx("input",{type:"text",readOnly:!0}),e.jsx("button",{className:o.uploadButton,children:"Upload"})]})]})}),e.jsxs("div",{className:o.formRow,children:[e.jsxs("div",{className:o.formGroup,children:[e.jsx("label",{htmlFor:"senderId",children:"Enter sender id"}),e.jsx("input",{type:"text",id:"senderId",name:"senderId",value:r.senderId,onChange:l})]}),e.jsxs("div",{className:o.formGroup,children:[e.jsx("label",{htmlFor:"apiKey",children:"Enter FCM api key"}),e.jsx("input",{type:"text",id:"apiKey",name:"apiKey",value:r.apiKey,onChange:l})]})]}),e.jsxs("div",{className:o.formRow,children:[e.jsxs("div",{className:o.formGroup,children:[e.jsx("label",{htmlFor:"authDomain",children:"Enter FCM auth domain"}),e.jsx("input",{type:"text",id:"authDomain",name:"authDomain",value:r.authDomain,onChange:l})]}),e.jsxs("div",{className:o.formGroup,children:[e.jsx("label",{htmlFor:"projectId",children:"Enter FCM project id"}),e.jsx("input",{type:"text",id:"projectId",name:"projectId",value:r.projectId,onChange:l})]})]}),e.jsxs("div",{className:o.formRow,children:[e.jsxs("div",{className:o.formGroup,children:[e.jsx("label",{htmlFor:"storageBucket",children:"Enter FCM storage bucket"}),e.jsx("input",{type:"text",id:"storageBucket",name:"storageBucket",value:r.storageBucket,onChange:l})]}),e.jsxs("div",{className:o.formGroup,children:[e.jsx("label",{htmlFor:"measurementId",children:"Enter measurement id"}),e.jsx("input",{type:"text",id:"measurementId",name:"measurementId",value:r.measurementId,onChange:l})]})]}),e.jsxs("div",{className:o.formRow,children:[e.jsxs("div",{className:o.formGroup,children:[e.jsx("label",{htmlFor:"appId",children:"Enter app id"}),e.jsx("input",{type:"text",id:"appId",name:"appId",value:r.appId,onChange:l})]}),e.jsxs("div",{className:o.formGroup,children:[e.jsx("label",{htmlFor:"vapidKey",children:"Enter FCM vapid key"}),e.jsx("input",{type:"text",id:"vapidKey",name:"vapidKey",value:r.vapidKey,onChange:l})]})]}),e.jsxs("div",{className:o.formRow,children:[e.jsxs("div",{className:o.formGroup,children:[e.jsx("label",{htmlFor:"databaseURL",children:"Enter FCM database URL"}),e.jsx("input",{type:"text",id:"databaseURL",name:"databaseURL",value:r.databaseURL,onChange:l})]}),e.jsx("div",{className:o.formGroup})]})]}),e.jsxs("div",{className:o.buttonContainer,children:[e.jsx("button",{className:o.cancelButton,onClick:()=>{a()},children:"Cancel"}),e.jsx("button",{className:o.saveButton,onClick:()=>{t&&t({onboard:!0,fcm:!0,generate:!0}),n&&n(),a()},children:"Save"})]})]})},c=({isOpen:a,onClose:t,jsonData:n,setJsonData:r,theme:i,selectedMethod:o})=>{const[c,m]=s.useState(null),[u,h]=s.useState(!1),[p,j]=s.useState(!1),[x,g]=s.useState(!1),[_,v]=s.useState(!1),[N,f]=s.useState(!1),[b,C]=s.useState(!1);if(s.useEffect((()=>{if(u){j(!0),r((e=>({...e,generate:!1})));const e=setTimeout((()=>{r((e=>({...e,generate:!0}))),j(!1)}),3e3),s=setTimeout((()=>{g(!0),r((e=>({...e,embed:!1})))}),3e3),a=setTimeout((()=>{r((e=>({...e,embed:!0}))),g(!1)}),6e3),t=setTimeout((()=>{v(!0),r((e=>({...e,installation:!1})))}),6e3),n=setTimeout((()=>{r((e=>({...e,installation:!0}))),v(!1),h(!1)}),9e3);return()=>{clearTimeout(e),clearTimeout(s),clearTimeout(a),clearTimeout(t),clearTimeout(n)}}}),[u,r]),!a)return null;const y=e=>{m(e)},S=!b&&n.installation,k=o?`https://sdk.resul.team/handlers/new.sdk?method=${o}`:"https://sdk.resul.team/handlers/new.sdk";return e.jsx("div",{className:`modalOverlay ${"dark"===i?l.darkOverlay:""}`,children:e.jsx("div",{className:`modalContent ${"dark"===i?l.darkContent:""}`,children:c?e.jsx(d,{onClose:()=>{m(null)},onSave:e=>{r((s=>({...s,...e})))},onSaveComplete:()=>{h(!0)},theme:i}):e.jsxs(e.Fragment,{children:["           ",e.jsxs("div",{className:"header",children:[e.jsxs("div",{className:"sdkStatus",children:["SDK Status: ",e.jsx("span",{className:"statusIndicator",style:{backgroundColor:n.installation?"lightgreen":"lightgray"},children:n.installation?"Installed":"Not installed"})]}),e.jsx("span",{className:"closeButton",onClick:t,children:"Ã—"})]}),e.jsxs("div",{className:"onBoardModal",children:[e.jsxs("h2",{children:["SDK installation guide for ",e.jsx("a",{href:"#",className:"smartdxLink",children:b?"Vision Bank":"www.smartdx.co"})]}),e.jsxs("div",{className:"body",children:[e.jsx("div",{className:"videoContainer",children:e.jsx("div",{className:"videoPlaceholder",children:e.jsx("div",{className:"playButton"})})}),e.jsxs("div",{className:"guideSteps",children:[e.jsxs("div",{className:"guideItem",onClick:()=>y("onboard"),children:[e.jsx("span",{className:"guideStatus",style:{backgroundColor:n.onboard?"green":"lightGray"}}),e.jsxs("span",{children:["Onboard ",b?"app":"domain"," details"]})]}),e.jsxs("div",{className:"guideItem",onClick:()=>y("fcmDetails"),children:[e.jsx("span",{className:"guideStatus",style:{backgroundColor:n.fcm?"green":"lightGray"}}),e.jsx("span",{children:"Config fcm details"})]}),e.jsxs("div",{className:"guideItem",onClick:()=>y("generate"),children:[e.jsx("span",{className:"guideStatus",style:{backgroundColor:n.generate?"green":p?"blue":"lightGray"}}),e.jsx("span",{children:p?"Generating...":"Generate"})]}),e.jsxs("div",{className:"guideItem guideColumn",children:[e.jsxs("div",{className:"guideItemFlex",children:[e.jsx("span",{className:"guideStatus",style:{backgroundColor:n.embed?"green":x?"blue":"lightGray"}}),e.jsx("span",{children:x?"Embedding SDK...":"Embed SDK"})]}),e.jsxs("div",{className:"guideSubItem",children:[e.jsx("p",{children:e.jsx("script",{children:" Loading SDK "})}),e.jsxs("ul",{className:"sub",children:[n.generate?e.jsx("li",{children:e.jsxs("div",{className:"scriptCodeContainer",children:[e.jsx("div",{className:"copyIconWrapper",children:e.jsx("button",{className:"copyBtn",children:"Copy"})}),e.jsx("pre",{className:"guideCode",children:e.jsx("code",{children:b?"pod 'REIOSSDK_79f647df_f43f_8cf3_e6a2a975f9ee'\n  ":`<script defer="defer" src="${k}" fcm_service_path="firebase-messaging-sw.js"><\/script>`})})]})}):null,e.jsxs("li",{children:[e.jsx("span",{className:"guideStatus",style:{backgroundColor:"lightgray"}}),b?"Place the above code in pod file":e.jsx("span",{children:"Please place the script in the header tab of your code"})]}),e.jsxs("li",{children:[e.jsx("span",{className:"guideStatus",style:{backgroundColor:"lightgray"}}),e.jsxs("span",{children:["For more information, visit this page ",b?e.jsx("a",{href:"#",className:l.wordpressLink,children:"Embed the SDK on Native iOS"}):e.jsx("a",{href:"#",className:l.wordpressLink,children:"Embed the SDK on Wordpress"})]})]})]})]})]}),e.jsxs("div",{className:"guideItem",children:[e.jsx("span",{className:"guideStatus",style:{backgroundColor:n.installation?"green":_?"blue":"lightGray"}}),e.jsx("span",{children:_?"Verifying...":"Verify installation"})]})]})]})]}),S&&e.jsx("div",{className:"flexEndBtn",children:e.jsx("button",{className:"nextButton",onClick:()=>{r({onboard:!1,fcm:!1,generate:!1,embed:!1,installation:!1}),f(!1),C(!0)},children:"Next"})}),e.jsx("div",{className:"footer",children:e.jsxs("p",{children:["Visit our documentation site for more information, or you can contact us at ",e.jsx("a",{href:"#",children:"support@smartdx.co"})," for your questions."]})})]})})})},m={generateSDK:{completed:!1},createUser:{completed:!1},createDynamicList:{completed:!1},createSmartList:{completed:!1},setupPushNotification:{completed:!1}},u=({onShowCreateUser:t,isUserCreated:n,jsonData:r,setJsonData:l,theme:o,isMinimized:d,setIsMinimized:u})=>{const[h,p]=s.useState(m),[j,x]=s.useState(!1),g=a();s.useEffect((()=>{p((e=>({...e,createUser:{completed:n}})))}),[n]),s.useEffect((()=>{r.installation&&r.embed&&r.generate&&r.onboard&&r.fcm?p((e=>({...e,generateSDK:{completed:!0}}))):p((e=>({...e,generateSDK:{completed:!1}})))}),[r]);const _=Object.keys(h).length,v=Object.values(h).filter((e=>e.completed)).length,N=v/_*100;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`${i.card} ${d?i.minimized:""} ${"dark"===o?i.dark:""}`,children:[e.jsxs("div",{className:i.header,children:[e.jsx("h2",{children:`Hey ${null==g?void 0:g.firstName} , Lets get started.`}),e.jsx("div",{className:i.headerIcons,children:e.jsx("span",{onClick:()=>{u(!d)},style:{cursor:"pointer"},children:d?"+":"-"})})]}),!d&&e.jsxs(e.Fragment,{children:[e.jsx("p",{style:{textAlign:"left"},children:`${v} of ${_} is completed`}),e.jsx("div",{className:i.progressBar,children:e.jsx("div",{className:i.progress,style:{width:`${N}%`}})}),e.jsxs("div",{className:i.taskItem,children:[e.jsx("span",{className:i.taskStatus,style:{backgroundColor:h.generateSDK.completed?"green":"lightGray"}}),e.jsx("span",{onClick:()=>{x(!0)},style:{cursor:"pointer"},children:"Generate SDK"})]}),e.jsxs("div",{className:i.taskItem,onClick:()=>{t&&t()},style:{cursor:"pointer"},children:[" ",e.jsx("span",{className:i.taskStatus,style:{backgroundColor:h.createUser.completed?"green":"lightGray"}}),e.jsx("span",{children:"Create user"})]}),e.jsxs("div",{className:i.taskItem,children:[e.jsx("span",{className:i.taskStatus,style:{backgroundColor:h.createDynamicList.completed?"green":"lightGray"}}),e.jsx("span",{children:"Create your first dynamic list"})]}),e.jsxs("div",{className:i.taskItem,children:[e.jsx("span",{className:i.taskStatus,style:{backgroundColor:h.createSmartList.completed?"green":"lightGray"}}),e.jsx("span",{children:"Create your first smartlink"})]}),e.jsxs("div",{className:i.taskItem,children:[e.jsx("span",{className:i.taskStatus,style:{backgroundColor:h.setupPushNotification.completed?"green":"lightGray"}}),e.jsx("span",{children:"Set up your first push notification"})]})]})]}),e.jsx(c,{isOpen:j,onClose:()=>{x(!1)},jsonData:r,setJsonData:l,theme:o})]})},h=({onClose:a,onUserCreated:t,theme:n})=>{const[r,i]=s.useState({firstName:"",lastName:"",email:"",password:""}),l=e=>{const{name:s,value:a}=e.target;i({...r,[s]:a})};return e.jsxs("div",{style:{zIndex:100},className:`${o.onboardingContainer} ${"dark"===n?o.dark:""}`,children:[" ",e.jsx("h2",{children:"Create User"}),e.jsxs("form",{onSubmit:e=>{e.preventDefault(),t&&t(),a()},children:[e.jsxs("div",{className:o.formGroup,children:[" ",e.jsx("label",{htmlFor:"firstName",children:"First name"}),e.jsx("input",{type:"text",id:"firstName",name:"firstName",value:r.firstName,placeholder:"Enter first name",onChange:l})]}),e.jsxs("div",{className:o.formGroup,children:[" ",e.jsx("label",{htmlFor:"lastName",children:"Last name"}),e.jsx("input",{type:"text",id:"lastName",name:"lastName",value:r.lastName,placeholder:"Enter last name",onChange:l})]}),e.jsxs("div",{className:o.formGroup,children:[" ",e.jsx("label",{htmlFor:"email",children:"Email ID"}),e.jsx("input",{type:"email",id:"email",name:"email",value:r.email,onChange:l,placeholder:"Enter email id",className:o.formInput})]}),e.jsxs("div",{className:o.formGroup,children:[" ",e.jsx("label",{htmlFor:"password",children:"Password"}),e.jsx("input",{type:"password",id:"password",name:"password",value:r.password,onChange:l,placeholder:"Enter Min. 8 characters",className:o.formInput})]}),e.jsxs("div",{className:o.buttonContainer,children:[" ",e.jsx("button",{type:"button",className:o.cancelButton,onClick:a,children:"Cancel"}),e.jsx("button",{type:"submit",className:o.saveButton,children:"Add user"})]})]})]})};function p(){const a=s.useContext(t);s.useState(0);const[i,l]=s.useState(!1),[o,d]=s.useState(!1),[m,p]=s.useState({onboard:!1,fcm:!1,generate:!1,embed:!1,installation:!1}),[j,x]=s.useState("light");s.useState(!0);const[g,_]=s.useState(!1),[v,N]=s.useState(!0),[f,b]=s.useState(null),[C,y]=s.useState(!1);s.useEffect((()=>{const e=localStorage.getItem("theme");e&&x(e),S()}),[]);const S=()=>{setTimeout((()=>{n(a,(e=>{(null==e?void 0:e.status)&&r()}))}),2e3)};s.useEffect((()=>{localStorage.setItem("theme",j),"dark"===j?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode")}),[j]);const k=()=>{l(!1)};return e.jsxs("div",{className:`app-container ${j}`,children:[" ",e.jsxs(e.Fragment,{children:[e.jsx(c,{isOpen:g,onClose:()=>{_(!1),y(!1)},jsonData:m,setJsonData:p,theme:j,selectedMethod:f,showOnboardingInitially:C}),e.jsx(u,{onShowCreateUser:()=>{l(!0)},isUserCreated:o,jsonData:m,setJsonData:p,theme:j,isMinimized:v,setIsMinimized:N}),i&&e.jsx(h,{onClose:k,onUserCreated:()=>{d(!0),k()},theme:j})]})]})}export{p as default};
