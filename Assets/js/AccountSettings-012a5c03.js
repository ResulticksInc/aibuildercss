var e=Object.defineProperty,t=(t,a,l)=>(((t,a,l)=>{a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[a]=l})(t,"symbol"!=typeof a?a+"":a,l),l);import{j as a}from"./pdf-editor-be9d2bd2.js";import{i as l,r as s}from"./react-vendor-379f659a.js";import{R as n}from"./RTabbar-119e28fb.js";import{i,q as o,b as r}from"./utils-16c7e021.js";import{d,A as u}from"./Skeleton-e3c7c022.js";import{R as c,L as m}from"./RSKendoDropdown-89bac735.js";import{R as v,a as g}from"./RSCheckbox-6c51a528.js";import"./style-a86a43a5.js";import{z as p,aB as h,fG as x,bX as y,Y as f,aC as I,ad as j,M as b,fx as S,bK as N,ai as C,aj as D,a0 as F,fF as T,fb as k,aa as w,f3 as M,c7 as L,fE as A,Ch as R,fB as E,fC as z,fD as P,f6 as K,B as U,E as q,aK as O,fA as B,X as Z,f4 as V,eQ as W,e9 as $,fo as G,aJ as J,av as X,ar as Y,fp as _,ab as Q,fq as H,bP as ee,ah as te,aS as ae}from"./index-75225e0a.js";import{R as le}from"./RSUploadImageComponent-41ad002a.js";import{RSErrorPopup as se}from"./RSConfirmAlert-c9e1da8b.js";import{R as ne}from"./RSFormGroup-2e23951f.js";import"./RSDropdowns-9012b9eb.js";import{R as ie,a as oe,C as re}from"./ui-a5a97ebf.js";import{M as de}from"./kendo-5d73125a.js";import{k as ue,a as ce,b as me,c as ve,d as ge}from"./constantObject-ca27cf51.js";import{L as pe}from"./LayoutPageWrapper-c659fc07.js";import{U as he,A as xe,a as ye}from"./CompanyUserList-6f3010b3.js";import"./Users-25359383.js";import"./constants-82903eb8.js";import"./get-4aa85b1a.js";import"./drag-drop-4af74c4a.js";import"./RSIcon-40715e67.js";import"./RSPhoneInput-a07ff6f4.js";import"./inputLimit-ce03b0f6.js";import"./FormListWrapper-0cd539ec.js";import"./FormLabel-7c8c6237.js";import"./FormFieldIcon-388bc468.js";import"./SkeletonTable-f73684ed.js";import"./index-44141e50.js";import"./RSSwitch-b5eda9e2.js";const fe=e=>{const t=l(),n=s.useContext(p),o=s.useContext(h),[r,u]=s.useState(""),[m,g]=s.useState(""),[$,G]=s.useState(""),[J,X]=s.useState(""),[Y,_]=s.useState(""),[Q,H]=s.useState(""),[ee,te]=s.useState(""),[ae,re]=s.useState("Large"),[de,ue]=s.useState(null),[ce,me]=s.useState(null),[ve,ge]=s.useState(null),[pe,he]=s.useState(null),[xe,ye]=s.useState([]),[fe,Ie]=s.useState(null),[je,be]=s.useState([]),[Se,Ne]=s.useState(null),[Ce,De]=s.useState([]),[Fe,Te]=s.useState(null),[ke,we]=s.useState([]),[Me,Le]=s.useState(null),[Ae,Re]=s.useState([]),[Ee,ze]=s.useState({brandPositionId:-1,brandPositionName:x}),[Pe,Ke]=s.useState([]),[Ue,qe]=s.useState(null),[Oe,Be]=s.useState("");s.useState("");const[Ze,Ve]=s.useState(null),[We,$e]=s.useState(null),[Ge,Je]=s.useState(""),[Xe,Ye]=s.useState(null),[_e,Qe]=s.useState(null),[He,et]=s.useState(null),[tt,at]=s.useState(null),[lt,st]=s.useState(!1),[nt,it]=s.useState(null),[ot,rt]=s.useState(!1),[dt,ut]=s.useState(!1),[ct,mt]=s.useState(!1),[vt,gt]=i({isLoading:!0,isError:!1}),[pt,ht]=s.useState(!1),xt=y().slice(0,-1);s.useEffect((()=>{o.apiStateData.setIsReloadData(!1),(()=>{var e;const t=N();let a=null==(e=null==t?void 0:t.industry)?void 0:e.sort(((e,t)=>e.industryName>t.industryName?1:-1));ye((null==t?void 0:t.countryMaster)||[]),we(a||[]),Re((null==t?void 0:t.businessType)||[])})();let e=f(),t=!1,a=!1,l=!1;const s=I("Account settings");t=1==(null==s?void 0:s.accessUpdateData),rt(t),1==(null==s?void 0:s.accessUpdateData)&&(a=!0),1==(null==s?void 0:s.accessViewData)&&(l=!0),ut(a),mt(l),ut(a),mt(l);let i=j();null!==(null==e?void 0:e.parentClientId)&&void 0!==(null==e?void 0:e.parentClientId)&&0!==(null==e?void 0:e.parentClientId)&&(i=null==e?void 0:e.parentClientId);const r={clientId:i};b({path:S,sessionOut:n.globalStateData.setSessionOutData,params:r,isCache:!1,isServiceWorker:!1,ok:e=>{e.status?(yt(e.data),ft(e.data),gt((e=>(e.isLoading=!1,e)))):gt((e=>(e.isError=!0,e)))},fail:e=>{gt((e=>(e.isError=!0,e)))}})}),[o.apiStateData.getIsReloadData]);const yt=e=>{var t,a,l,s,i,o,r;try{let d="";const c=N();if(null!==(null==e?void 0:e.website)&&void 0!==(null==e?void 0:e.website)&&""!==(null==e?void 0:e.website)||C(n,(t=>{var a,l;const s=D();null!==(null==s?void 0:s.domainsList)&&void 0!==(null==s?void 0:s.domainsList)&&(null==(a=null==s?void 0:s.domainsList)?void 0:a.length)>0&&(d=null==(l=null==s?void 0:s.domainsList[0])?void 0:l.domainUrl),g(e.website||d)})),u(e.clientName||""),g(e.website||d),G(e.address||""),X(e.address1||""),_(e.state||""),te(e.zipCode||""),re(e.companySize||""),ue(e.logoPath||null),me(e.logoPath||null),re(e.companySize||""),H((null==e?void 0:e.city)||""),ze((null==(t=null==c?void 0:c.brandPosition)?void 0:t.filter((t=>t.brandPositionId===e.brandPositionId))[0])||null),null!==localStorage.getItem("pdetails")&&void 0!==localStorage.getItem("pdetails"))if(null===e.countryId||void 0===e.countryId||0===e.countryId){let e=F(localStorage.getItem("pdetails")),t=(null==e?void 0:e.countryID)||0;0!==t?(he((null==(a=c.countryMaster)?void 0:a.filter((e=>e.countryId===t))[0])||null),It(t)):he(null)}else he((null==(l=c.countryMaster)?void 0:l.filter((t=>t.countryId===e.countryId))[0])||null),It(e.countryId);else{const t=N();let a=(null==t?void 0:t.countryMaster)||[];if(null===e.countryId&&void 0!==localStorage.getItem("bdetails")&&null!==localStorage.getItem("bdetails")&&a.length>0){let t=F(localStorage.getItem("bdetails")),l=a.filter((e=>e.country===t.country_name));l.length>0?(It((null==(s=l[0])?void 0:s.countryId)||0),he((null==(i=c.countryMaster)?void 0:i.filter((e=>e.countryId===l[0].countryId))[0])||null)):he((null==(o=c.countryMaster)?void 0:o.filter((t=>t.countryId===e.countryId))[0])||null)}else he((null==(r=c.countryMaster)?void 0:r.filter((t=>t.countryId===e.countryId))[0])||null)}Te(c.industry.filter((t=>t.industryId===e.industryId))[0]||null);let m=e.businessTypeId;1===m?localStorage.setItem("btype","1"):2===m&&localStorage.setItem("btype","2"),Le(c.businessType.filter((e=>e.businessTypeId===m))[0]||{businessTypeId:-1,businessType:T});let v=c.brandPosition.filter((e=>e.clienttype===m));Ke(v)}catch(d){}},ft=e=>{var t;(null==(t=null==e?void 0:e.state)?void 0:t.length)&&jt(null==e?void 0:e.countryId,(t=>{let a=localStorage.getItem("stateArray");if((null==a?void 0:a.length)>0){const t=JSON.parse(a).find((t=>t.state===(null==e?void 0:e.state)));bt(null==t?void 0:t.stateID)}}))},It=e=>{b({path:k,params:{CountryID:e},isCache:!1,isServiceWorker:!1,ok:e=>{var t;!0===e.status&&(localStorage.setItem("pdetails",w(e.data)),jt(null==(t=null==e?void 0:e.data)?void 0:t.countryID,(e=>{})))},fail:e=>{}})},jt=(e,t)=>{b({path:M,params:{id:e},isCache:!1,isServiceWorker:!1,ok:e=>{(null==e?void 0:e.status)?(be((null==e?void 0:e.data)||[]),localStorage.setItem("stateArray",JSON.stringify(null==e?void 0:e.data)),t&&t(!0)):t&&t(!1)},fail:e=>{t&&t(!1)}})},bt=e=>{b({path:V,params:{id:e},isCache:!1,isServiceWorker:!1,ok:e=>{(null==e?void 0:e.status)&&De((null==e?void 0:e.data)||[])},fail:e=>{}})};return a.jsx("div",{className:"page-wrapper",children:vt.isLoading?a.jsx("div",{className:"box-design rs-box-min-height py40",children:a.jsx("div",{className:"settings-container",children:a.jsx(d,{isError:vt.isError})})}):a.jsxs("div",{className:"settings-container",children:[lt&&a.jsx(se,{headerTitle:"Sorry",para:nt,primaryButtonText:"OK",buttonClicked:e=>{st(!1)}}),a.jsx("div",{className:(dt?"click-on":"click-off")+" box-design rs-box-min-height py40",children:a.jsxs(ie,{className:"res-gx-2",children:[a.jsx(oe,{md:3,sm:3,children:a.jsx(le,{className:"enable-remove",defaultImg:"/assets/svg/organisation-c400d1fa.svg",defaultValue:de,newImg:ce?`${xt}${ce}`:null,text:ce||de?"Edit logo":"Upload logo",cb:e=>{me(null),ue(e)},error:e=>{ge(e)},errorMessage:ve,removeIcon:null!==de,handleRemove:()=>{me(null),ue(null)}})}),a.jsxs(oe,{md:9,className:"box-left-border",children:[a.jsx("h4",{className:"marginB30",children:"About your company"}),a.jsx(ne,{children:a.jsxs(ie,{children:[a.jsx(oe,{children:a.jsx(v,{disabled:!0,name:"company name",placeholder:"Company name",val:r,required:!0,cb:e=>u(e)})}),a.jsx(oe,{children:a.jsx(v,{name:"website",errorMessage:Ue||"",placeholder:"Website URL",required:!0,val:m,cb:e=>{let t=e.trimStart();/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(t)||(g(t),qe(null))},ob:e=>{e.length?L(e,n,(e=>{}),(e=>{qe("Invalid website")})):qe("Enter website URL")}})})]})}),1==pt?null:a.jsx(ne,{children:a.jsxs(ie,{children:[a.jsx(oe,{className:"position-relative",children:a.jsx(c,{disabled:null!=Fe,label:"Industry",textField:"industryName",dataItemKey:"industryId",required:!0,errorMessage:_e,data:ke,value:Fe||{industryId:-1,industryName:A},onChange:e=>{Te(e.target.value),Qe(null)}})}),a.jsx(oe,{children:a.jsxs(ie,{children:[a.jsx(oe,{md:6,className:"position-relative "+(null===localStorage.getItem("btype")||void 0===localStorage.getItem("btype")?"click-on":"click-off"),children:a.jsx(c,{label:"Business type",textField:"businessType",dataItemKey:"businessTypeId",required:!0,errorMessage:He,data:Ae,value:Me||{businessTypeId:-1,businessType:T},onChange:e=>{let t=N().brandPosition.filter((t=>t.clienttype===e.target.value.businessTypeId));Ke(t),ze({brandPositionId:-1,brandPositionName:x}),Le(e.target.value),et(null)}})}),a.jsx(oe,{md:6,className:"position-relative",children:a.jsx(c,{label:"Brand position",textField:"brandPositionName",dataItemKey:"brandPositionId",required:!0,errorMessage:tt,data:Pe,value:Ee||{brandPositionId:-1,brandPositionName:x},onChange:e=>{ze(e.target.value),at(null)}})})]})})]})}),a.jsx(ne,{children:a.jsxs(ie,{children:[a.jsx(oe,{children:a.jsx(v,{name:"address",placeholder:"Address",val:$,required:!0,errorMessage:Oe||"",cb:e=>{let t=e.trimStart();/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(t)||(G(t),Be(""))},ob:e=>{0===e.length?Be(R):e.length<8&&Be("Address should contain atleast 8 characters")}})}),a.jsx(oe,{md:6,children:a.jsx(ne,{children:a.jsxs(ie,{children:[a.jsx(oe,{md:6,children:a.jsx("div",{className:"position-relative",children:a.jsx(c,{required:!0,label:"Country",textField:"country",dataItemKey:"countryId",errorMessage:Xe,data:xe,value:pe||{countryId:-1,country:E},onChange:e=>{var t;he(e.target.value),jt(null==(t=e.target.value)?void 0:t.countryId,(e=>{})),It(e.target.value.countryId),Ye(null)}})})}),a.jsx(oe,{md:6,children:a.jsx("div",{className:"position-relative",children:a.jsx(c,{required:!0,label:"State",textField:"state",dataItemKey:"stateID",errorMessage:Ze||"",data:je,value:je.find((e=>e.state===Y))||{stateID:-1,state:z},onChange:e=>{var t,a;Ie(e.target.value),_(null==(t=e.target.value)?void 0:t.state),bt(null==(a=e.target.value)?void 0:a.stateID),Ve(null)}})})})]})})})]})}),a.jsx(ie,{children:a.jsx(oe,{md:6,className:"marginT-20",children:a.jsx(ne,{children:a.jsxs(ie,{children:[a.jsx(oe,{md:6,children:a.jsx("div",{className:"position-relative",children:a.jsx(c,{required:!0,label:"City",textField:"city",dataItemKey:"cityID",errorMessage:We||"",data:Ce,value:Ce.find((e=>e.city===Q))||{cityID:-1,city:P},onChange:e=>{var t;Ne(e.target.value),H(null==(t=e.target.value)?void 0:t.city),$e(null)}})})}),a.jsx(oe,{md:6,children:a.jsx(v,{name:"zipcode",placeholder:"Zip code",max:20,val:ee,required:!0,errorMessage:Ge||"",cb:e=>{if(/^\d*$/.test(e)){let t=e.length?null:K;/[`!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~]/.test(e)&&(e=e.substring(0,e.length-1),t="Special character are not allowed"),te(e),Je(t)}else Je(W)},ob:e=>{let t=e.length<=0?K:null;Je(t),te(e)}})})]})})})})]})]})}),a.jsxs("div",{className:"btn-container d-flex justify-content-end box-bottom-space",children:[a.jsx(U,{onClick:()=>{t.push("/preferences")},children:"Cancel"}),a.jsx(q,{className:dt?"click-on":"click-off",onClick:()=>{if(!0===O())return void e.setIndex(e.index+1);if(0===m.length)return void qe("Enter website URL");if(null!==Ue)return void qe("Enter valid website");if(!$.length)return void Be(R);if($.length<8)return void Be("The address should contain atleast 8 characters");if(null===pe)return void Ye("Select country");if(""===Y&&null===fe)return void Ve("Select state");if(""===Q&&null===Se)return void $e("Select city");if(0===ee.length)return void Je("Enter zip code");if(ee.length<3)return void Je("Zipcode should contain atleast 3 characters");if(0==pt){if(null===Fe)return void Qe("Select industry");if((null==Me?void 0:Me.businessTypeId)<1)return void et("Select business type");if(-1===(null==Ee?void 0:Ee.brandPositionId))return void at("Select brand position")}let t=f(),a=j();null!=(null==t?void 0:t.parentClientId)&&null!=(null==t?void 0:t.parentClientId)&&0!=(null==t?void 0:t.parentClientId)&&(a=null==t?void 0:t.parentClientId);const l={clientId:a,clientName:r,isQuickAccount:!0,website:m,address:$,address1:"chennai",state:Y,zipCode:ee,countryId:null==pe?void 0:pe.countryId,industryId:pt?1:null==Fe?void 0:Fe.industryId,businessTypeId:pt?1:null==Me?void 0:Me.businessTypeId,brandPositionId:pt?1:null==Ee?void 0:Ee.brandPositionId,logoPath:de,city:Q};1===(null==Me?void 0:Me.businessTypeId)&&localStorage.setItem("btype",17),2===(null==Me?void 0:Me.businessTypeId)&&localStorage.setItem("btype",16),n.globalStateData.setKeyContactInfoData({...n.globalStateData.getKeyContactInfoData,brandDetails:l}),b({path:B,params:l,loading:n.globalStateData.setIsLoadingData,sessionOut:n.globalStateData.setSessionOutData,ok:t=>{const a=new CustomEvent("myCustomEvent",{detail:{message:"Hello from custom event!"}});if(window.dispatchEvent(a),t.status){let t=f();t.isAccSettingsCompleted=!0,localStorage.setItem("lsUserData",w(t)),e.setIndex(e.index+1)}else st(!0),it((null==t?void 0:t.message)||Z)},fail:t=>{e.setIndex(e.index+1)}})},children:"Save"})]})]})})},Ie=e=>{const t=l(),n=s.useContext(p),r=s.useContext(h),[d,v]=i({isLoading:!0,isError:!1}),[x,y]=s.useState([]),[S,C]=s.useState([]),[D,T]=s.useState([]),[k,w]=s.useState([]),[M,L]=s.useState(null),[A,R]=s.useState(null),[E,z]=s.useState(null),[P,K]=s.useState(null),[U,B]=s.useState(null),[V,W]=s.useState([]),[ae,le]=s.useState(ue),[re,pe]=s.useState(null),[he,xe]=s.useState([]),[ye,fe]=s.useState(ce),[Ie,je]=s.useState(null),[be,Se]=s.useState([]),[Ne,Ce]=s.useState(me),[De,Fe]=s.useState(null),[Te,ke]=s.useState([]),[we,Me]=s.useState(ve),[Le,Ae]=s.useState(null),[Re,Ee]=s.useState([]),[ze,Pe]=s.useState(ge),[Ke,Ue]=s.useState(!1),[qe,Oe]=s.useState(null),[Be,Ze]=s.useState([]),[Ve,We]=s.useState(null),[$e,Ge]=s.useState([]),[Je,Xe]=s.useState(null),[Ye,_e]=s.useState([]),[Qe,He]=s.useState(!1),[et,tt]=s.useState(null),[at,lt]=s.useState(!1),[st,nt]=s.useState(!1);s.useEffect((()=>{let e=f(),t=!1;const a=I("Account settings");t=1==(null==a?void 0:a.accessUpdateData),nt(t),(null==e?void 0:e.isAgency)&&lt(null==e?void 0:e.isAgency),r.apiStateData.setIsReloadData(!1),window.scroll(0,0),rt(),it(),_e([{link:"https://"+$,id:0,error:null}])}),[r.apiStateData.getIsReloadData]),void 0!==localStorage.getItem("sldomadd")&&null!==localStorage.getItem("sldomadd")&&localStorage.getItem("sldomadd")&&window.scrollTo(0,500);const it=()=>{const e={clientId:j()};b({path:G,params:e,sessionOut:n.globalStateData.setSessionOutData,ok:e=>{var t,a,l,s,n;if(e.status){if(dt(e.data),ot((null==(t=null==e?void 0:e.data)?void 0:t.currencyId)||0),v((e=>(e.isLoading=!1,e.isError=!1,e))),(null==(l=null==(a=null==e?void 0:e.data)?void 0:a.brandDomainMaster)?void 0:l.length)>0){let t=[];null==(n=null==(s=null==e?void 0:e.data)?void 0:s.brandDomainMaster)||n.map(((e,a)=>{t.push({link:e.link,id:a,error:null})})),_e(t)}}else ot(),v((e=>(e.isError=!0,e)))},fail:e=>{v((e=>(e.isError=!0,e)))}})},ot=e=>{let t=f();if(null==t||t.isAccSettingsCompleted,0===e){const e=N();if(void 0!==localStorage.getItem("pdetails")&&null!==localStorage.getItem("pdetails")){let t=F(localStorage.getItem("pdetails"));le(e.currencyMaster.filter((e=>e.currencyId===(null==t?void 0:t.currencyID)))[0]||ue),fe(e.languageMaster.filter((e=>e.languageId===(null==t?void 0:t.defaultLanguageId)))[0]||ce),Ce(e.timeZone.filter((e=>e.timezoneId===(null==t?void 0:t.defaultTimeZoneID)||0))[0]||me),Me(e.dateFormat.filter((e=>e.dateFormatId===(null==t?void 0:t.defaultDateformatID)||0))[0]||ve),Pe(e.timeFormat.filter((e=>e.timeFormatId===(null==t?void 0:t.defaultTimeFormatID)||0))[0]||ge)}else{let t=F(localStorage.getItem("lsTimzoneData")),a=F(localStorage.getItem("lsUserData"));null!==(null==a?void 0:a.currencyId)&&void 0!==(null==a?void 0:a.currencyId)&&le(e.currencyMaster.filter((e=>e.currencyId===(null==a?void 0:a.currencyId)))[0]||ue),null!==t&&(fe(e.languageMaster.filter((e=>e.languageId===(null==t?void 0:t.languageId)))[0]||ce),e.timeZone.filter((e=>e.timezoneId===(null==t?void 0:t.timezoneId)||0))[0],Ce(e.timeZone.filter((e=>e.timezoneId===(null==t?void 0:t.timezoneId)||0))[0]||me),Me(e.dateFormat.filter((e=>e.dateFormatId===(null==t?void 0:t.dateFormatId)||0))[0]||ve),Pe(e.timeFormat.filter((e=>e.timeFormatId===(null==t?void 0:t.timeFormatId)||0))[0]||ge))}}},rt=()=>{const e=N();W(e.currencyMaster),xe(e.languageMaster),Se(e.timeZone),ke(e.dateFormat),Ee(e.timeFormat)},dt=e=>{Oe(e);const t=N();le(t.currencyMaster.filter((t=>t.currencyId===e.currencyId))[0]||ue),fe(t.languageMaster.filter((t=>t.languageId===e.languageId))[0]||ce),Ce(t.timeZone.filter((t=>t.timezoneId===e.timezoneId))[0]||me),Me(t.dateFormat.filter((t=>t.dateFormatId===e.dateFormatId))[0]||ve),Pe(t.timeFormat.filter((t=>t.timeFormatId===e.timeformatId))[0]||ge),Ue(e.isDayLight||!1),Ze((null==e?void 0:e.smartlinkMaster)||[]),Ge((null==e?void 0:e.campaignlinkMaster)||[]),w((null==e?void 0:e.productCategoryMaster)||[]),y((null==e?void 0:e.campaignTypeMaster)||[]),C((null==e?void 0:e.engagementMaster)||[]),T((null==e?void 0:e.conversionMaster)||[])},ut=(e,t)=>{b({path:_,params:e,loading:n.globalStateData.setIsLoadingData,sessionOut:n.globalStateData.setSessionOutData,ok:e=>{t(e.status)},fail:e=>{t(!1)}})};return J().addons.filter(((e,t)=>1===(null==e?void 0:e.addonId))),a.jsxs("div",{children:[!0===Qe&&a.jsx(se,{headerTitle:"Settings",para:et,primaryButtonText:"OK",buttonClicked:e=>{tt(null),He(!1)}}),d.isLoading?a.jsx("div",{className:"settings-container",children:a.jsx("div",{className:"box-design ",children:a.jsx(u,{isError:d.isError})})}):a.jsxs("div",{className:"settings-container",children:[a.jsxs("div",{className:(st?"click-on":"click-off")+" box-design",children:[a.jsx("h4",{className:"marginB30",children:"Localization details"}),a.jsx(ne,{children:a.jsxs(ie,{children:[a.jsx(oe,{children:a.jsx(c,{required:!0,label:"Currency",textField:"currencyName",dataItemKey:"currencyId",data:V,value:ae||ue,errorMessage:null!=U&&U,onChange:e=>{X("currencyDropdownItem",e.target.value),le(e.target.value),B(null)}})}),a.jsx(oe,{children:a.jsx(c,{required:!0,label:"Date format",textField:"dateFormat",dataItemKey:"dateFormatId",data:Te,value:we||ve,errorMessage:null!=De&&De,onChange:e=>{X("dateFormatDropdownItem",e.target.value),Me(e.target.value),Fe(null)}})})]})}),a.jsx(ne,{children:a.jsxs(ie,{children:[a.jsx(oe,{children:a.jsx(c,{required:!0,label:"Language",textField:"languageName",dataItemKey:"languageId",data:he,value:ye||ce,errorMessage:null!=re&&re,onChange:e=>{X("languageDropdownItem",e.target.value),fe(e.target.value),pe(null)}})}),a.jsx(oe,{children:a.jsx(c,{required:!0,label:"Time format",textField:"timeFormat",dataItemKey:"timeFormatId",data:Re,value:ze||ge,errorMessage:null!=Le&&Le,onChange:e=>{X("timeFormatDropdownItem",e.target.value),Pe(e.target.value),Ae(null)}})})]})}),a.jsx(ne,{children:a.jsxs(ie,{children:[a.jsx(oe,{children:a.jsx(c,{required:!0,label:"Time zone",textField:"timezoneName",dataItemKey:"timezoneId",data:be,value:Ne||me,errorMessage:null!=Ie&&Ie,onChange:e=>{X("timeZoneDropdownItem",e.target.value),Ce(e.target.value),je(null)}})}),a.jsx(oe,{children:a.jsx("div",{className:Ne.isDayLight?"":"click-off",children:a.jsx(g,{className:"marginT6",checked:Ke,cb:e=>Ue(e),lbl:"Daylight savings"})})})]})}),a.jsxs("div",{className:"marginY20 "+(O()?"click-off":"click-on"),children:[a.jsxs(ie,{children:[1==at?null:a.jsx(oe,{md:4,children:a.jsxs("div",{children:[a.jsxs("div",{style:{display:"flex",flexDirection:"row"},children:[a.jsx("h4",{className:"mb10",children:"Custom Domain"}),a.jsx(Y,{icon:"icon-rs-circle-question-mark-medium ml20",size:"md",tooltip:"Generic domain (slg.smartdx.co) will be rebranded to branded domain (link.brandname.io) to enable contact support team."})]}),a.jsxs("div",{className:"chips-container",children:[a.jsx("div",{className:"border-box-chips",children:a.jsx("div",{className:"multi-camp-type-max",children:a.jsx(de,{placeholder:"Enter communication types",autoClose:!0,listNoDataRender:m,value:x,textField:"campaignTypeValue",dataItemKey:"campaignTypeId",allowCustom:!0,filterable:!0,onFilterChange:e=>{e.filter.value.length>75&&L("Reached max count")},onChange:e=>{const t=e.target.value;var a="add";if(x.length>t.length&&(a="delete"),"add"===a&&t.length<=15){let e=t.reduce(((e,t)=>e.find((e=>e.campaignTypeValue.toLowerCase()===t.campaignTypeValue.toLowerCase()))?e:e.concat([t])),[]).filter((e=>{var t;if(!/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(e.campaignTypeValue))return""!==(null==(t=e.campaignTypeValue)?void 0:t.trim())}));return L(null),void y(e)}if("add"===a&&t.length>15)return L("Added maximum of communication types"),void setTimeout((()=>{L(null)}),3e3);((e,t)=>{let a="",l=[];if(x.map((t=>{0===e.filter((e=>t.campaignTypeId===e.campaignTypeId)).length&&(t.selected=!1,l.push(t))})),l.length>0){let e={clientId:j(),categoryName:l[0].campaignTypeValue,categoryType:"Communication Types"};a=l[0].campaignTypeValue,ut(e,(e=>{t("delete",e)}))}else t("add",!0)})(t,((e,a,l)=>{if("add"===e||"delete"===e&&!0===a){y(t);let e=t.length>0?null:"Add communication types";L(e)}else"delete"===e&&!1===a&&(y(x),L("Communication type already mapped. Cannot be deleted."))}))}})})}),a.jsx("small",{className:"fs12",children:"Maximum of 15 communication types can be added"})]})]})}),1==at?null:a.jsx(oe,{md:4,children:a.jsxs("div",{children:[A?a.jsx("div",{className:"validation-message multi-select-valid-msg",style:{top:-23,left:12},children:A}):null,E?a.jsx("div",{className:"validation-message multi-select-valid-msg",style:{top:-23,left:12},children:E}):null,a.jsx("h4",{className:"mb10",children:"Conversion types"}),a.jsxs("div",{className:"chips-container",children:[a.jsxs("div",{className:"border-box-chips",children:[a.jsx("h6",{children:"Engagement"}),a.jsx("div",{className:"multi-engage-max",children:a.jsx("div",{className:"position-relative",children:a.jsx(de,{value:S,autoClose:!0,listNoDataRender:m,placeholder:"Enter engagement types",textField:"conversionName",dataItemKey:"conversionTypeId",allowCustom:!0,filterable:!0,onFilterChange:e=>{e.filter.value.length>75&&R("Reached max count")},onChange:e=>{const t=e.target.value;var a="add";if(S.length>t.length&&(a="delete"),"add"===a&&t.length<=15){let e=t.reduce(((e,t)=>e.find((e=>e.conversionName.toLowerCase()===t.conversionName.toLowerCase()))?e:e.concat([t])),[]).filter((e=>{var t;if(!/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(e.conversionName))return""!==(null==(t=e.conversionName)?void 0:t.trim())}));return R(null),void C(e)}if("add"===a&&t.length>15)return R("Added maximum engagement types"),void setTimeout((()=>{R(null)}),3e3);((e,t)=>{let a=[];if(S.map((t=>{0===e.filter((e=>t.conversionName===e.conversionName)).length&&(t.selected=!1,a.push(t))})),a.length>0){let e={clientId:j(),categoryName:a[0].conversionName,categoryType:"Conversion Types",goalType:"E"};ut(e,(e=>{t("delete",e)}))}else t("add",!0)})(t,((e,a)=>{if("add"===e||"delete"===e&&!0===a){C(t);let e=t.length>0?null:"Add engagement types";R(e)}else"delete"===e&&!1===a&&(C(S),R("Engagement type already mapped. Cannot be deleted."),setTimeout((()=>{R(null)}),3e3))}))}})})}),a.jsx("div",{className:"dotted-line"}),a.jsx("h6",{children:"Conversion"}),a.jsxs("div",{className:"multi-conversion-max",children:[a.jsx("div",{className:"position-relative"}),a.jsx(de,{value:D,listNoDataRender:m,placeholder:"Enter conversion types",textField:"conversionName",dataItemKey:"conversionTypeId",allowCustom:!0,filterable:!0,onFilterChange:e=>{e.filter.value.length>75&&z("Reached max count")},onChange:e=>{const t=e.target.value;var a="add";if(D.length>t.length&&(a="delete"),"add"===a&&t.length<=15){let e=t.reduce(((e,t)=>e.find((e=>e.conversionName.toLowerCase()===t.conversionName.toLowerCase()))?e:e.concat([t])),[]).filter((e=>{var t;if(!/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(e.conversionName))return""!==(null==(t=e.conversionName)?void 0:t.trim())}));return z(null),void T(e)}if("add"===a&&t.length>15)return z("Added maximum conversion types"),void setTimeout((()=>{z(null)}),3e3);((e,t)=>{let a=[];if(D.map((t=>{0===e.filter((e=>t.conversionName===e.conversionName)).length&&(t.selected=!1,a.push(t))})),a.length>0){let e={clientId:j(),categoryName:a[0].conversionName,categoryType:"Conversion Types",goalType:"C"};ut(e,(e=>{t("delete",e)}))}else t("add",!0)})(t,((e,a)=>{if("add"===e||"delete"===e&&!0===a){T(t);let e=t.length>0?null:"Add conversion types";z(e)}else"delete"===e&&!1===a&&(T(D),z("Conversion type is already mapped. Cannot be deleted."),setTimeout((()=>{z(null)}),3e3))}))}})]})]}),a.jsx("small",{className:"fs12",children:"Maximum of 15 conversion types can be added"})]})]})}),1==at?null:a.jsx(oe,{md:4,children:a.jsxs("div",{children:[P?a.jsx("div",{className:"validation-message multi-select-valid-msg",style:{top:-23,left:12},children:P}):null,a.jsx("h4",{className:"mb10",children:"Product categories"}),a.jsxs("div",{className:"chips-container",children:[a.jsx("div",{className:"border-box-chips",children:a.jsx("div",{className:"multi-product-cate-max",children:a.jsx("div",{className:"position-relative",children:a.jsx(de,{value:k,listNoDataRender:m,placeholder:"Enter product categories",textField:"friendlyName",dataItemKey:"categoryId",allowCustom:!0,filterable:!0,onFilterChange:e=>{e.filter.value.length>75&&K("Reached max count")},onChange:e=>{const t=e.target.value;var a="add";if(k.length>t.length&&(a="delete"),"add"===a&&t.length<=15){let e=t.reduce(((e,t)=>e.find((e=>e.friendlyName.toLowerCase()===t.friendlyName.toLowerCase()))?e:e.concat([t])),[]).filter((e=>{var t;if(!/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(e.friendlyName))return""!==(null==(t=e.friendlyName)?void 0:t.trim())}));return K(null),void w(e)}if("add"===a&&t.length>15)return K("Added maximum product categories"),void setTimeout((()=>{K(null)}),3e3);((e,t)=>{let a=[];if(k.map((t=>{0===e.filter((e=>t.friendlyName===e.friendlyName)).length&&(t.selected=!1,a.push(t))})),a.length>0){let e={clientId:j(),categoryName:a[0].friendlyName,categoryType:"Product Categories"};ut(e,(e=>{t("delete",e)}))}else t("add",!0)})(t,((e,a)=>{if("add"===e||"delete"===e&&!0===a){w(t);let e=t.length>0?null:"Add product categories";K(e)}else"delete"===e&&!1===a&&(w(k),K("Product category already mapped. Cannot be deleted."),setTimeout((()=>{K(null)}),3e3))}))}})})})}),a.jsx("small",{className:"fs12",children:"Maximum of 15 product categories can be added"})]})]})})]}),a.jsx(ie,{children:a.jsx(oe,{md:4,children:a.jsxs("div",{children:[a.jsxs("div",{style:{display:"flex",flexDirection:"row"},children:[a.jsx("h4",{className:"mb10",children:"Custom Domain"}),a.jsx(Y,{icon:"icon-rs-circle-question-mark-medium ml20",size:"md",tooltip:"Generic domain (slg.smartdx.co) will be rebranded to branded domain (link.brandname.io) to enable contact support team."})]}),a.jsxs("div",{className:"chips-container click-off",children:[a.jsx("div",{style:{border:"1px solid #c2cfe3",borderRadius:"5px",padding:"10px"},children:a.jsx("div",{className:"multi-camp-type-max",style:{marginTop:"-25px"},children:a.jsx(de,{placeholder:"Enter communication types",autoClose:!0,listNoDataRender:m,value:Ye,textField:"link",dataItemKey:"id",allowCustom:!0,filterable:!0,onFilterChange:e=>{e.filter.value.length>75&&L("Reached max count")},onChange:e=>{}})})}),a.jsx("small",{className:"fs12",children:"Maximum of 15 communication types can be added"})]})]})})})]})]}),a.jsx("div",{className:(st?"click-on":"click-off")+" btn-container d-flex justify-content-end",children:a.jsx(q,{onClick:()=>{!0!==O()?(()=>{var e;if(-1===ae.currencyId)return void B("Select currency");if(-1===we.dateFormatId)return void Fe("Select date format");if(-1===ye.languageId)return void pe("Select language");if(-1===ze.timeFormatId)return void Ae("Select time format");if(-1===Ne.timezoneId)return void je("Select timezone");let a={data:{timeZoneId:Ne.timezoneId,timeZoneName:Ne.timezoneName,dateFormat:we.dateFormat,timeFormat:ze.timeFormat}};Q(a);const l={clientId:j(),currencyId:ae.currencyId,dateFormatId:we.dateFormatId,languageId:ye.languageId,timeformatId:ze.timeFormatId,timezoneId:Ne.timezoneId,isDayLight:Ke};let s=[];if(0===x.length)return void L("Add communication types");x.map((e=>{let t={CampaignTypeValue:e.campaignTypeValue};s.push(t)})),l.campaignTypeMaster=s;let i=[];if(null==S||0===S.length)return void R("Add engagement types");if(S.map((e=>{let t=e.conversionName.split(" "),a=t[0].charAt(0);t.length>1&&(a+=t[1].charAt(0));let l={ConversionName:e.conversionName,GoalType:"E",ConversionNameShort:e.conversionName.toUpperCase()};i.push(l)})),null==D||0===D.length)return void z("Add conversion types");let r=!1,d=[...Ye];if(d.length>0&&(d.map(((e,t)=>{if(!1===r&&null===e.error)return null===e.link||void 0===e.link||""===e.link?(e.err="Enter custom domain",void(r=!0)):void 0;r=!0})),!0===r))return void _e(d);if(D.map((e=>{let t=e.conversionName.split(" "),a=t[0].charAt(0);t.length>1&&(a+=t[1].charAt(0));let l={ConversionName:e.conversionName,GoalType:"C",ConversionNameShort:e.conversionName.toUpperCase()};i.push(l)})),l.conversionMaster=i,null==k||0===k.length)return void K("Add product types");let u=[];k.map(((e,t)=>{let a={Categoryname:e.friendlyName};u.push(a)})),l.productCategoryMaster=u;const c=f();l.sourceType=te(),l.tenantName=(null==(e=null==c?void 0:c.clientDetailsLocalization)?void 0:e.instanceName)||null;const m={...Ve,...Je};Object.keys(m).map((e=>{l[e]=m[e]}));let v=J(),g=v.addons.filter(((e,t)=>1===(null==e?void 0:e.addonId)));null!=v&&(3!==v.planId&&4!==v.planId||!g.length||(l.brandDomainMaster=Ye)),b({path:H,params:l,loading:n.globalStateData.setIsLoadingData,sessionOut:n.globalStateData.setSessionOutData,ok:e=>{e.status?ee(n,(e=>{var a,l,s,n;if(!0===(null==(l=null==(a=null==t?void 0:t.location)?void 0:a.state)?void 0:l.domain)){const e=o.parse(null==(s=null==t?void 0:t.location)?void 0:s.search);let a=void 0!==e.cId?e.cId:0;return t.push({pathname:"/campaign/creation-smartlink",search:`?cId=${a}&sl=true`,state:null==(n=null==t?void 0:t.location)?void 0:n.state}),void localStorage.removeItem("sldomadd")}t.push("/preferences"),localStorage.removeItem("sldomadd")})):(tt((null==e?void 0:e.message)||Z),He(!0),localStorage.removeItem("sldomadd"))},fail:e=>{}})})():t.push("/preferences")},children:"Save"})})]})]})};class je extends s.Component{constructor(){super(...arguments),t(this,"tempUserId",0),t(this,"state",{index:0,userData:null,userId:0}),t(this,"updateIndex",((e,t)=>{this.setState({index:e})})),t(this,"AccountUsersComponents",[a.jsx(he,{cb:(e,t)=>this.updateIndex(e,t),index:this.state.index,updateUserId:e=>{this.setState({userId:e})}}),a.jsx(xe,{cb:(e,t)=>this.updateIndex(e,t),userId:this.state.userId}),a.jsx(ye,{cb:e=>this.updateIndex(e)})])}render(){return a.jsx(a.Fragment,{children:a.jsx("div",{className:"box-design",children:this.AccountUsersComponents[this.state.index]})})}}const be=()=>{var e,t;let i=l();const[o,d]=s.useState(!0===(null==(t=null==(e=null==i?void 0:i.location)?void 0:e.state)?void 0:t.settings)?2:0),[u,c]=s.useState(null),[m,v]=s.useState(null),[g,p]=s.useState([]);return s.useEffect((()=>{var e;const t=f(),a=localStorage.getItem("companyvalue");if(null!==a){const e=JSON.parse(a);c(e)}null!==t&&(v(null==t?void 0:t.userId),null!==(null==t?void 0:t.clientLists)&&p(null==t?void 0:t.clientLists));const l=r.parse(null==(e=null==i?void 0:i.location)?void 0:e.search);0===(void 0!==l.c?parseInt(l.c):2)&&d(1)}),[]),a.jsxs(pe,{children:[a.jsx(re,{fluid:!0,className:"main-heading-wrapper mb0",children:a.jsxs(re,{className:"mhw-container",children:[a.jsx("div",{className:"mhwc-left",children:a.jsx("h1",{children:a.jsx("div",{className:"mh-wrapper",children:a.jsx("span",{className:"mh-text",children:"Account settings"})})})}),a.jsx("div",{className:"mhwc-right",children:a.jsxs("div",{className:"back-text",onClick:()=>{var e,t,a,l;if(localStorage.removeItem("sldomadd"),!0===(null==(t=null==(e=null==i?void 0:i.location)?void 0:e.state)?void 0:t.settings)){const e=r.parse(null==(a=null==i?void 0:i.location)?void 0:a.search);let t=void 0!==e.cId?e.cId:0;i.push({pathname:"/campaign/creation-smartlink",search:`?cId=${t}&sl=true`,state:null==(l=null==i?void 0:i.location)?void 0:l.state})}else i.push("/preferences")},children:[a.jsx(Y,{icon:ae,size:"sm"}),"Back"]})})]})}),a.jsx(re,{fluid:!0,className:"bgWhite",children:a.jsx(re,{children:a.jsx(n,{fullWidth:4,defaultSelectedItem:o,defaultClass:"",dynamicTab:"tabs-filled-component",activeClass:"active",tabData:Se,callBack:(e,t)=>{d(t)}})})}),a.jsx(re,{className:"page-header pc-my-profile",children:(h=o,0===h?x=a.jsx(fe,{setIndex:d,index:h}):1===h?x=a.jsx(je,{setIndex:d,index:h}):2===h&&(x=a.jsx(Ie,{setIndex:d,index:h})),x)})]});var h,x},Se=[{id:1001,text:"Company details"},{id:1002,text:"Users"},{id:1003,text:"Settings"}];export{be as default};
