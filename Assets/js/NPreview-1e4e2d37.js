import{j as l}from"./pdf-editor-be9d2bd2.js";import{r as e}from"./react-vendor-379f659a.js";import{R as i}from"./RTabbar-119e28fb.js";import{ar as o,ax as n,M as t,eZ as s,az as r,e_ as d,e$ as a,f0 as c,f1 as u,f2 as m}from"./index-75225e0a.js";import{G as v,F as x,I as p}from"./index-ea0ef9a3.js";import{R as h}from"./index-8cac4852.js";const g=e=>l.jsx("h4",{style:{color:(null==e?void 0:e.color)??"#000",marginBottom:"5px"},className:(null==e?void 0:e.ios)&&(null==e?void 0:e.iosTime)?"text-container-preview":"",children:e.text}),j=e=>l.jsx("p",{className:"font-medium "+((null==e?void 0:e.ios)&&(null==e?void 0:e.iosTime)?"text-container-preview":""),style:{color:(null==e?void 0:e.color)??"#000",marginBottom:"5px"},children:e.text}),y=e=>l.jsxs(l.Fragment,{children:[!1===f(e.text)&&l.jsx("p",{style:{color:(null==e?void 0:e.color)??"#000"},children:e.text}),!0===f(e.text)&&l.jsx("p",{style:{marginBottom:"10px"},dangerouslySetInnerHTML:{__html:e.text}})]}),f=l=>/<([A-Za-z][A-Za-z0-9]*)(\s[^>]*)?(\/>|>[^<]*<\/\1>)/.test(l),b=e=>{var i;return l.jsx("div",{className:`s-web-action ${(null==e?void 0:e.className)??""}`,children:l.jsx("ul",{children:null==(i=null==e?void 0:e.actions)?void 0:i.map((e=>{if(""!==e.actionName)return l.jsx("li",{style:{color:e.fontColor,backgroundColor:e.bgColor},children:e.actionName})}))})})},T="data:image/png;base64,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",C=e=>{var i,t,s,r;const d=null==(i=null==e?void 0:e.data)?void 0:i.content,a=e.data,c=e.chrome;return l.jsxs("div",{className:"box-live-preview alert-type-content",children:[(null==(t=null==d?void 0:d.url)?void 0:t.length)>=0?l.jsx("div",{className:"s-wm-preview",children:c?(null==(s=null==d?void 0:d.url.match(/(png|jpg|jpeg|gif)/))?void 0:s[1])?l.jsx("img",{src:d.url,alt:T}):(null==d?void 0:d.url.length)>0?l.jsx(h,{style:{width:"255px",height:"150px"},url:null==d?void 0:d.url,className:"player-wrapper",controls:!0}):l.jsx("img",{src:T,alt:T}):l.jsxs("div",{className:"s-wm-preview p10",children:[l.jsx(o,{icon:"icon-rs-alert-large icons-lg large mt19 ml15",nocp:!0,size:"lg",color:"orange"}),l.jsx("div",{class:"ml15 mb-17",children:l.jsx("p",{children:"Image cannot be shown. Firefox does not support default image."})})]})}):null,l.jsxs("div",{className:"s-web-push",style:{backgroundColor:"#eef3fc"},children:[l.jsxs("div",{className:"s-web-logo",children:[l.jsxs("div",{className:"s-web-title",children:[l.jsx("img",{src:e.chrome?v:x,alt:a.chrome?"google":"firefox"}),l.jsx("span",{children:e.chrome?"Chrome":"Firefox"})]}),l.jsx("div",{className:"live-close",children:l.jsx(o,{icon:n,color:"color-primary-black",nocp:!0,size:"sm fs12"})})]}),l.jsxs("div",{className:"s-web-body",children:[!!a.brandLogo&&l.jsx("img",{src:p,alt:p,className:"client-icon"}),l.jsxs("div",{className:"client-message",children:[!!(null==d?void 0:d.title)&&l.jsx(g,{text:d.title,color:`${(null==d?void 0:d.titleColor)||"#000"}`}),!!(null==d?void 0:d.body)&&l.jsx(y,{text:d.body,color:"#000"})]})]}),(null==(r=null==d?void 0:d.interActivity)?void 0:r.length)?l.jsx(b,{actions:null==d?void 0:d.interActivity}):null]})]})},A=i=>{var o,n,r,d,a;let c=i.data.content;const u=i.data,[m,v]=e.useState(390);e.useState(c.body);const[x,f]=e.useState(!1),[C,A]=e.useState(null),w=l=>{const e=new Date(l)-new Date;return N(e<0?0:e)},N=l=>{const e=Math.floor(l/1e3),i=Math.floor(e/60),o=Math.floor(i/60),n=`${Math.floor(o/24)}:${o%24}:${i%60}:${e%60}`;return"0:0:0:0"===n?null:n};function L(l){l.style.width=300,l.style.height=300,l.style.display="",l.style.fontSize=24,l.style.left="",l.style.top="","iframe"===l.tagName.toLowerCase()&&(l.srcdoc=l.outerHTML),l.id.includes("carousel")&&(l.style.width="100%",l.style.height="100%");for(let e=0;e<l.children.length;e++)l.children[e].style.width=300,l.children[e].style.height=300,l.children[e].style.display="",l.children[e].style.fontSize=24,l.children[e].style.left="",l.children[e].style.top="",L(l.children[e])}e.useEffect((()=>{"T"===(null==c?void 0:c.contentType)&&(c.body=E(c.body),S())}),[]);const S=()=>{var l,e;if(!1===(null==i?void 0:i.isAuthoring)){let o={campaignId:null==(l=null==i?void 0:i.data)?void 0:l.campaignId,channelId:null==(e=null==i?void 0:i.data)?void 0:e.pushNotifyChannelDetailID};f(!0),t({path:s,params:o,ok:l=>{f(!1),(null==l?void 0:l.status)&&A(null==l?void 0:l.data)},fail:l=>{f(!1)}})}},E=(l,e)=>{if(!l)return;const i=(new DOMParser).parseFromString(l,"text/html").querySelector(".content-wrapper");return i?(i.style.display="flex",i.style.width="100%",i.style.height="100%",i.style.position="relative",i.style.overflow="hidden",i.style.zoom=.8,i.style.justifyContent="center",i.style.border="1px solid #ccc",i.style.borderRadius="5px",i.style.padding="10px",(new DOMParser).parseFromString(i.outerHTML,"text/html"),L(i),i.children,i.outerHTML):void 0};let M="";return("T"===c.contentType&&(null==(o=c.body)?void 0:o.length)>10||void 0!==c.importContent&&null!==c.importContent&&""!==c.importContent)&&(M="iframe-gallery"),l.jsx("div",{className:"box-live-preview push-type-content",children:l.jsxs("div",{className:`s-web-push ${M}`,style:{backgroundColor:`${(null==c?void 0:c.bodyBgColor)||"#ffffff"}`},children:[l.jsx("div",{className:"live-close d-flex",children:l.jsx("div",{className:""})}),l.jsxs("div",{className:"s-web-body",children:[!!u.brandLogo&&l.jsx("img",{src:p,alt:p,className:"client-icon"}),l.jsxs("div",{className:"client-message mr5",children:[l.jsxs("div",{className:"d-flex justify-content-between mr15",children:["T"===c.contentType?null:l.jsx("div",{children:"T"===c.contentType?null:(void 0===c.importContent||null===c.importContent||""===c.importContent)&&!!(null==c?void 0:c.title)&&l.jsx(g,{text:c.title,color:`${(null==c?void 0:c.titleColor)||"#000"}`})}),"z"===(null==c?void 0:c.contentType.toLowerCase())||"t"===(null==c?void 0:c.contentType.toLowerCase())?null:l.jsx(l.Fragment,{children:(null==c?void 0:c.mobTimerTTL)&&w(null==c?void 0:c.mobTimerTTLLocalTime)?l.jsx("div",{md:3,className:`${""===(null==c?void 0:c.mobTimerTTL)&&"d-none"}`,children:l.jsx("div",{style:{color:null==c?void 0:c.mobTimerTextColor,backgroundColor:null==c?void 0:c.mobTimerBgColor,display:"flex",alignItems:"center",paddingRight:"5px",paddingLeft:"5px",borderRadius:3,fontSize:"13px"},children:l.jsx("strong",{children:w(null==c?void 0:c.mobTimerTTLLocalTime)})})}):null})]}),!!(null==c?void 0:c.subTitle)&&l.jsx(j,{text:c.subTitle,color:`${(null==c?void 0:c.titleColor)||"#000"}`}),("Z"===(null==c?void 0:c.contentType)||"T"===(null==c?void 0:c.contentType))&&l.jsx("div",{id:"s-wm-preview",className:"s-wm-preview",style:{width:"100%"},children:"T"===(null==c?void 0:c.contentType)?l.jsx(l.Fragment,{children:!0===x?l.jsx("div",{style:{height:m,width:"100%",zoom:.5},children:l.jsx("div",{class:"Load-container_head",children:l.jsx("div",{class:"Load-spinnerData"})})}):null!==C?l.jsx("img",{src:C,style:{width:"87%",zoom:.5,marginTop:50}}):null}):l.jsx(l.Fragment,{children:!0===(l=>{let e=!1,i=!1;const o=l.split(".").pop().toLowerCase();return"png"===o||"jpg"===o||"jpeg"===o||"gif"===o?e=!0:"html"===o&&(i=!0),!1===e&&!1===i&&(i=!0),[e,i]})(null==c?void 0:c.body)[0]?l.jsx("img",{src:null==c?void 0:c.body,className:"iframe-gallery-scroll"}):l.jsx("iframe",{id:"sdx_iframe",style:{height:m,width:"100%",cursor:"none"},className:"iframe-gallery-scroll",srcDoc:"T"===(null==c?void 0:c.contentType)?c.body:c.importContent,onLoad:l=>{var e,i,o,n;e=l.target.id,o=(i=document.getElementById(e)).contentDocument||i.contentWindow.document,(n=Math.min(o.body.scrollHeight,o.documentElement.scrollHeight,o.body.offsetHeight,o.documentElement.offsetHeight,o.body.clientHeight,o.documentElement.clientHeight))<=390&&v(n)}})})}),"T"===c.contentType?null:(void 0===c.importContent||null===c.importContent||""===c.importContent)&&!!(null==c?void 0:c.body)&&l.jsx(y,{text:((l,e=3)=>{const i=document.createElement("div");i.innerHTML=l;const o=i.getElementsByTagName("p");if(o.length>e)for(let n=o.length-1;n>=e;n--)o[n].remove();return i.innerHTML})(c.body),color:`${(null==c?void 0:c.bodyTextColor)||"#000"}`})]})]}),"Z"===(null==c?void 0:c.contentType)||"T"===(null==c?void 0:c.contentType)?null:l.jsx(l.Fragment,{children:(null==c?void 0:c.url)?l.jsx("div",{className:"s-wm-preview",children:(null==(n=null==c?void 0:c.url.match(/(png|jpg|jpeg|gif)/))?void 0:n[1])?l.jsx("img",{src:c.url}):l.jsx(h,{style:{width:"255px",height:"150px"},url:null==c?void 0:c.imageSrc,className:"player-wrapper",controls:!0})}):l.jsx("div",{className:"s-wm-preview",children:!0===(null==i?void 0:i.isAuthoring)?null:l.jsx(l.Fragment,{children:(null==(d=null==(r=null==c?void 0:c.url)?void 0:r.match(/(png|jpg|jpeg|gif)/))||d[1],l.jsx("img",{src:T,alt:"saf"}))})})}),(null==(a=null==c?void 0:c.interActivity)?void 0:a.length)>0&&l.jsx(b,{actions:null==c?void 0:c.interActivity})]})})},w=e=>{var i,o;const n=null==e?void 0:e.content,t=e.data;return t.content=n,l.jsx(l.Fragment,{children:1===(null==(o=null==(i=null==t?void 0:t.push)?void 0:i.pushType)?void 0:o.deliveryTypeId)?l.jsx(C,{data:t,chrome:null==e?void 0:e.chrome,firebox:null==e?void 0:e.firebox,isAuthoring:(null==e?void 0:e.isAuthoring)||!1}):l.jsx(A,{data:t,chrome:null==e?void 0:e.firefox,firebox:null==e?void 0:e.firebox,isAuthoring:(null==e?void 0:e.isAuthoring)||!1})})},N=i=>{var n,t,s;const[c,u]=e.useState(!0),m=i.data.content,v=i.data,x=l=>{const e=new Date(l)-new Date;return p(e<0?0:e)},p=l=>{const e=Math.floor(l/1e3),i=Math.floor(e/60),o=Math.floor(i/60),n=`${Math.floor(o/24)}:${o%24}:${i%60}:${e%60}`;return"0:0:0:0"===n?null:n};return l.jsxs("div",{className:"box-live-preview alert-type-content-mob "+(c?"opened":"closed"),style:{backgroundColor:`${(null==m?void 0:m.bodyBgColor)||"#ffffff"}`},children:[l.jsx("div",{className:"mac-header justify-content-end d-flex mt10",children:l.jsxs(r,{children:[l.jsx("div",{}),l.jsx(o,{mainClass:"expand-col",size:"sm",color:"color-secondary-black",icon:d,onClick:()=>{u(!c)}})]})}),l.jsx("div",{className:"s-web-body",children:l.jsxs("div",{className:"content-wrapper justify-content-between",children:[l.jsxs("div",{className:"client-message",children:[l.jsxs("div",{class:"d-flex justify-content-between mr10",children:[l.jsx("div",{children:l.jsxs("span",{className:"align-items-center d-flex fs13 position-relative top3",children:[l.jsxs("span",{className:"app-title",children:[l.jsx(o,{mainClass:"posr top2 mr5 d-inline-block",size:"sm",icon:a}),(null==v?void 0:v.appName)||"Vision Bank"]}),l.jsxs("span",{className:"fs13 d-flex align-items-center",children:[l.jsx("small",{class:"dot",children:" "}),!!(null==m?void 0:m.subTitle)&&l.jsxs(l.Fragment,{children:[(null==m?void 0:m.mobTimerTTL)?"":null,l.jsx("span",{className:"sub-title",children:m.subTitle})]}),l.jsx("small",{class:"dot",children:" "}),"10:51 PM"]})]})}),l.jsx("div",{children:(null==m?void 0:m.mobTimerTTL)&&x(null==m?void 0:m.mobTimerTTLLocalTime)?l.jsx("div",{className:`${""===(null==m?void 0:m.mobTimerTTL)&&"d-none"} mt5`,children:l.jsx("div",{style:{color:null==m?void 0:m.mobTimerTextColor,backgroundColor:null==m?void 0:m.mobTimerBgColor,display:"flex",alignItems:"center",paddingRight:"5px",paddingLeft:"5px",borderRadius:3,fontSize:"13px"},children:l.jsx("strong",{children:x(null==m?void 0:m.mobTimerTTLLocalTime)})})}):null})]}),!!(null==m?void 0:m.title)&&l.jsx(g,{text:m.title,color:`${(null==m?void 0:m.titleColor)||"#000"}`}),"E"===(null==m?void 0:m.contentType)||"Z"===(null==m?void 0:m.contentType)&&l.jsx("div",{className:"s-wm-preview",children:l.jsx("iframe",{className:"iframe-gallery-scroll",srcDoc:m.importContent})}),!!(null==m?void 0:m.body)&&l.jsx(y,{text:((l,e=3)=>{const i=document.createElement("div");i.innerHTML=l;const o=i.getElementsByTagName("p");if(o.length>e)for(let n=o.length-1;n>=e;n--)o[n].remove();return i.innerHTML})(m.body),color:`${(null==m?void 0:m.bodyTextColor)||"#000"}`})]}),(null==v?void 0:v.url)&&(null==(n=null==v?void 0:v.url.match(/(png|jpg|jpeg|gif)/))?void 0:n[1])?l.jsx("img",{className:"client-icon",src:v.url}):null]})}),(null==m?void 0:m.url)?(null==(t=null==m?void 0:m.url.match(/(png|jpg|jpeg|gif)/))?void 0:t[1])?l.jsx("div",{className:"s-wm-preview",children:l.jsx("img",{src:m.url})}):l.jsx("div",{className:"s-wm-preview",children:l.jsx(h,{style:{width:"255px",height:"150px"},url:null==m?void 0:m.url,className:"player-wrapper",controls:!0})}):l.jsx("div",{children:(null==v||v.isCarousel,l.jsx(l.Fragment,{children:l.jsx("div",{className:"s-wm-preview",children:l.jsx("img",{src:T})})}))}),(null==(s=null==m?void 0:m.interActivity)?void 0:s.length)>0&&l.jsx(b,{className:"px16 pb16",actions:null==m?void 0:m.interActivity})]})},L=i=>{var n,t,s,a,c;const[u,m]=e.useState(!0),v=i.data.content,x=i.data,p=l=>{const e=new Date(l)-new Date;return f(e<0?0:e)},f=l=>{const e=Math.floor(l/1e3),i=Math.floor(e/60),o=Math.floor(i/60),n=`${Math.floor(o/24)}:${o%24}:${i%60}:${e%60}`;return"0:0:0:0"===n?null:n};return l.jsxs("div",{style:{backgroundColor:`${u&&(null==v?void 0:v.bodyBgColor)||""}`},className:`box-live-preview alert-type-content-ios ${(()=>{var l;let e=!1;return(null==v?void 0:v.bodyBgColor)||(null==v?void 0:v.titleColor)||(null==v?void 0:v.bodyTextColor)?(e=!0,!0):(null==(l=null==v?void 0:v.interActivity)||l.map((l=>{((null==l?void 0:l.fontColor)||(null==l?void 0:l.bgColor))&&(e=!0)})),e)})()?"custom-alert":"default-alert"} ${u?"opened":"closed"} p16`,onClick:()=>{m(!u)},children:[l.jsxs("div",{className:"mac-header justify-content-end d-flex",children:[(null==v?void 0:v.mobTimerTTL)&&p(null==v?void 0:v.mobTimerTTLLocalTime)?l.jsx("div",{md:3,className:`${""===(null==v?void 0:v.mobTimerTTL)&&"d-none"}`,style:{display:"flex",justifyContent:"end"},children:l.jsx("div",{style:{color:null==v?void 0:v.mobTimerTextColor,backgroundColor:null==v?void 0:v.mobTimerBgColor,display:"flex",alignItems:"center",borderRadius:5,fontWeight:800},children:l.jsx("strong",{style:{paddingRight:3,paddingLeft:3},children:p(null==v?void 0:v.mobTimerTTLLocalTime)})})}):null,l.jsxs(r,{children:[l.jsx("div",{}),l.jsx(o,{mainClass:"expand-col",size:"sm",color:"color-secondary-black",icon:d,onClick:()=>{m(!u)}})]})]}),l.jsx("div",{className:"s-web-body",children:l.jsxs("div",{className:"content-wrapper",children:[(null==x?void 0:x.imageSrc)&&(null==(t=null==(n=null==x?void 0:x.imageSrc)?void 0:n.match(/(png|jpg|jpeg|gif)/))?void 0:t[1])?l.jsx("img",{className:"client-icon",src:x.imageSrc}):null,l.jsxs("div",{className:"client-message",children:[(null==v?void 0:v.title)?l.jsx(g,{iosTime:null==v?void 0:v.mobTimerTTL,ios:!0,text:v.title,color:`${(null==v?void 0:v.titleColor)||"#000"}`}):"",(null==v?void 0:v.subTitle)?l.jsx(j,{iosTime:null==v?void 0:v.mobTimerTTL,ios:!0,text:v.subTitle,color:`${(null==v?void 0:v.titleColor)||"#000"}`}):"","E"===(null==v?void 0:v.contentType)||"Z"===(null==v?void 0:v.contentType)?l.jsx("div",{className:"s-wm-preview",children:l.jsx("iframe",{className:"iframe-gallery-scroll",srcDoc:v.importContent})}):"",(null==v?void 0:v.body)?l.jsx(y,{text:((l,e=3)=>{const i=document.createElement("div");i.innerHTML=l;const o=i.getElementsByTagName("p");if(o.length>e)for(let n=o.length-1;n>=e;n--)o[n].remove();return i.innerHTML})(v.body),color:`${(null==v?void 0:v.bodyTextColor)||"#000"}`}):""]})]})}),(null==v?void 0:v.url)?l.jsx("div",{className:"s-wm-preview",children:(null==(s=null==v?void 0:v.url.match(/(png|jpg|jpeg|gif)/))?void 0:s[1])?l.jsx("img",{src:v.url,alt:T}):l.jsx(h,{style:{width:"255px",height:"150px"},url:null==v?void 0:v.url,className:"player-wrapper",controls:!0})}):l.jsx("div",{children:(null==x?void 0:x.isCarousel)?l.jsx(l.Fragment,{children:(null==(a=null==v?void 0:v.url.match(/(png|jpg|jpeg|gif)/))||a[1],l.jsx("div",{className:"s-wm-preview",children:l.jsx("img",{src:T,alt:T})}))}):l.jsx(l.Fragment,{children:l.jsx("div",{className:"s-wm-preview",children:l.jsx("img",{src:T,alt:T})})})}),(null==(c=null==v?void 0:v.interActivity)?void 0:c.length)?l.jsx(b,{className:"px16 pb16",actions:null==v?void 0:v.interActivity}):null]})},S=e=>{var i,o,n,t,s,r,d,a,c,u,m,v,x;const p=null==e?void 0:e.content,h=e.data;return h.content=p,void 0===h.appName&&(h.appName=null==(i=null==e?void 0:e.mobileApp)?void 0:i.appName),l.jsxs(l.Fragment,{children:[1===(null==(n=null==(o=null==h?void 0:h.push)?void 0:o.deliveryType)?void 0:n.deliveryTypeId)&&(null==(t=null==e?void 0:e.name)?void 0:t.toLowerCase().includes("android"))?l.jsx(N,{data:h,chrome:null==e?void 0:e.chrome,firebox:null==e?void 0:e.firebox,isAuthoring:(null==e?void 0:e.isAuthoring)||!1}):null,1===(null==(r=null==(s=null==h?void 0:h.push)?void 0:s.deliveryType)?void 0:r.deliveryTypeId)&&(null==(d=null==e?void 0:e.name)?void 0:d.toLowerCase().includes("ios"))?l.jsx(L,{data:h,chrome:null==e?void 0:e.chrome,firebox:null==e?void 0:e.firebox,isAuthoring:(null==e?void 0:e.isAuthoring)||!1}):null,2===(null==(c=null==(a=null==h?void 0:h.push)?void 0:a.deliveryType)?void 0:c.deliveryTypeId)||3===(null==(m=null==(u=null==h?void 0:h.push)?void 0:u.deliveryType)?void 0:m.deliveryTypeId)||5===(null==(x=null==(v=null==h?void 0:h.push)?void 0:v.deliveryType)?void 0:x.deliveryTypeId)?l.jsx(A,{data:h,chrome:!0,isAuthoring:(null==e?void 0:e.isAuthoring)||!1}):null]})},E=n=>{var t,s;const[r,d]=e.useState((null==n?void 0:n.tabIndex)||0),[a,v]=e.useState("mobile"===n.type?k:X),[x,p]=e.useState(!0===n.isGallery?null==n?void 0:n.deviceType:"mobile"===n.type?"Android":a[r].text),[h,g]=e.useState((null==n?void 0:n.imageSrc)||"");e.useEffect((()=>{p(!0===n.isGallery?null==n?void 0:n.deviceType:"mobile"===n.type?"Android":a[r].text)}),[n]),e.useEffect((()=>{v("mobile"===n.type?k:(()=>{let l=[{id:1001,text:"Chrome"},{id:1002,text:"Firefox"}];return m().toLowerCase().includes("firefox")?l=[{id:1001,text:"Firefox"},{id:1002,text:"Chrome"}]:m().toLowerCase().includes("chrome")||(l=[{id:1001,text:m()},{id:1002,text:"Chrome"}]),l})()),g(n.imageSrc)}),[n.imageSrc]),e.useEffect((()=>{}),[n.bodyFontColor]),e.useEffect((()=>{d((null==n?void 0:n.tabIndex)||0)}),[n.tabIndex]);const j=0===(null==n?void 0:n.index)?"click-off":"click-on",y=(null==n?void 0:n.index)===(null==(s=null==(t=n.data)?void 0:t.content)?void 0:s.length)-1?"click-off":"click-on",f="mobile"===n.type?"mini mb5 justify-content-end tab-icon":"mini mb10 justify-content-end fs16-btn";return l.jsxs("div",{className:"mobile"===n.type?"and-ios":"webpreview",children:[!0===n.carousel&&l.jsxs("div",{children:[l.jsx("div",{className:"gallery_carousel_firstButton",onClick:()=>null==n?void 0:n.firstButtonClick(),children:l.jsx("strong",{className:`carousel-control-btn ${j}`,children:l.jsx("div",{className:"gallery_carousel_lefticon",children:l.jsx(o,{icon:c,size:"sm",color:"color-primary-grey"})})})}),l.jsx("div",{className:"gallery_carousel_lastButton",onClick:()=>null==n?void 0:n.secondBtnClick(),children:l.jsx("strong",{className:`carousel-control-btn ${y}`,children:l.jsx("div",{className:"gallery_carousel_righticon",children:l.jsx(o,{icon:u,size:"sm",color:"color-primary-grey"})})})})]}),!0===n.isGallery?null:l.jsx(i,{defaultSelectedItem:r,defaultClass:"tabDefault ",dynamicTab:f,activeClass:"tabDefault active",tabData:a,or:!1,arrow:!0,callBack:(l,e)=>{d(e),"mobile"===(null==n?void 0:n.type.toLowerCase())?p(l.text1):p(l.text)}}),n.type&&"mobile"===n.type?l.jsx(M,{...n,name:x}):l.jsx(F,{...n,name:x})]})},M=e=>l.jsx(S,{...e}),F=e=>{var i,o;return(null==(i=null==e?void 0:e.name)?void 0:i.toLowerCase().includes("firefox"))?l.jsx(w,{firefox:!0,...e}):(null==(o=null==e?void 0:e.name)||o.toLowerCase().includes("chrome"),l.jsx(w,{chrome:!0,...e}))},k=[{id:1001,iconLeft:"icon-rs-android-medium icons-md",text1:"Android"},{id:1002,iconLeft:"icon-rs-ios-medium icons-md",text1:"iOS"}],X=[{id:1001,text:"Chrome"},{id:1002,text:"Firefox"}];export{E as N};
