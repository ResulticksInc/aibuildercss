import{j as e}from"./pdf-editor-5df4b936.js";import{r as t}from"./react-vendor-379f659a.js";import{R as o}from"./RSFormGroup-02fd3241.js";import"./RSKendoDropdown-e93f1389.js";import"./RSCheckbox-31e7b177.js";import"./style-a86a43a5.js";import"./RSDropdowns-d68fa550.js";import{F as a}from"./FormLabel-9e1cd976.js";import{z as n,M as i,E as s,_ as r,$ as l}from"./index-7d59e1e4.js";import{r as m}from"./react-router-dom.min-6f8d67fa.js";import{q as d}from"./utils-16c7e021.js";import c from"./RSPLoader-0af8545b.js";import{M as u,R as p,a as h}from"./ui-9ddcca8e.js";import"./get-4aa85b1a.js";import"./kendo-5d73125a.js";import"./drag-drop-bc3ac7ea.js";import"./charts-f2096496.js";const j={animation:"inAnimation 250ms ease-in"},v={animation:"outAnimation 270ms ease-out",animationFillMode:"forwards"},f=f=>{m.useHistory(),t.useContext(n);const[x,g]=t.useState(null==f?void 0:f.isShow),[C,S]=t.useState(""),[y,b]=t.useState(null),[w,k]=t.useState(!1),[F,D]=t.useState(!1),[R,A]=t.useState(!1),[N,P]=t.useState("Communication submitted for incorporating changes");t.useEffect((()=>{var e;let t=d.parse(null==(e=window.location)?void 0:e.search),o=(null==t?void 0:t.isapproved)||"0";k(o),B()}),[]);const B=()=>{I(),i({path:r+window.location.search,ok:e=>{},fail:e=>{}})};function I(){const e=new URL(window.location.href).searchParams,t={};return e.forEach(((e,o)=>{t[o]=e})),t}return e.jsxs(e.Fragment,{children:[e.jsx(c,{style:R?j:v}),e.jsxs(u,{show:x,centered:!0,size:"lg",children:[1!=w&&e.jsx(u.Header,{children:e.jsx("h2",{children:" Communication make changes"})}),e.jsxs(u.Body,{children:[!0===F&&e.jsx("div",{style:{textAlign:"center",display:"flex",marginBottom:40,justifyContent:"center",backgroundColor:"green"},children:e.jsx("label",{style:{color:"white"},children:N})}),e.jsxs(o,{children:[e.jsxs(p,{children:[e.jsx(h,{md:3,children:e.jsx(a,{label:"Comments",right:!0})}),e.jsx(h,{md:9,children:e.jsxs("div",{className:`position-relative ${!0===F&&"click-off"}`,children:[y&&e.jsx("div",{className:"validation-message",style:{marginTop:-23},children:y}),e.jsx("textarea",{placeholder:"Comments",value:C,onBlur:e=>S(e.target.value),onChange:e=>{let t=e.target.value.trimStart();if(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(t))return;let o=t.length>0?null:"Please enter a comment";S(t),b(o)},maxLength:"250"})]})})]}),e.jsx(p,{children:e.jsx("div",{className:"btn-container d-flex justify-content-end",children:e.jsx(s,{className:!0===F&&"click-off",onClick:()=>{(()=>{if(""===C)return void b("Please enter a comment");A(!0);let e=I(),t={DatabaseId:null==e?void 0:e.dbId,ValidationKey:null==e?void 0:e.vkey,WorkFlowComments:C,CampaignName:"",TotalRecipient:0,CampaignCreatedBy:null==e?void 0:e.cuser,LocalBlastDateTime:"",Subject:"",CampaignCreaterEmail:"",Content:"",CampaignClientName:"SDX",EdmChannelId:null==e?void 0:e.edmchannel,SplitType:"",Priority:null==e?void 0:e.Priority,Databasename:null==e?void 0:e.dbname,ApprovalSentcount:null==e?void 0:e.ApprovalSentcount,PassportId:null==e?void 0:e.pid,LevelNumber:null==e?void 0:e.levelnumber,ChannelId:null==e?void 0:e.chnid,TotalRecipientCount:(null==e?void 0:e.rcount)||0,IsApprove:1==w?1:0};i({path:l,params:t,ok:e=>{A(!1),D(!0),P(null==e?void 0:e.message)},fail:e=>{A(!1),g(!1)}})})()},children:1==w?"Approve":"Make changes"})})})]})]})]})]})};export{f as default};
