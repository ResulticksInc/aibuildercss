import{j as e}from"./pdf-editor-5df4b936.js";import{L as a}from"./LayoutPageWrapper-ce9c32da.js";import{R as t}from"./RSBrandLogo-55d6c580.js";import{z as s,a0 as l,ar as i,aS as o,ax as n,al as r,U as d,M as c,ab as m,aa as u,eu as h}from"./index-7d59e1e4.js";import{r as p}from"./react-vendor-379f659a.js";import"./RSKendoDropdown-e93f1389.js";import{R as g}from"./RSCheckbox-31e7b177.js";import"./style-a86a43a5.js";import{K as j}from"./index-b70e15a0.js";import{p as f}from"./kendo-5d73125a.js";import{r as x}from"./react-router-dom.min-6f8d67fa.js";import{C as v,R as S,a as N}from"./ui-9ddcca8e.js";import"./utils-16c7e021.js";import"./drag-drop-bc3ac7ea.js";import"./get-4aa85b1a.js";const D={skip:0,take:5,sort:[{field:"orderDate",dir:"desc"}]},b=()=>{const[b,w]=p.useState(null),[y,k]=p.useState(null),[L,I]=p.useState(""),R=p.useContext(s),[A,B]=p.useState(D),[T,O]=p.useState(null),_=x.useHistory();p.useEffect((()=>{let e=localStorage.getItem("lsclientList");if(null!=e){let a=l(e);w(null==a?void 0:a.clientList),k(null==a?void 0:a.clientList);let t=f(null==a?void 0:a.clientList,D);O(t)}}),[]);const M=()=>e.jsx(j,{config:A,data:(null==T?void 0:T.data)||[],settings:{total:null==y?void 0:y.length},pageable:!0,isDataStateRequired:!0,onDataStateChange:e=>{let a=f(y,e.dataState);O(a),B(e.dataState)},pageStateChange:e=>{let a=f(y,e.page);O(a),B(e.page)},column:[{field:"clientName",filter:"text",title:"Client name",cell:a=>{var t;return e.jsx("td",{children:e.jsx("span",{children:null==(t=a.dataItem)?void 0:t.clientName})})}},{field:"emailAddress",title:"Email",width:300,cell:a=>{var t;return e.jsx("td",{children:e.jsx("span",{children:null==(t=a.dataItem)?void 0:t.emailAddress})})}},{field:"createdDate",title:"Created on",width:170,cell:a=>e.jsx("td",{children:r(a.dataItem[a.field])})},{field:"actions",title:"Action",cell:a=>e.jsx("td",{children:e.jsx("div",{className:"camp-icon",children:e.jsx("ul",{className:"camp-icon-pannel",children:e.jsx("li",{className:"",children:e.jsx(d,{placement:"top",text:"View",children:e.jsx("i",{className:"icon-rs-eye-medium icons-md color-primary-blue cursor-pointer",id:"dl_view_button",onClick:()=>{var e;e=a.dataItem.emailAddress,c({path:"Home/LoginMaster",params:{emailId:e},loading:R.globalStateData.setIsLoadingData,sessionOut:R.globalStateData.setSessionOutData,ok:a=>{var t,s,l;if((null==a?void 0:a.status)&&a.data.accessToken&&a.data.accessToken.length>0){const i={isAuth:!0,accessToken:a.data.accessToken};if(m(a),localStorage.setItem("session",JSON.stringify(i)),localStorage.setItem("lsUserData",u(a.data)),localStorage.setItem("lsConfig",JSON.stringify(C)),R.globalStateData.setLoggedInUserData(a.data),R.globalStateData.setEmailIdData(e),R.globalStateData.setBodyNameData(""),null===(null==(t=a.data)?void 0:t.payStatus)||void 0===(null==(s=a.data)?void 0:s.payStatus)){null==(l=a.data)||l.paymentTerms;let e=h(1);e.addons=[];let t=u(e);return localStorage.setItem("pconfig",t),R.toggleAuth(!0),R.globalStateData.setBodyNameData(""),void _.push("/features")}if(0===a.data.paymentTerms){if("0001-01-01T00:00:00"===a.data.nextDueDate)return R.toggleAuth(!0),void _.push({pathname:lastReferal.pathName,search:lastReferal.search});let e=new Date(a.data.dueDate);new Date<=e?(R.globalStateData.setPaymentMessage(""),R.toggleAuth(!0),_.push({pathname:lastReferal.pathName,search:lastReferal.search})):R.globalStateData.setPaymentMessage("payment")}else R.toggleAuth(!0),!1===a.data.isAccSettingsCompleted?(_.push("/preferences"),R.globalStateData.setBodyNameData("")):_.push({pathname:lastReferal.pathName,search:lastReferal.search})}},fail:e=>{}})}})})})})})})}]}),P=()=>(p.useState(0),p.useState(6),e.jsx(M,{})),z=()=>e.jsx("div",{className:"header-component",children:e.jsx("div",{className:"header-wrapper",children:e.jsx("div",{className:"cursor-pointer",onClick:()=>{_.push("/login")},children:e.jsx(t,{inner:!0})})})});return e.jsxs(a,{children:[e.jsx(z,{}),e.jsx(v,{fluid:!0,className:"main-heading-wrapper mb0",children:e.jsxs(v,{className:"mhw-container",children:[e.jsx("div",{className:"mhwc-left",children:e.jsx("h1",{children:e.jsx("div",{className:"mh-wrapper",children:e.jsx("span",{className:"mh-text",children:"Client list"})})})}),e.jsx("div",{className:"mhwc-right",children:e.jsxs("div",{className:"back-text",id:"dl_back_button",onClick:()=>_.push("/login"),children:[e.jsx(i,{icon:o,size:"sm"}),"Back"]})})]})}),e.jsx(v,{fluid:!0,className:"bgWhite",children:e.jsx(v,{})}),e.jsxs(v,{className:"page-header box-bottom-space",children:[e.jsx(S,{style:{marginBottom:20},children:e.jsx(N,{md:{span:4,offset:8},children:e.jsx(g,{placeholder:"Search",val:L,iconPlaceholder:!0,iconName:n,iconColor:"red",iconSize:"sm",onChange:e=>{I(e.target.value);let a=[...b].filter((a=>{var t,s,l,i;return null==(i=null==(t=null==a?void 0:a.emailAddress)?void 0:t.toLowerCase())?void 0:i.includes(null==(l=null==(s=null==e?void 0:e.target)?void 0:s.value)?void 0:l.toLowerCase())})),t=f(a,D);O(t),k(a)},onBlur:e=>{I(e.target.value);let a=[...b].filter((e=>{var a,t;return null==(t=null==(a=null==e?void 0:e.emailAddress)?void 0:a.toLowerCase())?void 0:t.includes(null==L?void 0:L.toLowerCase())}));k(a);let t=f(a,D);O(t)},iconOnClick:()=>{I("");const e=[...b];k(e);let a=f(e,D);O(a)}})})}),(null==y?void 0:y.length)>0&&e.jsx(P,{}),0===(null==y?void 0:y.length)&&e.jsx("label",{children:"No data found"})]})]})},C={sdc:!0,etc:!0,mp:!0,wp:!0,sl:!0,fs:!0,tmb:!0,ld:!0};export{b as default};
