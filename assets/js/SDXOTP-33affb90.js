import{j as e}from"./pdf-editor-5df4b936.js";import{r as s,i as o}from"./react-vendor-379f659a.js";import"./RSKendoDropdown-e93f1389.js";import{R as t}from"./RSCheckbox-31e7b177.js";import"./style-a86a43a5.js";import{z as r,av as n,nx as l,fI as i,F as a,M as d,D_ as m,fj as p,bX as u}from"./index-7d59e1e4.js";import"./RSDropdowns-d68fa550.js";import{b as c}from"./inputLimit-ce03b0f6.js";import"./RSIcon-9079b0f0.js";import"./utils-16c7e021.js";import{R as f}from"./RSFormGroup-02fd3241.js";import{S as j}from"./SmallText-624a260a.js";import{RSPTimer as v}from"./RSPTimer-af842117.js";import{R as g,a as h}from"./ui-9ddcca8e.js";import"./get-4aa85b1a.js";import"./kendo-5d73125a.js";import"./drag-drop-bc3ac7ea.js";const x=x=>{const[S,b]=s.useState((null==x?void 0:x.otp)||""),[k,w]=s.useState(null==x?void 0:x.errorMessage),[E,R]=s.useState((null==x?void 0:x.otpToken)||""),[T,y]=s.useState(!1),[C,O]=s.useState(!1);s.useState(!0);const[M,$]=s.useState(!1);return s.useState(!1),s.useContext(r),o(),s.useEffect((()=>{n("Component didupdate",null==x?void 0:x.errorMessage),w(null==x?void 0:x.errorMessage)}),[null==x?void 0:x.errorMessage]),s.useEffect((()=>{n("Component didupdate",null==x?void 0:x.errorMessage),b(null==x?void 0:x.otp)}),[null==x?void 0:x.otp]),s.useEffect((()=>{var e;null==(e=document.getElementById("l_otp"))||e.focus()}),[]),e.jsxs(f,{className:T||M?"":"mb20 mt-5",children:[e.jsx(g,{children:e.jsx(h,{md:12,children:e.jsx(t,{disabled:!!T,id:"opt_textbox",name:"otp",required:!0,placeholder:T?"One time password":k?"Enter correct one time password":"Enter one time password to verify email",success_msg:(null==k?void 0:k.includes("success"))?"success_msg":"",val:S,iconPlaceholder:!0,isLoading:C,iconName:`\n            ${S.length>0&&T?`${l} color-primary-green`:""} \n            ${S.length>0&&k?`${i} color-primary-red`:""}`,iconOnClick:()=>{b(""),w(null)},errorMessage:k,keyboardType:"number",max:c,cb:e=>{y(!1),w(!1);let s=e.length?null:"Enter one time password";w(s),(""===e||/^[0-9\b]+$/.test(e))&&(6===e.length&&(e=>{if(a(e))return void w("Enter valid one time password");const s={otpToken:E,otp:e};let o=u();O(!0),d({bUrl:o,path:m,params:s,ok:s=>{O(!1),s.status?(x.confirmBtnClick({otpToken:E,otp:e}),y(!0),x.onOtpSuccess(!0)):w((null==s?void 0:s.message)||"Enter valid one time password")},fail:e=>{O(!1)}})})(e),b(e))},ob:e=>{if(e.length)e.length<6&&(""===e||/^[0-9\b.]+$/.test(e))&&w("Enter valid one time password");else{let s=e.length?null:"Enter one time password";w(s)}}})})}),e.jsxs(g,{children:[e.jsx(h,{md:T||M?8:10,children:T||M?!T&&e.jsx(j,{children:"One time password expired"}):e.jsxs(j,{children:["One time password is valid for 5 minutes Â ",e.jsx(v,{onComplete:()=>{$(!0)}})]})}),e.jsx(h,{md:4,children:!T&&M?e.jsx(j,{right:!0,children:e.jsx("label",{className:"rs-link orange-medium",onClick:()=>{$(!1),b(""),w("One time password resent successfully"),setTimeout((()=>{w("")}),5e3),y(!1),w(""),O(!0),d({path:p,params:{emailId:x.emailId},ok:e=>{var s,o,t;O(!1),(null==e?void 0:e.status)&&(null==(o=null==(s=null==e?void 0:e.data)?void 0:s.otpToken)?void 0:o.length)>0?R((null==(t=null==e?void 0:e.data)?void 0:t.otpToken)||""):w("Otp send failed")},fail:e=>{O(!1),w("Otp send failed")}})},children:"Resend?"})}):null})]})]})};export{x as default};
