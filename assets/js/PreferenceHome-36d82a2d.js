import{j as i}from"./pdf-editor-8270ab34.js";import{k as e,i as t,r as l}from"./react-vendor-379f659a.js";import{Z as n,z as s,bv as o,Y as a,U as r,ar as c,aK as d}from"./index-74701706.js";import{L as u}from"./LayoutPageWrapper-4f1f1143.js";import{C as p}from"./ui-e848d714.js";import"./utils-16c7e021.js";import"./kendo-5d73125a.js";import"./drag-drop-a86b0275.js";const g={general:{title:"General",list:[{icon:"icon-rs-user-list-xlarge font-xlg",title:"My profile",link:"my-profile",tooltip:"Update and manage your profile",indicate:!1,disable:!1},{icon:"icon-rs-settings-xlarge font-xlg",title:"Account settings",link:"account-settings",tooltip:"Update and manage your account settings",indicate:!1,disable:!1},{icon:"icon-rs-users-xlarge font-xlg",title:"Users",link:"users",tooltip:"Add / Modify users",indicate:!1,disable:!1},{icon:"icon-rs-alert-xlarge font-xlg",title:"Alerts",link:"alert-notification",tooltip:"Manage your alerts and notifications",indicate:!1,disable:!1},{icon:"icon-rs-brand-xlarge font-xlg",title:"Clients",link:"company-list",tooltip:"Add and view companies under your brand",indicate:!1,disable:!1}]},setup:{title:"Setup",list:[{icon:"icon-rs-communication-settings-xlarge font-xlg",title:"Channel settings",link:"communication-settings",tooltip:"Customise and manage your channel settings",indicate:!1,disable:!1},{icon:"icon-rs-form-generator-xlarge font-xlg",title:"Form builder",link:"form-generator",tooltip:"Create new forms for your digital properties",indicate:!1,disable:!1},{icon:"icon-rs-template-generator-xlarge font-xlg",title:"Push builder",link:"pushbuilder",tooltip:"Create new push notification template for your digital properties",indicate:!1,disable:!1},{icon:"icon-rs-template-generator-xlarge font-xlg",title:"Email builder",link:"emailbuilder",tooltip:"Create new push notification template for your digital properties",indicate:!1,disable:!1},{icon:"icon-rs-data-exchange-xlarge font-xlg",title:"Data exchange",link:"data-exchange",tooltip:"Connect to your existing systems and data sources",indicate:!1,disable:!0}]},billing:{title:"Billing",list:[{icon:"icon-rs-consumptions-xlarge font-xlg",title:"Consumptions",link:"consumptions",tooltip:"View consumption at channel level",indicate:!1,disable:!1},{icon:"icon-rs-calendar-dollar-xlarge font-xlg",title:"Subscription",link:"subscription",tooltip:"Set and manage payment modes",indicate:!0,disable:!1,bodyClass:"service-catalogue"},{icon:"icon-rs-invoices-xlarge font-xlg",title:"Invoices",link:"invoice-list",tooltip:"View and download platform invoices",indicate:!1,disable:!1},{icon:"icon-rs-license-info-xlarge font-xlg",title:"License info",link:"license-info",tooltip:"View license details",indicate:!1,disable:!1}]}},m={general:{title:"General",list:[{icon:"icon-rs-user-list-large icons-lg",title:"My profile",link:"my-profile",tooltip:"Update and manage your profile",indicate:!1,disable:!1},{icon:"icon-rs-settings-large icons-lg",title:"Account settings",link:"account-settings",tooltip:"Update and manage your account settings",indicate:!1,disable:!1},{icon:"icon-rs-users-large icons-lg",title:"Users",link:"users",tooltip:"Add / Modify / Remove users",indicate:!1,disable:!1},{icon:"icon-rs-alert-large icons-lg",title:"Alerts",link:"alert-notification",tooltip:"Manage your alerts and notifications",indicate:!1,disable:!1}]},setup:{title:"Setup",list:[{icon:"icon-rs-communication-settings-large icons-lg",title:"Communication settings",link:"communication-settings",tooltip:"Customise and manage your communication settings",indicate:!1,disable:!1},{icon:"icon-rs-form-generator-large icons-lg",title:"Form generator",link:"form-generator",tooltip:"Create new forms for your digital properties",indicate:!1,disable:!0},{icon:"icon-rs-data-exchange-large icons-lg",title:"Data exchange",link:"data-exchange",tooltip:"Connect to your existing systems and data sources",indicate:!1,disable:!0}]},billing:{title:"Billing",list:[{icon:"icon-rs-consumptions-large icons-lg",title:"Consumptions",link:"consumptions",tooltip:"View bandwidth and consumption at channel level",indicate:!1,disable:!1},{icon:"icon-rs-invoices-large icons-lg",title:"Invoices",link:"invoices",tooltip:"View and download platform invoices",indicate:!1,disable:!1}]}},x=x=>{const f=e(),h=t(),[b,v]=l.useState([]),[j,k]=l.useState(null),[y,w]=l.useState(null),C=n("lsConfig"),S=l.useContext(s);o(m);const[N,D]=l.useState(o(g)),[$,A]=l.useState(!1),[M,L]=l.useState(!1),I=i=>`${i.getFullYear()}-${String(i.getMonth()+1).padStart(2,"0")}-${String(i.getDate()).padStart(2,"0")}`;l.useEffect((()=>{var i,e;let t=a();L(null==t?void 0:t.isSupportUser),A(null==t?void 0:t.isAgency),localStorage.getItem("isAgency");let l=localStorage.getItem("companyvalue");if(null!=l){let i=JSON.parse(l);k(i)}null!=t&&(w(null==t?void 0:t.userId),null!=(null==t?void 0:t.clientLists)&&v(null==t?void 0:t.clientLists)),window.scrollTo(0,0);let n={...N},s=a();if(localStorage.removeItem("cIndex"),new Date(null==s?void 0:s.nextInvoiceDate),null!==(null==s?void 0:s.referral)&&"marketplace"===(null==(i=null==s?void 0:s.referral)?void 0:i.toLowerCase()))n=o(m),n.general.list[0].indicate=!(null==s?void 0:s.isProfileCompleted)||!1,n.general.list[1].indicate=!(null==s?void 0:s.isAccSettingsCompleted)||!1;else if(n.general.list[0].indicate=!(null==s?void 0:s.isProfileCompleted)||!1,n.general.list[1].indicate=!(null==s?void 0:s.isAccSettingsCompleted)||!1,void 0===s.payStatus||null===s.payStatus)n.billing.list[1].indicate=!0;else if(null!==(null==s?void 0:s.nextDueDate)&&void 0!==s.nextDueDate){let i=((i,e)=>{const t=new Date(i),l=new Date(e)-t;return Math.floor(l/864e5)})(I(new Date),I(new Date(null==s?void 0:s.nextDueDate)));n.billing.list[1].indicate=i<6}else n.billing.list[1].indicate=!0;if(D(n),0==(null==t?void 0:t.isAgency)){let i={...n,general:{...n.general,list:null==(e=n.general)?void 0:e.list.map((i=>"Companies"===i.title?{...i,disable:!0}:i))}};D(i)}}),[]);const U=()=>{let i=a();return"true"===(null==i?void 0:i.isAgency)||!0===(null==i?void 0:i.isAgency)};return i.jsxs(u,{children:[i.jsx(p,{fluid:!0,className:"main-heading-wrapper mb0",children:i.jsx(p,{className:"mhw-container",children:i.jsx("div",{className:"mhwc-left",children:i.jsx("h1",{children:i.jsx("div",{className:"mh-wrapper",children:i.jsx("span",{className:"mh-text",children:"Preferences"})})})})})}),i.jsxs(p,{className:"page-header",children:[i.jsxs("div",{className:"pref-card mt15",children:[i.jsx("h3",{className:"mb10",children:N.general.title}),i.jsx("ul",{className:"pp-row box-design clearfix",children:N.general.list.map((e=>{const[t,n]=l.useState(!1);return i.jsx(r,{position:"top",text:e.tooltip,children:i.jsx("li",{onMouseEnter:()=>{n(!0)},onMouseLeave:()=>{n(!1)},onClick:()=>{n(!1),setTimeout((()=>{h.push(`${f.url}/${e.link}`)}),100)},className:`${e.disable||"Clients"===e.title&&M?"click-off":""} ${"Clients"===e.title?!0===U()?"click-on":"click-off":""}`,children:i.jsxs("div",{className:"per-list-set",children:[0==$&&!0===e.indicate&&i.jsx("span",{className:"indicator"}),i.jsx(c,{icon:e.icon,size:"s"}),i.jsx("p",{children:e.title})]})})})}))})]}),i.jsxs("div",{className:"pref-card",children:[i.jsx("h3",{className:"mb10",children:N.setup.title}),i.jsx("ul",{className:"pp-row box-design clearfix",children:N.setup.list.map(((e,t)=>{const[n,s]=l.useState(!1);return i.jsx(r,{position:"top",text:e.tooltip,show:n,children:i.jsx("li",{onMouseEnter:()=>{s(!0)},onMouseLeave:()=>{s(!1)},onClick:()=>{s(!1),setTimeout((()=>{h.push(`${f.url}/${e.link}`)}),100)},className:`${1===t&&!(null==C?void 0:C.fs)&&"click-off"} ${e.disable?"click-off":""} ${"Push builder"===e.title&&!0===d()?"click-off":""}`,children:i.jsxs("div",{className:"per-list-set",children:[i.jsx(c,{icon:e.icon,size:"s"}),!0===e.indicate&&i.jsx("span",{className:"indicator"}),i.jsx("p",{children:e.title})]})})})}))})]}),i.jsxs("div",{className:"pref-card mb23",children:[i.jsx("h3",{className:"mb10",children:N.billing.title}),i.jsx("ul",{className:"pp-row box-design clearfix",children:N.billing.list.map((e=>{const[t,n]=l.useState(!1);return a(),i.jsx(r,{position:"top",text:e.tooltip,children:i.jsx("li",{onMouseEnter:()=>{n(!0)},onMouseLeave:()=>{n(!1)},onClick:()=>{n(!1),"subscription"===e.link?(e.indicate,setTimeout((()=>{h.push(`/preferences/${e.link}`)}),100)):(h.push(`${f.url}/${e.link}`),S.globalStateData.setBodyNameData(e.bodyClass))},className:e.disable||!0===d()?"click-off":"",children:i.jsxs("div",{className:`per-list-set ${"subscription"===e.link&&!0===d()&&"click-off"} `,children:[i.jsx(c,{icon:e.icon,size:"s"}),0==$&&!0===e.indicate&&i.jsx("span",{className:"indicator"}),i.jsx("p",{children:e.title})]})})})}))})]})]})]})};export{x as PreferenceHome};
