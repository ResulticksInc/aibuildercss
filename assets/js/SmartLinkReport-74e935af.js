var e=Object.defineProperty,a=(a,s,t)=>(((a,s,t)=>{s in a?e(a,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):a[s]=t})(a,"symbol"!=typeof s?s+"":s,t),t);import{j as s}from"./pdf-editor-8270ab34.js";import{R as t,w as i,r as l}from"./react-vendor-379f659a.js";import{N as n}from"./NewCharts-9842b056.js";import{z as r,M as o,E1 as d,E0 as c,ep as u,am as m}from"./index-74701706.js";import{I as h,J as p,K as x,L as v,M as j,N as g,O as b,aG as N}from"./Colors-8a9fdcf2.js";import{RSErrorPopup as y}from"./RSConfirmAlert-deac68bb.js";import{E as f}from"./Engagement-1e94a166.js";import{i as k}from"./utils-16c7e021.js";import{R as D}from"./RTabbar-ca75b8a9.js";import{H as w,O as C}from"./Skeleton-fd850846.js";import{a as L,S as I}from"./SkeletonTable-8cb486e7.js";import{c as B}from"./chart-clock-modified-566e767a.js";import{H,a as S}from"./Constants-91b79536.js";import{D as T,d as A,e as M}from"./index-11ed5abc.js";import{K as F}from"./index-21f205f2.js";import{R as W,a as O}from"./ui-e848d714.js";import"./charts-f2096496.js";import"./map-99306e6f.js";import"./kendo-5d73125a.js";import"./drag-drop-a86b0275.js";import"./RSIcon-70da13ba.js";import"./constants-82903eb8.js";import"./get-4aa85b1a.js";const R=t.memo((e=>{var a,t;const[i,l]=k({tabDaysIndex:0});return s.jsxs("div",{className:"portlet-container portlet-md",children:[s.jsxs("div",{className:"portlet-header",children:[s.jsx("h4",{children:"Usage behavior"}),s.jsx("div",{className:"p-nav-right",children:s.jsx(D,{defaultSelectedItem:i.tabDaysIndex,defaultClass:"",dynamicTab:"mini marginB0",activeClass:"active",tabData:E,callBack:(e,a)=>{l((e=>{e.tabDaysIndex=a}))}})})]}),s.jsx("div",{className:"portlet-body",children:0===i.tabDaysIndex?e.isLoading?s.jsx(w,{}):(null==(t=null==(a=e.data)?void 0:a.byDays)?void 0:t.length)?s.jsx(n,{options:z(e.data)}):s.jsxs(s.Fragment,{children:[s.jsx(L,{}),s.jsx(w,{})]}):i.isLoading?s.jsx(w,{}):e.byHoursChart?s.jsxs("div",{className:"portlet-chart",children:[s.jsx("img",{className:"chart-clock-img",src:B,alt:"by hours"}),s.jsx(n,{options:e.byHoursChart})]}):s.jsxs(s.Fragment,{children:[s.jsx(L,{}),s.jsx(w,{})]})})]})})),E=[{id:1001,text:"By days"},{id:1002,text:"By hours"}],P={monday:h,tuesday:p,wednesday:x,thursday:v,friday:j,saturday:g,sunday:b},z=e=>{let a=[];["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((s=>{var t;null==(t=null==e?void 0:e.byDaysCount)||t.map((e=>{e.name.includes(s)&&a.push(e)}))}));let s=null==a?void 0:a.reduce(((e,a)=>e+Number(a.value)),0);return{chart:{type:"column",height:350},xAxis:{title:{text:""},categories:null==a?void 0:a.map((e=>e.name)),tickInterval:1},plotOptions:{column:{stacking:!1,colorByPoint:!0}},colors:null==a?void 0:a.map((e=>P[e.name.toLowerCase()])),tooltip:{formatter:function(){return`<span>${this.x}</span><br><span style="color:${this.points[0].color}">●</span> Value: <span>${this.y.toFixed(0)}%</span>`}},yAxis:{title:{text:""},labels:{formatter:function(){return this.axis.defaultLabelFormatter.call(this)+"%"}},max:100},series:[{showInLegend:!1,name:"Communication period",pointWidth:27,data:null==a?void 0:a.map((e=>Number(e.value)/s*100)),legendIndex:0,states:{inactive:{opacity:1},hover:{enabled:!1}}}]}},U=i(t.memo((e=>{var a,t,i,h,p,x,v,j,g,b,N,D,B,E,P,z,U,_,V,Y,q,J,Q,X,Z,ee,ae,se,te,ie,le,ne,re,oe,de,ce,ue,me,he,pe,xe,ve,je,ge,be,Ne,ye,fe,ke,De,we,Ce,Le,Ie,Be,He,Se,Te,Ae,Me;const Fe=l.useContext(r),[We,Oe]=k({isLoading:!1,isLinkLoading:!0,tabEngagementIndex:0,tabDaysIndex:0,skip:0,take:10,data:null,linkClickData:null,byHoursChart:null,saveError:!1,expandEnable:!1});l.useEffect((()=>{window.scrollTo(0,0),(null==e?void 0:e.channelId)&&ze()}),[e.channelId]);const Re=()=>{const a={campaignGuid:(null==e?void 0:e.guiId)||"",channelId:e.channelId};return Oe((e=>{e.isLinkLoading=!0})),a},Ee=l.useCallback((()=>{o({path:d,params:Re(),sessionOut:Fe.globalStateData.setSessionOutData,ok:a=>{(a=>{Oe((e=>{e.isLinkLoading=!1})),a.status?Oe((e=>{e.linkClickData=a.data.topLinksClickedList})):Oe((e=>{e.saveError=!0})),e.isDownload})(a)},fail:e=>{Oe((e=>{e.isLinkLoading=!1}))}})})),Pe=()=>{const a={campaignId:e.campaignId,channelId:e.channelId,blastGuid:e.guiId};return Oe((e=>{e.isLoading=!0,e.data=null})),a},ze=l.useCallback((()=>{o({path:c,params:Pe(),sessionOut:Fe.globalStateData.setSessionOutData,ok:a=>{(a=>{var s;let t=null;if(!1===a.status&&e.updateDownloadStatus(!1),!0===a.status&&(e.updateDownloadStatus(!0),Oe((e=>{e.isLoading=!1})),1===e.channelId&&(t=a.data.emailIDetail,Oe((e=>{e.data=a.data.emailIDetail}))),2===e.channelId&&(t=a.data.mobileDetail,Oe((e=>{e.data=a.data.mobileDetail}))),8===e.channelId&&(t=a.data.webpushDetail,Oe((e=>{e.data=a.data.webpushDetail}))),14===e.channelId&&(t=a.data.mobilePushDetail,Oe((e=>{e.data=a.data.mobilePushDetail}))),21===e.channelId&&(t=a.data.whatsappDetail,Oe((e=>{e.data=a.data.whatsappDetail})))),t.byHoursCount&&(null==(s=t.byHoursCount)?void 0:s.length)){let e=0,a=[],s=t.byHoursCount.map((e=>({hour:e.name.split(" ")[0],hourWiseCount:e.value})));s.forEach((a=>{e+=Number(a.hourWiseCount)})),a=s.sort(((e,a)=>Number(a.hourWiseCount)-Number(e.hourWiseCount))).map(((e,a)=>{if(a<4)return e})).filter(Boolean),a.forEach((e=>e.createdDate=new Date((e.createdDate||new Date)+" CDT").toLocaleString().replace(/,/g,"")));const o=a,d=null==o?void 0:o.reduce(((e,a)=>e+Number(a.hourWiseCount)),0),c=o[0],u=o[0];let m=0;o.forEach((e=>{m+=Number(e.hourWiseCount)}));let h=`of the visitors engage during ${c.hour-1>=12?c.hour-1-12==0?"12 PM":c.hour-1-12+" PM":c.hour-1==0?"12 AM":c.hour-1+" AM"} to ${u.hour>=12?u.hour-12==0?"12 PM":u.hour-12+" PM":0===u.hour?"12 AM":u.hour+" AM"}`;var i=new Date(o[0].createdDate);i.setHours(i.getHours()-1),new Date(o[0].createdDate);var l=new Date;l.setHours(Number(o[0].hour)-1),l=l.getHours();var n=new Date;n.setHours(Number(o[0].hour));let p={chart:{type:"gauge",plotBackgroundColor:null,plotBackgroundImage:null,plotBorderWidth:0,plotShadow:!1,backgroundColor:null},title:{text:null},credits:{enabled:!1},plotOptions:{gauge:{pivot:{radius:0},dial:{radius:"118%",topWidth:18,baseWidth:1,rearLength:"-93%",baseLength:"93%",backgroundColor:"#0c8aff"}}},pane:{startAngle:0,endAngle:360,size:"80%",innerSize:"50%",background:[{backgroundColor:{linearGradient:{x1:0,y1:1,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:1,outerRadius:"0%"},{borderColor:"transparent"}]},yAxis:{min:0,max:24,minorTickInterval:"3",minorTickWidth:1,minorTickLength:10,minorTickPosition:"inside",minorTickColor:"#ccc",tickPixelInterval:30,tickWidth:2,tickPosition:"inside",tickLength:10,tickColor:"#ccc",labels:{step:3,rotation:"90",style:{"font-size":"14px"}},title:{text:""},plotBands:[{from:0,to:24,color:"#e8e8ea",outerRadius:"105%",thickness:"4%"}]},tooltip:{enabled:!1},series:[{name:"24 Hour",data:[l,n=n.getHours()],tooltip:{valueSuffix:""}}]};try{let e=new Date;e.setHours(Number(o[0].hour)-1),e=e.getHours();let a=new Date;a.setHours(Number(o[0].hour)),a=a.getHours(),p.yAxis.plotBands.push({from:e,to:a,color:"#66ab37",outerRadius:"105%",thickness:"4%"})}catch(r){}try{let e=new Date;e.setHours(Number(o[1].hour)-1),e=e.getHours();let a=new Date;a.setHours(Number(o[1].hour)),a=a.getHours(),p.yAxis.plotBands.push({from:e,to:a,color:"#98cc03",outerRadius:"105%",thickness:"4%"})}catch(r){}try{let e=new Date;e.setHours(Number(o[2].hour)-1),e=e.getHours();let a=new Date;a.setHours(Number(o[2].hour)),a=a.getHours(),p.yAxis.plotBands.push({from:e,to:a,color:"#b2d943",outerRadius:"105%",thickness:"4%"})}catch(r){}try{let e=new Date;e.setHours(Number(o[3].hour)-1),e=e.getHours();let a=new Date;a.setHours(Number(o[3].hour)),a=a.getHours(),p.yAxis.plotBands.push({from:e,to:a,color:"#b6d759",outerRadius:"105%",thickness:"4%"})}catch(r){}Oe((e=>{e.byHoursChart=p,e.usage_by_hour_web=h,e.hourPeak=(Number(o[0].hourWiseCount)/d*100).toFixed(0)}))}Ee()})(a)},fail:a=>{Oe((e=>{e.isLoading=!1})),e.updateDownloadStatus(!1)}})}),[e.channelId]),Ue=()=>{var e,a;let s=0;return null==(a=null==(e=We.data)?void 0:e.devices)||a.map((e=>{s+=parseInt(e.value)})),s},Ge=()=>{var e,a;let s=0;return null==(a=null==(e=We.data)?void 0:e.byBrowser)||a.map((e=>{s+=parseInt(e.value)})),s},$e=()=>s.jsx(y,{headerTitle:"Sorry",subtitle:"Report is not generated properly. Please try again after sometime...",primaryButtonText:"OK",buttonClicked:e=>{Oe((e=>{e.saveError=!1}))}}),Ke=l.useMemo((()=>{var e,a,t;return(null==(a=null==(e=We.data)?void 0:e.conversionOverAllData)?void 0:a.series)?s.jsx(n,{options:G(null==(t=We.data)?void 0:t.conversionOverAllData)}):null}),[null==(a=We.data)?void 0:a.conversionOverAllData]),_e=l.useMemo((()=>s.jsx(n,{options:$(We.data,Ge())})),[null==(t=We.data)?void 0:t.byBrowser]),Ve=l.useMemo((()=>s.jsx(n,{options:K(We.data,Ue())})),[null==(i=We.data)?void 0:i.devices]);return s.jsxs(s.Fragment,{children:[We.saveError&&s.jsx($e,{}),s.jsxs("div",{className:"d-flex align-items-center",children:[s.jsx("h3",{className:"marginY15",children:"Overview"}),s.jsx("small",{className:"ml10",children:(null==(h=We.data)?void 0:h.lastUpdatedDateTime)&&"0001-01-01T00:00:00"!==(null==(p=We.data)?void 0:p.lastUpdatedDateTime)?s.jsxs(s.Fragment,{children:[" (As on:"," "," ",u(null==(x=We.data)?void 0:x.lastUpdatedDateTime,null==(v=We.data)?void 0:v.lastUpdatedDateTime)," ) "]}):""})]}),s.jsxs(W,{children:[s.jsx(O,{children:s.jsx("div",{className:"details-box",children:We.isLoading?s.jsx(C,{}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"detail-start d-flex align-items-center marginB23 click-off",children:[s.jsx("div",{className:"d-flex align-items-center",children:s.jsx("img",{src:T,alt:"Reach",width:65,height:65})}),s.jsxs("div",{className:"marginL23",children:[s.jsx("h4",{className:"marginB0",children:"Reach"}),s.jsx("h3",{className:"marginB0 font-xl fontM",children:"0"}),s.jsx("div",{className:"detail-center",children:s.jsx("ul",{children:s.jsxs("li",{children:[s.jsx("small",{children:"Delivered"}),s.jsx("span",{children:"0"})]})})})]})]}),s.jsxs("div",{className:"detail-end bgBlue-light d-flex justify-content-between align-items-center",children:[s.jsx("p",{className:"marginB0",children:(null==(j=We.data)?void 0:j.prevDisplayLabel)||"Previous week comparison"}),s.jsx("div",{className:"h30",children:s.jsx("span",{children:"NA"})})]})]})})}),s.jsx(O,{children:s.jsx("div",{className:"details-box",children:We.isLoading?s.jsx(C,{}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"detail-start d-flex align-items-center marginB23",children:[s.jsx("div",{className:"d-flex align-items-center",children:s.jsx("img",{src:A,alt:"Engagement",width:85,height:85})}),s.jsxs("div",{className:"marginL23",children:[s.jsx("h4",{className:"marginB0",children:"Engagement"}),s.jsx("h3",{className:"marginB0 font-xl fontM",children:(null==(b=null==(g=We.data)?void 0:g.engagement)?void 0:b.count)||0}),s.jsx("div",{className:"detail-center",children:s.jsx("ul",{children:s.jsxs("li",{children:[s.jsx("small",{children:"Total clicks"}),s.jsx("span",{children:(null==(D=null==(N=We.data)?void 0:N.engagement)?void 0:D.clicks)||0}),s.jsx("small",{children:"%"})]})})})]})]}),s.jsxs("div",{className:"detail-end bgOrange-medium d-flex justify-content-between align-items-center",children:[s.jsx("p",{className:"marginB0",children:(null==(B=We.data)?void 0:B.prevDisplayLabel)||"Previous week comparison"}),s.jsxs("div",{className:"h30",children:[s.jsx("span",{children:null==(P=null==(E=We.data)?void 0:E.engagement)?void 0:P.previousWeekComparison}),s.jsx("small",{className:"font-sm",children:"NA"!==(null==(U=null==(z=We.data)?void 0:z.engagement)?void 0:U.previousWeekComparison)&&""}),"NA"!==(null==(V=null==(_=We.data)?void 0:_.engagement)?void 0:V.previousWeekComparison)&&s.jsx("i",{className:`icon-rs-arrow-${(null==(Y=We.data)?void 0:Y.isLowEngPerformance)?"down":"up"}-medium icons-md white posr top3`})]})]})]})})}),s.jsx(O,{children:s.jsx("div",{className:"details-box",children:We.isLoading?s.jsx(C,{}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"detail-start d-flex align-items-center marginB23",children:[s.jsx("div",{className:"d-flex align-items-center",children:s.jsx("img",{src:M,alt:"Conversion",width:65,height:65})}),s.jsxs("div",{className:"marginL23",children:[s.jsx("h4",{className:"marginB0",children:"Conversion"}),s.jsx("h3",{className:"marginB0 font-xl fontM",children:(null==(J=null==(q=We.data)?void 0:q.conversion)?void 0:J.count)||0}),s.jsx("div",{className:"detail-center",children:s.jsx("ul",{children:s.jsxs("li",{children:[s.jsx("small",{children:"Goal conversion"}),s.jsx("span",{children:(null==(X=null==(Q=We.data)?void 0:Q.conversion)?void 0:X.registration)||0}),s.jsx("small",{children:"%"})]})})})]})]}),s.jsxs("div",{className:"detail-end bgGreen-medium d-flex justify-content-between align-items-center",children:[s.jsx("p",{className:"marginB0",children:(null==(Z=We.data)?void 0:Z.prevDisplayLabel)||"Previous week comparison"}),s.jsxs("div",{className:"",children:[s.jsxs("span",{children:[" ",null==(ae=null==(ee=We.data)?void 0:ee.conversion)?void 0:ae.previousWeekComparison," "]}),s.jsxs("small",{className:"font-sm",children:[" ","NA"!==(null==(te=null==(se=We.data)?void 0:se.conversion)?void 0:te.previousWeekComparison)&&""," "]}),"NA"!==(null==(le=null==(ie=We.data)?void 0:ie.conversion)?void 0:le.previousWeekComparison)&&s.jsx("i",{className:`icon-rs-arrow-${(null==(ne=We.data)?void 0:ne.isLowConvPerformance)?"down":"up"}-medium icons-md white posr top3`})]})]})]})})})]}),s.jsx(H,{}),s.jsxs(W,{children:[s.jsx(O,{md:8,children:s.jsx(f,{data:We.data,isLoading:We.isLoading})}),s.jsx(O,{md:4,children:s.jsxs("div",{className:"portlet-container keymetrics-portlet keymetrics-md",children:[s.jsx("h4",{children:"Key metrics"}),s.jsx("ul",{className:"keymetrics-list key-border",children:s.jsxs("li",{children:[s.jsx("h3",{children:(null==(oe=null==(re=We.data)?void 0:re.keyMetrics)?void 0:oe.totalClicks)||0}),s.jsx("small",{children:"Total clicks"})]})}),s.jsx("ul",{className:"keymetrics-list keymetrics-theme",children:s.jsxs("li",{className:"bg-light-blue d-flex align-items-center",children:[s.jsx("h5",{className:"white paddingR5",children:"No. of devices"}),s.jsx("h3",{children:(null==(ce=null==(de=We.data)?void 0:de.keyMetrics)?void 0:ce.noOfDevices)||0})]})}),s.jsxs("ul",{className:"keymetrics-list key-border paddingY15",children:[s.jsxs("li",{children:[s.jsx("h5",{className:"paddingB0",children:m(null==(me=null==(ue=We.data)?void 0:ue.keyMetrics)?void 0:me.topDevice)||"N/A"}),s.jsx("small",{children:"Top device"})]}),s.jsxs("li",{children:[s.jsx("h5",{className:"paddingB0",children:m(null==(pe=null==(he=We.data)?void 0:he.keyMetrics)?void 0:pe.topBrowser)||"N/A"}),s.jsx("small",{children:"Top browser"})]})]}),s.jsx("p",{className:"marginB0",children:"Top location of participants"}),s.jsx("ul",{className:"keymetrics-list keymetrics-theme",children:s.jsxs("li",{className:"bgGreen-medium",children:[s.jsxs("h3",{className:"white padding0",children:[(null==(ve=null==(xe=We.data)?void 0:xe.keyMetrics)?void 0:ve.topLocationValue)||"0",s.jsx("small",{children:"%"})]}),s.jsxs("small",{children:[(null==(ge=null==(je=We.data)?void 0:je.keyMetrics)?void 0:ge.topLocation)?"from":""," ",(null==(Ne=null==(be=We.data)?void 0:be.keyMetrics)?void 0:Ne.topLocation)||""]})]})})]})})]}),s.jsxs(W,{children:[s.jsx(O,{md:6,children:s.jsxs("div",{className:"portlet-container portlet-md ",children:[s.jsx("div",{className:"portlet-header",children:s.jsx("h4",{children:"Conversion"})}),We.isLoading?s.jsx(w,{}):(null==(ye=We.data)?void 0:ye.conversionOverAllData)&&(null==(ke=null==(fe=We.data)?void 0:fe.conversionOverAllData)?void 0:ke.categories)&&(null==(we=null==(De=We.data)?void 0:De.conversionOverAllData)?void 0:we.series)?s.jsx(s.Fragment,{children:s.jsx("div",{className:"portlet-body",children:s.jsx("div",{className:"portlet-chart",children:Ke})})}):s.jsxs(s.Fragment,{children:[s.jsx(L,{}),s.jsx(w,{})]})]})}),s.jsx(O,{md:6,children:s.jsxs("div",{className:"portlet-container portlet-md",children:[s.jsx("div",{className:"portlet-header",children:s.jsx("h4",{children:"Browser"})}),We.isLoading?s.jsx(w,{}):(null==(Le=null==(Ce=We.data)?void 0:Ce.byBrowser)?void 0:Le.length)&&(null==(Ie=We.data)?void 0:Ie.byBrowser)?s.jsx(s.Fragment,{children:s.jsx("div",{className:"portlet-body",children:s.jsx("div",{className:"portlet-chart",children:We.data&&s.jsx(s.Fragment,{children:_e})})})}):s.jsxs(s.Fragment,{children:[s.jsx(L,{}),s.jsx(w,{})]})]})})]}),s.jsxs(W,{children:[s.jsx(O,{md:6,children:s.jsxs("div",{className:"portlet-container portlet-md",children:[s.jsx("div",{className:"portlet-header",children:s.jsx("h4",{children:"Device"})}),We.isLoading?s.jsx(w,{}):(null==(He=null==(Be=We.data)?void 0:Be.devices)?void 0:He.length)&&(null==(Se=We.data)?void 0:Se.devices)?s.jsx(s.Fragment,{children:s.jsx("div",{className:"portlet-body",children:s.jsx("div",{className:"portlet-chart",children:We.data&&s.jsx(s.Fragment,{children:Ve})})})}):s.jsxs(s.Fragment,{children:[s.jsx(L,{}),s.jsx(w,{})]})]})}),s.jsx(O,{md:6,children:s.jsx(R,{data:We.data,byHoursChart:We.byHoursChart,isLoading:We.isLoading})})]}),s.jsx(W,{children:s.jsxs(O,{children:[s.jsx(S,{}),s.jsx("div",{className:"portlet-container",children:We.isLinkLoading?s.jsx(I,{count:3,isError:!1}):(null==(Te=We.linkClickData)?void 0:Te.length)>0?s.jsx(s.Fragment,{children:s.jsx(F,{data:We.linkClickData,isDataStateRequired:!0,settings:{total:null==(Ae=We.linkClickData)?void 0:Ae.length},pageable:(null==(Me=We.linkClickData)?void 0:Me.length)>5,column:[{title:"S.No",field:"sNo",filter:"text"},{title:"Link (URL)",field:"url"},{title:"Total clicks",field:"totalClicks"}]})}):s.jsx(I,{count:3,isError:!0,children:s.jsx("div",{className:"nodata-bar",children:s.jsx("p",{children:"No data available"})})})})]})})]})}))),G=e=>{var a,s,t;return{chart:{type:"areaspline",className:"chart-line-animate x-axis-labels-performance-del"},title:{text:""},xAxis:{title:{text:""},categories:null==(a=null==e?void 0:e.categories)?void 0:a.map((e=>{let a=new Date(e).toDateString().split(" ");var s,t,i;return i=(s=a[2])%100,(1==(t=s%10)&&11!=i?s+"st":2==t&&12!=i?s+"nd":3==t&&13!=i?s+"rd":s+"th")+" "+a[1]})),labels:{rotation:0}},yAxis:{title:{text:""}},symbolRadius:0,legend:{enabled:!0},series:[{marker:{lineColor:"#b3d942",fillColor:"white"},name:"Clicks",color:N,lineWidth:1,data:null==(t=null==(s=null==e?void 0:e.series[0])?void 0:s.datas)?void 0:t.map((e=>e||0))}]}},$=(e,a)=>{var s;return{chart:{type:"pie"},plotOptions:{pie:{}},legend:{itemMarginTop:15,itemMarginBottom:0},tooltip:{enabled:!0,formatter:function(){let e=Number(this.point.count);return this.point.name+'<br><span style="color:'+this.point.color+'">●</span> '+this.series.name+": <b>"+e+"</b></span>"}},series:[{name:"Total",showInLegend:!0,borderWidth:2,height:"100%",innerSize:"50%",size:"100%",data:null==(s=null==e?void 0:e.byBrowser)?void 0:s.map(((e,s)=>({name:e.name,y:parseInt(e.value)/a*100,legendIndex:s,count:e.value}))),shadow:!1,dataLabels:{enabled:!0,connectorShape:"crookedLine",crookDistance:"100%",softConnector:!1}},{borderWidth:0,innerSize:"89%",size:"53%",data:[{color:"rgba(0, 0, 0, 0.15)",y:100}],shadow:!1,showInLegend:!1,enableMouseTracking:!1,dataLabels:{enabled:!1}}]}},K=(e,a)=>{var s;return{chart:{type:"pie"},plotOptions:{pie:{startAngle:-90}},legend:{itemMarginTop:15,itemMarginBottom:0},tooltip:{enabled:!0,formatter:function(){let e=Number(this.point.count);return this.point.name+'<br><span style="color:'+this.point.color+'">●</span> '+this.series.name+": <b>"+e+"</b></span>"}},series:[{name:"Total",showInLegend:!0,borderWidth:2,height:"100%",innerSize:"50%",size:"100%",data:null==(s=null==e?void 0:e.devices)?void 0:s.map(((e,s)=>({name:e.name,y:parseFloat(e.value)/a*100,count:e.value}))),shadow:!1,dataLabels:{enabled:!0,connectorShape:"fixedOffset",crookDistance:"100%",softConnector:!1}},{borderWidth:0,innerSize:"89%",size:"53%",data:[{color:"rgba(0, 0, 0, 0.15)",y:100}],shadow:!1,showInLegend:!1,enableMouseTracking:!1,dataLabels:{enabled:!1}}]}};class _ extends l.Component{constructor(){super(...arguments),a(this,"state",{options:null}),a(this,"componentDidMount",(()=>{this.setState({options:this.props.options})})),a(this,"componentDidUpdate",((e,a)=>{this.state.options!==this.props.options&&this.setState({options:this.props.options})})),a(this,"shouldComponentUpdate",((e,a)=>a.options===this.state.options))}render(){return s.jsx(n,{options:this.state.options})}}export{_ as RSChartComponent,U as default};
