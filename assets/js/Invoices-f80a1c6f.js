var e=Object.defineProperty,t=(t,s,a)=>(((t,s,a)=>{s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a})(t,"symbol"!=typeof s?s+"":s,a),a);import{j as s,d as a,E as i}from"./pdf-editor-8270ab34.js";import{R as l,w as n,r as o,i as d,k as r,S as c,j as m}from"./react-vendor-379f659a.js";import{p as u}from"./kendo-5d73125a.js";import{aC as h,az as x,ar as p,z as j,M as v,Co as g,ad as b,al as f,ea as N,Cp as w,Cq as D,X as y,U as S,dW as C,aS as I,B as k,E as A,Y as T,qw as L,Cr as z}from"./index-74701706.js";import{b as P}from"./CompanyUserList-e2a58016.js";import"./constants-82903eb8.js";import{S as F}from"./SkeletonTable-8cb486e7.js";import{K as E}from"./index-21f205f2.js";import"./RSDropdowns-57ad4a66.js";import{q as $}from"./utils-16c7e021.js";import{r as q}from"./react-router-dom.min-6f8d67fa.js";import{R}from"./RTabbar-ca75b8a9.js";import{L as B}from"./LayoutPageWrapper-4f1f1143.js";import{RSErrorPopup as M}from"./RSConfirmAlert-deac68bb.js";import{R as U}from"./RSIcon-70da13ba.js";import"./RSKendoDropdown-01650470.js";import{R as G}from"./RSCheckbox-2fef59cb.js";import"./style-a86a43a5.js";import{q as O}from"./inputLimit-ce03b0f6.js";import{H as W}from"./HPIconDropdownComponent-90c13264.js";import{C as V,M as H}from"./ui-e848d714.js";import{C as X}from"./CompanyListDropdown-7d8b4e2c.js";import"./drag-drop-a86b0275.js";import"./RSPhoneInput-a9f550fd.js";import"./RSFormGroup-183a553e.js";import"./FormListWrapper-7a45a553.js";import"./FormLabel-e5a81960.js";import"./FormFieldIcon-f423e4de.js";import"./RSSwitch-89e88c7d.js";import"./constantObject-ca27cf51.js";import"./get-4aa85b1a.js";const K="https://cdn.jsdelivr.net/gh/ResulticksInc/aibuildercss@main/assets/svg/BrandLogo-96e77989.svg",Y=[{field:"invoiceNo",dir:"asc"}];let _=class extends l.Component{constructor(){super(...arguments),t(this,"state",{sort:Y,getUpdateAccessData:!1,permissionView:!1})}componentDidMount(){let e=!1,t=!1;const s=h("Consumptions");e=1==(null==s?void 0:s.accessUpdateData),1==(null==s?void 0:s.accessViewData)&&(t=!0),this.setState({getUpdateAccessData:e,permissionView:t})}render(){return s.jsx("td",{children:s.jsx(x,{className:"float-end",children:s.jsx(p,{icon:"icon-rs-eye-medium",iconClass:this.state.permissionView?"click-on":"click-off",size:"md",tooltip:"View",onClick:()=>{this.props.history.push({pathname:`${this.props.url}/invoice`,search:`?iId=${this.props.dataItem.invoiceId}`})}})})})}};const Q=(e,t)=>({result:u(t.reverse().slice(0),e),dataState:e});class Z extends o.Component{constructor(){super(...arguments),t(this,"initialDataState",{skip:0,take:5}),t(this,"state",{result:null,sort:Y,dataState:Q(this.initialDataState,[]).dataState,invoiceList:[],listError:!1}),t(this,"dataStateChange",(e=>{this.setState({result:u(this.state.invoiceList,e.dataState),dataState:e.dataState})})),t(this,"CustomActionCell",(e=>{const{match:t,history:a}=this.props;return s.jsx(_,{...e,history:a,url:t.url})})),t(this,"componentDidMount",(e=>{v({path:g,params:{clientId:b()},sessionOut:this.context.globalStateData.setSessionOutData,ok:e=>{var t;if(e.status&&e.data&&(null==(t=e.data)?void 0:t.length)>0){let t=e.data,s=Q({skip:0,take:5},e.data);this.setState({result:s.result.data.reverse(),invoiceList:e.data.reverse(),listError:0===t.length})}else this.setState({listError:!0})},fail:e=>{this.setState({listError:!0})}})})),t(this,"CustomDateCell",(e=>s.jsx("td",{className:"text-start",children:f(e.dataItem.invoiceDate,!1)}))),t(this,"CustomDueDateCell",(e=>s.jsx("td",{className:"text-start",children:f(e.dataItem.dueDate,!1)}))),t(this,"PayModeCell",(e=>s.jsx("td",{className:"text-start",children:"Credit card"}))),t(this,"ColumnMenu",(e=>s.jsx("div",{children:s.jsx(P,{dropdownData:te,dropdownDataDate:se,enable:!0,jusBool:!0,propsData:e,dataa:this.state.invoiceList,onDataUpdate:e=>{let t=Q(this.state.dataState,e.Data);this.setState({result:t.result.data})},onClearDataUpdate:e=>{let t=Q(this.state.dataState,e.Data);this.setState({result:t.result.data})}})})))}render(){var e;return s.jsx(s.Fragment,{children:(null==(e=this.state.invoiceList)?void 0:e.length)>0?s.jsx(s.Fragment,{children:s.jsx(E,{config:{take:5,skip:0},data:this.state.invoiceList,isDataStateRequired:!1,settings:{total:this.state.invoiceList.length},pageable:this.state.invoiceList.length>5,column:[{field:"invoiceNo",filter:"text",title:"Invoice number",cell:e=>{var t;return s.jsx("td",{children:s.jsx("span",{children:null==(t=e.dataItem)?void 0:t.invoiceNo})})}},{field:"invoiceDateTime",title:"Invoice date",cell:this.CustomDateCell},{field:"totalAmount",title:"Amount (USD)",cell:ee},{field:"paymentMode",filter:"text",title:"Payment mode",cell:this.PayModeCell},{field:"dueDate",title:"Due date",cell:this.CustomDueDateCell},{field:"action",title:"Action",width:"120",cell:this.CustomActionCell}]})}):s.jsx("div",{className:"box-design pb10",children:s.jsx(F,{count:3,isError:this.state.listError})})})}}t(Z,"contextType",j);const J=n(Z),ee=e=>s.jsx("td",{className:"text-end",children:`$${N(e.dataItem.totalAmount)}`});var te=[{name:"Contains"},{name:"Is equal to"},{name:"Is not equal to"}],se=[{name:"Less than or equal to"},{name:"Greater than or equal to"}];const ae=[{field:"invoiceNo",dir:"asc"}],ie=e=>{const t=q.useHistory(),[a,i]=o.useState({sort:ae,getUpdateAccessData:!1,permissionView:!1});return o.useEffect((()=>{{let e=!1,t=!1;const s=h("Consumptions");e=1==(null==s?void 0:s.accessUpdateData),1==(null==s?void 0:s.accessViewData)&&(t=!0),i((s=>({...s,getUpdateAccessData:e,permissionView:t})))}}),[]),s.jsx("td",{children:s.jsx(x,{className:"float-end",children:s.jsx(p,{icon:"icon-rs-eye-medium",iconClass:a.permissionView?"click-on":"click-off",size:"md",tooltip:"View",onClick:()=>{t.push(`${e.url}/consumable-invoice`,{consumableId:e.dataItem.consumptionInvoiceId})}})})})},le=(e,t)=>({result:u(t.slice(0),e),dataState:e}),ne=n((({history:e,match:t})=>{const a=o.useContext(j),[i,l]=o.useState({result:null,sort:ae,dataState:le({skip:0,take:5},[]).dataState,invoiceList:[],listError:!1});return o.useEffect((()=>{v({path:w,params:{clientId:b()},sessionOut:a.globalStateData.setSessionOutData,ok:e=>{if(e.status&&e.data&&e.data.length>0){let t=e.data.filter((e=>null!==e.invoiceNo)),s=le({take:5,skip:0},t);l((e=>({...e,result:s.result,invoiceList:t,listError:0===t.length})))}else l((e=>({...e,listError:!0})))},fail:e=>{l((e=>({...e,listError:!0})))}})}),[]),s.jsx(s.Fragment,{children:i.invoiceList.length>0?s.jsx(s.Fragment,{children:s.jsx(E,{config:{take:5,skip:0},isDataStateRequired:!1,data:i.invoiceList,settings:{total:i.invoiceList.length},pageable:i.invoiceList.length>5,column:[{title:"Invoice number",field:"invoiceNo",filter:"text",cell:e=>{var t;return s.jsx("td",{children:s.jsx("span",{children:null==(t=e.dataItem)?void 0:t.invoiceNo})})}},{title:"Invoice date",field:"invoiceDateTime",cell:e=>s.jsx("td",{className:"text-start",children:f(e.dataItem.invoiceDate,!1)})},{title:"Amount (USD)",field:"totalAmount",filter:"text",cell:e=>{var t;return s.jsx("td",{className:"text-end",children:"$"+N(parseFloat((null==(t=null==e?void 0:e.dataItem)?void 0:t.price)||0).toFixed(2))})}},{title:"Payment mode",field:"paymentMode",cell:e=>s.jsx("td",{className:"text-start",children:"Credit card"})},{title:"Status",field:"status",filter:"text"},{title:"Action",width:"120",field:"action",cell:e=>s.jsx(ie,{...e,url:t.url})}]})}):s.jsx("div",{className:"box-design pb10",children:s.jsx(F,{count:3,isError:i.listError})})})})),oe=e=>{var t,l,n,r,c;let m=d(),u=o.useContext(j);const[h,x]=o.useState(null),[g,w]=o.useState(!1),[L,z]=o.useState(null),[P,F]=o.useState(!1),[E,q]=o.useState(!1),[R,X]=o.useState("Downloading"),[Y,_]=o.useState(!1),[Q,Z]=o.useState(""),[J,ee]=o.useState([]),te=o.useRef();o.useEffect((()=>{var e;const t=$.parse(null==(e=null==m?void 0:m.location)?void 0:e.search);let s=void 0!==t.iId?t.iId:0;se(s)}),[]);const se=e=>{let t={clientId:b(),invoiceId:e};v({path:D,params:t,loading:u.globalStateData.setIsLoadingData,sessionOut:u.globalStateData.setSessionOutData,ok:e=>{var t;e.status?(null==(t=e.data)||t.invoiceDateTime,x(e.data),ee(ae(null==e?void 0:e.data)),F(!1),setTimeout((()=>{(()=>{var e,t;((null==(t=null==(e=null==m?void 0:m.location)?void 0:e.state)?void 0:t.isDownload)||P)&&a(document.getElementById("download"),{quality:.95}).then((function(e){document.createElement("a").download="my-image-name.jpeg";const t=new i,s=t.getImageProperties(e),a=t.internal.pageSize.getWidth(),l=s.height*a/s.width;t.addImage(e,"PNG",0,0,a,l);let n="subscription invoice"+f(new Date,!1)+".pdf";t.save(n),P?F(!1):m.push("/preferences/invoice-list")}))})()}),2e3)):(w(!0),z((null==e?void 0:e.message)||y))},fail:e=>{}})},ae=e=>{var t,s,a,i,l;let n=[];if((null==(t=null==e?void 0:e.featureType)?void 0:t.toLowerCase().includes("license"))||!1===(null==e?void 0:e.isAddOnInv)){let t=ie(e,!1);return n.push(t),(null==(s=null==e?void 0:e.addons)?void 0:s.length)>0&&(null==(a=null==e?void 0:e.addons)||a.map((e=>{let t=ie(e,!0);n.push(t)}))),n}return(null==(i=null==e?void 0:e.addons)?void 0:i.length)>0&&(null==(l=null==e?void 0:e.addons)||l.map((e=>{let t=ie(e,!0);n.push(t)}))),n},ie=(e,t)=>({planName:!0===t?null==e?void 0:e.addOnName:null==e?void 0:e.featureName,planType:!0===t?"Add-on":"License",pricePerMonth:null==e?void 0:e.pricePerMonth,quantity:!0===t?null==e?void 0:e.quantity:1,freqValue:(null==e?void 0:e.freqValue)||"",salePrice:!0===t?null==e?void 0:e.totalAmount:null==e?void 0:e.salePrice});return s.jsxs(s.Fragment,{children:[!0===g&&s.jsx(M,{headerTitle:"Sorry",para:L,primaryButtonText:"OK",buttonClicked:e=>{w(!1)}}),E&&s.jsx(M,{headerTitle:"Invoice",para:R,primaryButtonText:"OK",buttonClicked:e=>{w(!1)}}),s.jsx(B,{children:s.jsxs("div",{className:"print-container",children:[s.jsx(V,{fluid:!0,className:"main-heading-wrapper mb0 no-print",children:s.jsxs(V,{className:"mhw-container",children:[s.jsx("div",{className:"mhwc-left",children:(P||!(null==(l=null==(t=null==m?void 0:m.location)?void 0:t.state)?void 0:l.isDownload))&&s.jsx(s.Fragment,{children:s.jsx("h1",{children:"Invoice"})})}),s.jsx("div",{className:"mhwc-right",children:s.jsxs("div",{className:"align-items-center d-flex",children:[s.jsx(W,{data:de,flatIcon:!0,defaultItem:s.jsx(S,{position:"top",text:"Download",children:s.jsx("i",{id:"rs_data_download",className:`${C} icons-lg color-primary-blue`})}),showUpdate:!1,className:"no_caret",alignRight:!0,onSelect:e=>{var t,s;" pdf"===(null==(t=null==e?void 0:e.props)?void 0:t.children[1].toLowerCase())?(F(!0),X("Downloading . . ."),q(!0),a(document.getElementById("download"),{quality:.95}).then((function(e){X("Download completed"),setTimeout((()=>{q(!1)}),2e3),document.createElement("a").download="my-image-name.jpeg";const t=new i,s=t.getImageProperties(e),a=t.internal.pageSize.getWidth(),l=s.height*a/s.width;t.addImage(e,"PNG",0,0,a,l);let n="subscription invoice"+f(new Date,!1)+".pdf";t.save(n),F(!1)})).catch((e=>{q(!1)}))):" print"===(null==(s=null==e?void 0:e.props)?void 0:s.children[1].toLowerCase())?((()=>{for(var e=document.getElementsByClassName("header-component"),t=0;t<e.length;t++)e[t].classList.add("no-print");var s=document.getElementsByClassName("layout-footer-container");for(t=0;t<s.length;t++)s[t].classList.add("no-print")})(),setTimeout((()=>{var e,t;e=document.querySelector(".print-container"),t=document.body.innerHTML,document.body.innerHTML=e.innerHTML,window.print(),document.body.innerHTML=t}),1e3)):_(!0)}}),s.jsxs("div",{className:"back-text ml10",onClick:()=>m.push("/preferences/invoice-list"),children:[s.jsx(p,{icon:I,size:"sm"}),"Back"]}),Y&&s.jsxs(H,{show:!0,centered:!0,children:[s.jsxs(H.Header,{children:[s.jsx("h2",{children:"Mail id"}),s.jsx(U,{mainClass:"close",size:"md",handleClose:()=>{_(!1)}})]}),s.jsx(H.Body,{children:s.jsxs("div",{className:"",children:[s.jsx(G,{name:"Mail id",placeholder:"Enter your mail id",val:Q,required:!0,max:O,type:"text",cb:e=>{Z(e)},ob:e=>{Z(e)}}),s.jsxs("div",{className:"d-flex justify-content-end",children:[s.jsx(k,{children:"Cancel"}),s.jsx(A,{children:"Ok"})]})]})})]})]})})]})}),s.jsx(V,{children:s.jsx(V,{children:null!==h&&s.jsxs("div",{ref:te,id:"download",className:"portlet-box-theme invoice-wrapper",children:[s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"d-flex align-items-center justify-content-between mb15",children:[s.jsx("div",{className:"d-flex align-items-center",children:s.jsx("img",{src:K,alt:K,className:"invoice-smartdx-logo"})}),s.jsx("h1",{children:"Invoice"})]}),s.jsx("hr",{className:"blue"})]}),s.jsx("div",{className:"theme-space-mb",children:s.jsxs("div",{className:"invoice-address-wrapper mt23 d-flex justify-content-between",children:[s.jsxs("div",{className:"invoice-address",children:[s.jsx("h4",{children:"To,"}),s.jsxs("ul",{className:"",children:[s.jsx("li",{children:(null==(n=T())?void 0:n.clientName)||""}),null==(r=null==h?void 0:h.address)?void 0:r.split("$").map((e=>s.jsx("li",{children:e})))]})]}),s.jsx("table",{className:"rs-table-sm",children:s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{children:"Date/Time:"}),s.jsx("td",{children:f(null==h?void 0:h.invoiceDateTime,!1)})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Invoice number:"}),s.jsx("td",{children:null==h?void 0:h.invoiceNo})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Amount paid:"}),s.jsxs("td",{children:["$",N(null==h?void 0:h.amountPayable)]})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Due date:"}),s.jsx("td",{children:f(null==h?void 0:h.dueDate,!1)})]})]})})]})}),s.jsxs("div",{style:{backgroundColor:"#e5efe1"},className:"horizontal-list-row marginB20",children:[s.jsxs("div",{className:"horizontal-list",children:[s.jsx("small",{children:"Account/Client:"}),s.jsx("h4",{children:null==(c=T())?void 0:c.clientName})]}),s.jsxs("div",{className:"horizontal-list",children:[s.jsx("small",{children:"Account no:"}),s.jsx("h4",{children:null==h?void 0:h.accountNo})]})]}),s.jsx("div",{className:"notification-box bgGreen-medium",children:null!==(null==h?void 0:h.authorizationCode)&&void 0!==(null==h?void 0:h.authorizationCode)&&""!==(null==h?void 0:h.authorizationCode)?s.jsxs("p",{children:[" You have acknowledged to make this payment ",null!==(null==h?void 0:h.authorizationCode)&&void 0!==(null==h?void 0:h.authorizationCode)&&""!==(null==h?void 0:h.authorizationCode)?"using the authorization code ":"",s.jsx("span",{className:(null!==(null==h?void 0:h.authorizationCode)&&void 0!==(null==h?void 0:h.authorizationCode)&&""!==(null==h?void 0:h.authorizationCode)?"bgGreen paddingX5 marginX5":"")+" ",children:null==h?void 0:h.authorizationCode})]}):null}),s.jsxs("table",{width:"100%",border:"0",cellPadding:"0",cellSpacing:"0",className:"table rs-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{width:"5%",children:"S.No"}),s.jsx("th",{width:"20%",children:"Plan name"}),s.jsx("th",{width:"15%",children:"Type"}),s.jsx("th",{width:"10%",children:"Price/Month(USD)"}),s.jsx("th",{width:"10%",children:"Quantity"}),s.jsx("th",{width:"20%",children:"Payment frequency"}),s.jsx("th",{width:"15%",children:"Amount (USD)"})]})}),s.jsxs("tbody",{children:[(null==J?void 0:J.length)>0&&(null==J?void 0:J.map(((e,t)=>s.jsxs("tr",{children:[s.jsx("td",{className:"text-center",children:t+1}),s.jsx("td",{className:"",children:null==e?void 0:e.planName}),s.jsx("td",{className:"",children:null==e?void 0:e.planType}),s.jsxs("td",{className:"text-end",children:["$",N(e.pricePerMonth)]}),s.jsx("td",{className:"text-end",children:e.quantity}),s.jsx("td",{className:"",children:null==e?void 0:e.freqValue}),s.jsxs("td",{className:"text-end",children:["$",N(null==e?void 0:e.salePrice)]})]})))),void 0!==(null==h?void 0:h.taxAmount)&&null!==(null==h?void 0:h.taxAmount)&&s.jsxs("tr",{className:"bgWhite even",children:[s.jsx("td",{className:"border-top-0 border-left-0 border-bottom-0 bgGrey-lighter1",colSpan:"5",rowSpan:"1"}),s.jsx("td",{className:"",children:"Tax"}),s.jsxs("td",{className:"text-end",children:["$",N((null==h?void 0:h.taxAmount)||0)]})]}),void 0!==h.subAmount&&null!==h.subAmount&&s.jsxs("tr",{className:"bgWhite even",children:[s.jsx("td",{className:"border-top-0 border-left-0 border-bottom-0 bgGrey-lighter1",colSpan:"5",rowSpan:"1"}),s.jsx("td",{className:"",children:"Sub total"}),s.jsxs("td",{className:"text-end",children:[" $",(e=>{const{salePrice:t,addons:s}=e,a=s.reduce(((e,t)=>e+t.totalAmount),0);return N(t+a)})(h)]})]}),void 0!==h.subAmount&&null!==h.subAmount&&0!==h.subAmount&&s.jsxs("tr",{className:"bgWhite even",children:[s.jsx("td",{className:"border-top-0 border-left-0 border-bottom-0 bgGrey-lighter1",colSpan:"5",rowSpan:"1"}),s.jsx("td",{className:"",children:"Wallet amount"}),s.jsxs("td",{className:"text-end",children:["( - )"," $",N(h.subAmount)]})]}),void 0!==(null==h?void 0:h.discountAmount)&&null!==(null==h?void 0:h.discountAmount)&&s.jsxs("tr",{className:"bgWhite even",children:[s.jsx("td",{className:"border-top-0 border-left-0 border-bottom-0 bgGrey-lighter1",colSpan:"5",rowSpan:"1"}),s.jsx("td",{className:"",children:"Discount"}),s.jsxs("td",{className:"text-end",children:["(-) $",N((null==h?void 0:h.discountAmount)||0)]})]}),void 0!==(null==h?void 0:h.amountPaid)&&null!==(null==h?void 0:h.amountPaid)&&s.jsxs("tr",{className:"bgWhite even",children:[s.jsx("td",{className:"border-top-0 border-left-0 border-bottom-0 bgGrey-lighter1",colSpan:"5",rowSpan:"1"}),s.jsx("td",{className:"",children:"Total amount"}),s.jsxs("td",{className:"text-end",children:["$",N(parseInt(null==h?void 0:h.amountPaid)||0)]})]})]})]}),s.jsxs("div",{className:"clearfix small invoice-note",children:[s.jsx("p",{className:"font-bold",children:"Note:"}),s.jsx("p",{children:"1) Payment terms : 15 days (18% of interest will be applicable for delay in payment beyond stipulated days)."}),s.jsx("p",{children:"2) All pricing mentioned above are in USD."}),s.jsx("p",{children:"3) In case of any clarification on this invoice, please contact us within 10 days from the billing date."})]}),s.jsxs("div",{className:"clearfix small text-center marginT35",children:[s.jsxs("p",{className:"marginB5",children:["For any queries, please write to ",s.jsx("span",{className:"rs-link blue",onClick:()=>{window.location.href="mailto:billing@smartdx.com"},children:"billing@smartdx.com"})]}),s.jsx("p",{className:"marginB15",children:"Resulticks Singapore Pte Ltd, 3 Temasek Avenue, #21 - 27 Centennial Tower, Singapore - 039190, Tel: +65 6238 8995 / Fax: +65 6238 8943, Biz. Reg. no.: 201429642C"}),s.jsx("h4",{children:"Thank you for your business."})]})]})})})]})})]})},de=[s.jsxs(s.Fragment,{children:[s.jsx("i",{className:`${L} icons-md pr10 color-primary-blue cursor-pointer `})," Pdf"]})],re=n((e=>{var t,l,n,d,r,c,m,u,h,x,g,w,D,y,S,C,k,A,L,P,F;const E=o.useContext(j),$=q.useHistory(),[R,U]=o.useState({apiData:null,isDownload:!1,pdff:!1,pdfDownload:!1,downLoadMessage:"Downloading"});o.useEffect((()=>{var e,t;0!==((null==(t=null==(e=null==$?void 0:$.location)?void 0:e.state)?void 0:t.consumableId)||0)&&G($.location.state.consumableId)}),[]);const G=e=>{v({path:z,params:{consumptionInvoiceId:e,campaignId:0,clientId:b()},loading:E.globalStateData.setIsLoadingData,sessionOut:E.globalStateData.setSessionOutData,ok:e=>{var t,s;e.data&&(null==(s=null==(t=null==$?void 0:$.location)?void 0:t.state)||s.isRoot,U((t=>({...t,apiData:e.data,pdff:!1}))),setTimeout((()=>{O()}),2e3))},fail:e=>{}})},O=()=>{var e,t;((null==(t=null==(e=null==$?void 0:$.location)?void 0:e.state)?void 0:t.isRoot)||R.pdff)&&a(document.getElementById("consumable"),{quality:.95}).then((e=>{document.createElement("a").download="my-image-name.jpeg";const t=new i,s=t.getImageProperties(e),a=t.internal.pageSize.getWidth(),l=s.height*a/s.width;t.addImage(e,"PNG",0,0,a,l);let n="Consumableinvoice"+f(new Date,!1)+".pdf";t.save(n),R.pdff?U((e=>({...e,pdff:!1}))):$.push("/preferences/invoice-list")}))};return s.jsx(B,{children:s.jsxs(V,{className:"page-header",children:[R.pdfDownload&&s.jsx(M,{headerTitle:"Consumable invoice",para:R.downLoadMessage,primaryButtonText:"OK",buttonClicked:e=>{U(prev,{...prev,pdfDownload:!1})}}),s.jsx("div",{className:"header-title d-flex justify-content-between",children:(R.pdff||!(null==(l=null==(t=null==$?void 0:$.location)?void 0:t.state)?void 0:l.isRoot))&&s.jsxs(s.Fragment,{children:[s.jsx("h1",{children:"Consumable invoice"}),s.jsxs("div",{className:"d-flex",children:[s.jsx(p,{icon:"icon-rs-download-medium",iconClass:"",size:"lg",tooltip:"Download",onClick:()=>{U(prev,{...prev,pdfDownload:!0}),U((e=>({...e,downLoadMessage:"Downloading . . .",pdfDownload:!0}))),a(document.getElementById("consumable"),{quality:.95}).then((e=>{U(prev,{...prev,downLoadMessage:"Download completed"}),setTimeout((()=>{U(prev,{...prev,pdfDownload:!1})}),2e3),document.createElement("a").download="my-image-name.jpeg";const t=new i,s=t.getImageProperties(e),a=t.internal.pageSize.getWidth(),l=s.height*a/s.width;t.addImage(e,"PNG",0,0,a,l);let n="Consumableinvoice"+f(new Date,!1)+".pdf";t.save(n),U(prev,{...prev,pdff:!1,downLoadMessage:"Download completed"}),setTimeout((()=>{U(prev,{...prev,pdfDownload:!1})}),2e3)})).catch((e=>{U(prev,{...prev,pdfDownload:!1})}))}}),s.jsxs("div",{className:"back-text ml10",onClick:()=>$.push("/preferences/invoice-list"),children:[s.jsx(p,{icon:I,size:"sm"}),"Back"]})]})]})}),s.jsxs("div",{className:"portlet-box-theme",id:"consumable",children:[s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"d-flex align-items-center justify-content-between mb15",children:[s.jsx("div",{className:"d-flex align-items-center",children:s.jsx("img",{src:K,alt:K,className:"invoice-smartdx-logo"})}),s.jsx("h1",{children:"Invoice"})]}),s.jsx("hr",{className:"blue"})]}),s.jsxs("div",{className:"d-flex justify-content-between theme-space-mb mt23",children:[s.jsxs("div",{className:"invoice-address",children:[s.jsx("h4",{children:"To,"}),s.jsxs("ul",{className:"",children:[s.jsx("li",{children:(null==(n=T())?void 0:n.clientName)||""}),null==(r=null==(d=R.apiData)?void 0:d.address)?void 0:r.split("$").map((e=>s.jsx("li",{children:e})))]})]}),s.jsx("table",{className:"rs-table-sm",children:s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{children:"Date / Time:"}),s.jsx("td",{children:f(null==(c=R.apiData)?void 0:c.invoiceDate,!0)})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Invoice number:"}),s.jsx("td",{children:null==(m=R.apiData)?void 0:m.invoiceNo})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Amount:"}),s.jsx("td",{children:"$"+N(parseFloat((null==(u=R.apiData)?void 0:u.payableAmount)||0).toFixed(2))})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Due date:"}),s.jsx("td",{children:f(null==(h=R.apiData)?void 0:h.dueDate,!1)})]})]})})]}),s.jsxs("div",{className:"horizontal-list-row marginB20",children:[s.jsxs("div",{className:"horizontal-list",children:[s.jsx("small",{children:"Account/Client:"}),s.jsx("h4",{children:null==(x=T())?void 0:x.clientName})]}),s.jsxs("div",{className:"horizontal-list",children:[s.jsx("small",{children:"Account no:"}),s.jsx("h4",{children:null==(g=R.apiData)?void 0:g.accountNo})]})]}),s.jsx("div",{className:"notification-box bgGreen-light",children:s.jsxs("p",{children:[" ","You have acknowledged to make this payment"," ",null!==(null==(w=R.apiData)?void 0:w.authorizationCode)&&void 0!==(null==(D=R.apiData)?void 0:D.authorizationCode)&&""!==(null==(y=R.apiData)?void 0:y.authorizationCode)?"using the authorization code ":"",s.jsx("span",{className:(null!==(null==(S=R.apiData)?void 0:S.authorizationCode)&&void 0!==(null==(C=R.apiData)?void 0:C.authorizationCode)&&""!==(null==(k=R.apiData)?void 0:k.authorizationCode)?"bgGreen paddingX5 marginX5":"")+" ",children:null==(A=R.apiData)?void 0:A.authorizationCode})]})}),s.jsxs("table",{width:"100%",border:"0",cellPadding:"0",cellSpacing:"0",className:"table rs-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{width:"35%",children:"Channel"}),s.jsx("th",{width:"25%",children:"Units used"}),s.jsx("th",{width:"25%",children:"Unit price (USD)"}),s.jsx("th",{children:"Amount (USD)"})]})}),s.jsxs("tbody",{children:[null==(L=R.apiData)?void 0:L.consumptions.map(((e,t)=>s.jsxs("tr",{children:[s.jsx("td",{children:null!==(null==e?void 0:e.consumptionName)?null==e?void 0:e.consumptionName:"NoData"}),s.jsx("td",{className:"text-end",children:null==e?void 0:e.exceedCount}),s.jsxs("td",{className:"text-end",children:["$"," ",N(parseFloat(null==e?void 0:e.unitPrice).toFixed(2)||0)]}),s.jsxs("td",{className:"text-end",children:["$"," ",N(parseFloat((null==e?void 0:e.exceedPrice)||0).toFixed(2))]})]}))),s.jsx("tr",{children:s.jsx("td",{className:"border-left-0 border-bottom-0 bgGrey-lighter1",colSpan:"2",rowSpan:"5"})}),s.jsxs("tr",{className:"bgWhite even",children:[s.jsx("td",{className:"text-end",children:"Total"}),s.jsx("td",{className:"text-end",children:"$ "+N(parseFloat((null==(P=R.apiData)?void 0:P.totalAmount)||0).toFixed(2))})]}),s.jsxs("tr",{className:"even",children:[s.jsx("td",{className:"text-end",children:"Amount"}),s.jsx("td",{className:"text-end blue",children:"$ "+N(parseFloat((null==(F=R.apiData)?void 0:F.payableAmount)||0).toFixed(2))})]})]})]}),s.jsxs("div",{className:"clearfix small invoice-note",children:[s.jsx("p",{className:"font-bold",children:"Note:"}),s.jsx("p",{children:"1) Payment terms : 15 days (18% of interest will be applicable for delay in payment beyond stipulated days)."}),s.jsx("p",{children:"2) All pricing mentioned above are in USD."}),s.jsx("p",{children:"3) In case of any clarification on this invoice, please contact us within 10 days from the billing date."})]}),s.jsxs("div",{className:"clearfix small text-center marginT35",children:[s.jsxs("p",{className:"marginB5",children:["For any queries, please write to"," ",s.jsx("span",{className:"rs-link blue",onClick:()=>{window.location.href="mailto:billing@smartdx.com"},children:"billing@smartdx.com"})]}),s.jsx("p",{className:"marginB15",children:"Resulticks Singapore Pte Ltd, 3 Temasek Avenue, #21 - 27 Centennial Tower, Singapore - 039190, Tel: +65 6238 8995 / Fax: +65 6238 8943, Biz. Reg. no.: 201429642C"}),s.jsx("h4",{children:"Thank you for your business."})]})]})]})})})),ce=()=>{let e=r();return s.jsxs(c,{children:[s.jsx(m,{exact:!0,path:`${e.url}/`,children:s.jsx(ue,{})}),s.jsx(m,{path:`${e.url}/invoice`,children:s.jsx(oe,{})}),s.jsx(m,{path:`${e.url}/consumable-invoice`,children:s.jsx(re,{})})]})},me=[{id:1001,text:"Subscription invoice",disable:!1},{id:1002,text:"Consumable invoice",disable:!1}],ue=e=>{const[t,a]=o.useState(0),i=d();return o.useState(null),o.useEffect((()=>{}),[]),s.jsxs(B,{children:[s.jsx(V,{fluid:!0,className:"main-heading-wrapper mb0",children:s.jsxs(V,{className:"mhw-container",children:[s.jsx("div",{className:"mhwc-left",children:s.jsx("h1",{children:s.jsx("div",{className:"mh-wrapper",children:s.jsx("span",{className:"mh-text",children:"Invoice list"})})})}),s.jsxs("div",{className:"mhwc-right",children:[s.jsx("div",{className:"marginR20",children:s.jsx(X,{onSelect:()=>{a(-1),setTimeout((()=>{a(0)}),100)}})}),s.jsxs("div",{className:"back-text",onClick:()=>i.push("/preferences"),children:[s.jsx(p,{icon:I,size:"sm"}),"Back"]})]})]})}),s.jsx(V,{fluid:!0,className:"bgWhite",children:s.jsx(V,{children:s.jsx(R,{defaultSelectedItem:t,defaultClass:"",dynamicTab:"tabs-filled-component",activeClass:"active",tabData:me,callBack:(e,t)=>{a(t)}})})}),s.jsx(V,{className:"page-header",children:(l=t,0===l?n=s.jsx(J,{}):1===l&&(n=s.jsx(ne,{})),n)})]});var l,n};export{ce as default};
