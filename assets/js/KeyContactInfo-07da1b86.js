var t,e=Object.defineProperty,a=(t,a,s)=>(((t,a,s)=>{a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[a]=s})(t,"symbol"!=typeof a?a+"":a,s),s);import{j as s}from"./pdf-editor-5df4b936.js";import{w as i,r as n}from"./react-vendor-379f659a.js";import"./RSDropdowns-d68fa550.js";import{B as o,A as l,a as r,b as d,W as c,C as m,v as u,c as h}from"./AccountSetup-b5d6e702.js";import{R as g}from"./RSKendoDropdown-e93f1389.js";import{R as p}from"./RSCheckbox-31e7b177.js";import"./style-a86a43a5.js";import{z as D,bX as S,av as y,bK as v,M as I,f3 as f,f4 as x,F as b,f5 as w,f6 as M,f7 as C,cb as N,f8 as j,f9 as T,dC as _,fa as E,dL as L,dh as P,b6 as A,E as F,eQ as O,fb as k,fc as K,fd as W,af as z,aa as G,ab as Z,fe as q,ff as V,fg as B,fh as R,bM as Y,ah as U,a0 as $,fi as H,aj as X,fj as J,fk as Q,fl as tt,fm as et,eF as at,fn as st,c4 as it,a2 as nt,a5 as ot,a3 as lt,a4 as rt,a6 as dt,a7 as ct,eA as mt,eD as ut,a8 as ht,ar as gt}from"./index-7d59e1e4.js";import{R as pt}from"./RSBrandLogo-55d6c580.js";import{R as Dt}from"./RSUploadImageComponent-1aad1e36.js";import{RSErrorPopup as St}from"./RSConfirmAlert-56ae520e.js";import{C as yt,R as vt,a as It,M as ft}from"./ui-9ddcca8e.js";import{H as xt,a as bt}from"./charts-f2096496.js";import{h as wt}from"./map-99306e6f.js";import{p as Mt}from"./maps-b8c6f010.js";import{m as Ct,M as Nt}from"./maker-47de0917.js";import"./export-data-a2401fa3.js";import"./utils-16c7e021.js";import{R as jt}from"./RSIcon-9079b0f0.js";import Tt from"./CompanyList-8a5c0f4e.js";import{L as _t}from"./LayoutPageWrapper-ce9c32da.js";import{R as Et}from"./RSPhoneInput-27c4c111.js";import{u as Lt}from"./user-a79ee334.js";import{M as Pt,a as At}from"./inputLimit-ce03b0f6.js";import Ft from"./AddCompanyList-9c69f52a.js";import"./kendo-5d73125a.js";import"./get-4aa85b1a.js";import"./drag-drop-bc3ac7ea.js";import"./index-b70e15a0.js";import"./constants-82903eb8.js";import"./SkeletonTable-9a18ea3e.js";import"./Skeleton-e23e80f4.js";import"./constantObject-ca27cf51.js";import"./RSFormGroup-02fd3241.js";import"./CompanyListConstants-14864366.js";import"./index-0540604b.js";let Ot=new class{constructor(){}identifyUsers(t){}initializeIntercom(){}hideIntercom(){}reloadData(){}trackTheEvent(t,e){}};class kt extends n.Component{constructor(){super(...arguments),a(this,"state",{brandPositionData:null,...this.context.globalStateData.getKeyContactInfoData.brandDetails,imageUrl:S().slice(0,-1),saveError:!1}),a(this,"componentDidMount",(t=>{var e,a,s,i,n,o,l,r,d,c,m;this.props.location;let u=null,h=null,g=null;this.props.ipDetails&&(u=(null==(a=null==(e=this.props)?void 0:e.ipDetails)?void 0:a.country_name)||"",h=(null==(i=null==(s=this.props)?void 0:s.ipDetails)?void 0:i.region)||"",g=(null==(o=null==(n=this.props)?void 0:n.ipDetails)?void 0:o.city)||"");const p=JSON.parse(localStorage.getItem("agencyData"));null==(null==p?void 0:p.agencyGroup)||null==(null==p?void 0:p.agencyName)||null!=this.state.agencyGroup&&0!=(null==(l=this.state.agencyGroup)?void 0:l.length)||null!=this.state.agencyName&&0!=(null==(r=this.state.agencyName)?void 0:r.length)||this.setState({agencyGroup:null==p?void 0:p.agencyGroup,agencyName:null==p?void 0:p.agencyName}),y("getKeyContactInfoData",this.context.globalStateData.getKeyContactInfoData);let D=v();if(null!=D&&null==this.state.countryDropdownItem&&null==this.state.stateDropdownItem&&null==this.state.cityDropdownItem&&null!=(null==D?void 0:D.countryMaster)){const t=null==D?void 0:D.countryMaster.map((t=>t));let e=null==t?void 0:t.filter((t=>(null==t?void 0:t.country)==u));null==(d=e[0])||d.countryId,null==(c=e[0])||c.country,null==(m=e[0])||m.countryCode,this.setState({countryData:t}),e.length>0&&(null==h?void 0:h.length)>0&&(null==g||g.length)}})),a(this,"getStateAllDetails",((t,e,a)=>{I({path:f,params:{id:t},isCache:!1,isServiceWorker:!1,ok:t=>{var s,i,n,o;if(null==t?void 0:t.status)if((null==t?void 0:t.data.length)>0){let l=null==(s=null==t?void 0:t.data)?void 0:s.filter(((t,a)=>(null==t?void 0:t.state)==e));null!=(null==(i=l[0])?void 0:i.state)&&(this.setState({stateData:null==t?void 0:t.data,stateDropdownItem:l[0]}),null!=(null==(n=l[0])?void 0:n.stateID)&&this.cityDatas(null==(o=l[0])?void 0:o.stateID,a))}else this.setState({errMsg_stateDropdownItem:"No state there"});else this.setState({errMsg_country:"No state there"})},fail:t=>{this.setState({errMsg_stateDropdownItem:"server error"})}})})),a(this,"cityDatas",((t,e)=>{I({path:x,params:{id:t},isCache:!1,isServiceWorker:!1,ok:t=>{var a,s;if(null==t?void 0:t.status)if((null==t?void 0:t.data.length)>0){let i=null==(a=null==t?void 0:t.data)?void 0:a.filter(((t,a)=>t.city==e));this.setState({cityData:null==t?void 0:t.data}),null!=(null==(s=i[0])?void 0:s.city)&&this.setState({cityDropdownItem:i[0]})}else this.setState({cityData:[],errMsg_cityDropdownItem:"No city there please choose another state"});else this.setState({cityData:[],errMsg_cityDropdownItem:"No city there please choose another state"})},fail:t=>{this.setState({cityData:[],errMsg_cityDropdownItem:"Server error"})}})})),a(this,"vaidateState",(()=>{var t,e,a,s;this.props.location;const{companyName:i,addressLine1:n,addressLine2:o,businessTypeDropdownItem:l,brandPositioningTypeDropdownItem:r,industryDropdownItem:d,errMsg_imgPath:c,errMsg_agencyGroup:m,errMsg_address:u,errMsg_agencyName:h,errMsg_stateValue:g,errMsg_city:p,agencyGroup:D,agencyName:S,address:y,stateValue:v,city:I,zipCode:f,countryDropdownItem:x,stateDropdownItem:T,cityDropdownItem:_,logoPath:E,website:L,profilePath:P}=this.state;if(b(D))return void this.setState({errMsg_agencyGroup:"Enter agency group"});if(null==(t=this.state.errMsg_agencyGroup)?void 0:t.includes("already exist"))return void this.setState({errMsg_agencyGroup:`${D} already exist`});if(b(S))return void this.setState({errMsg_agencyName:"Enter agency name"});if(b(y))return void this.setState({errMsg_address:w});if(null==x)return void this.setState({errMsg_country:"Select country"});if(null==T)return void this.setState({errMsg_stateValue:"Select state"});if(null==_)return void this.setState({errMsg_city:"Select city"});if(b(f))return void this.setState({errMsgZip:M});if(!C(L))return void this.setState({errMsgWebsite:N});if(!P)return void this.setState({errMsgProfilePath:j});if(this.checkClientExist(D))return;const A={};this.context.globalStateData.setKeyContactInfoData({...null==(a=null==(e=this.context)?void 0:e.globalStateData)?void 0:a.getKeyContactInfoData,brandDetails:this.state}),this.props.brandDetails(A),this.props.updateDataAndIndex(this.props.i+1,A),null==(s=this.props)||s.netxBtn(2)})),a(this,"checkClientExist",(t=>{I({path:T,params:{clientName:t},loading:this.context.globalStateData.setIsLoadingData,sessionOut:this.context.globalStateData.setSessionOutData,ok:e=>{if(1==e.status){const e=t;return this.setState({errMsg_agencyGroup:`${e} already exist`}),!0}return!1},fail:t=>!0})})),a(this,"checkWebsiteNameValid",(t=>{this.setState({isLoading:!0,validateWebSite:!1}),I({path:_,params:{website:t},ok:e=>{!1===e.status?this.setState({website:t,errMsgWebsite:N,isLoading:!1,validateWebSite:!1}):this.setState({website:t,errMsgWebsite:null,isLoading:!1,validateWebSite:!0})},fail:e=>{this.setState({website:t,errMsgWebsite:N,isLoading:!1,validateWebSite:!1})}})})),a(this,"getStateDetails",(t=>{I({path:f,params:{id:t},isCache:!1,isServiceWorker:!1,ok:t=>{(null==t?void 0:t.status)?this.setState({stateData:null==t?void 0:t.data,cityData:[],stateDropdownItem:null,cityDropdownItem:null,errMsg_city:null,errMsg_stateValue:null}):this.setState({errMsg_country:"server error"})},fail:t=>{this.setState({errMsg_country:"server error"})}})})),a(this,"getCityDetails",(t=>{I({path:x,params:{id:t},isCache:!1,isServiceWorker:!1,ok:t=>{var e;(null==t?void 0:t.status)&&(null==(e=null==t?void 0:t.data)?void 0:e.length)>0?this.setState({cityData:null==t?void 0:t.data,cityDropdownItem:null,errMsg_city:null}):this.setState({cityData:[],errMsg_city:"No city there please choose another state"})},fail:t=>{this.setState({errMsg_city:"server error"})}})}))}render(){var t;const{errMsgCompanyName:e,errMsgWebsite:a,errMsgAddress1:i,errMsgAddress2:n,errMsgCity:m,errMsgZip:u,errMsgCountry:h,errMsgIndustry:D,errMsB2c:S,errMsgBrandPositioning:y,errMsg_agencyGroup:v,errMsg_agencyName:I,errMsg_address:f,errMsg_stateValue:x,errMsg_city:b,agencyGroup:C,agencyName:j,address:T,stateValue:_,logoPath:k,companyName:K,website:W,addressLine1:z,addressLine2:G,city:Z,zipCode:q,industry:V,errMsgCompanyImgPath:B,errMsg_agencygroup:R}=this.state;return s.jsxs(s.Fragment,{children:[!0===this.state.saveError&&s.jsx(St,{headerTitle:"Sorry",subtitle:"Please try again after sometime...",primaryButtonText:"OK",buttonClicked:t=>{this.setState({saveError:!1})}}),s.jsxs(yt,{className:"box-bottom-space",children:[s.jsx("div",{className:"box-design rs-box-min-height py40",children:s.jsxs(vt,{children:[s.jsx(It,{md:3,sm:4,children:s.jsx("div",{className:"profile-image-wrapper",children:s.jsxs("div",{className:"position-relative",children:[B&&s.jsx("div",{className:"validation-message",children:B}),s.jsx(Dt,{required:!0,className:"enable-remove",defaultImg:o,defaultValue:this.state.profilePath,newImg:this.state.newImg?`${E}${this.state.newImg}`:null,text:this.state.newImg||this.state.profilePath?"Edit image":"Upload image",icon:this.state.newImg||this.state.profilePath?"icon-rs-pencil-edit-medium icons-sm":"icon-rs-circle-plus-medium icons-md",cb:t=>this.setState({profilePath:t,errMsgProfilePath:null,newImg:null}),error:t=>{this.setState({errMsgProfilePath:t})},errorMessage:this.state.errMsgProfilePath,removeIcon:null!==this.state.profilePath,handleRemove:()=>{this.setState({profilePath:null,newImg:null})}})]})})}),s.jsxs(It,{md:9,children:[s.jsxs(vt,{children:[s.jsx(It,{md:6,children:s.jsx(p,{name:"Agency group",placeholder:l,val:C,required:!0,icon:"icon-rs-email-medium icons-sm",errorMessage:v,cb:t=>{let e=t.length>0?null:"Enter agency group";t.length<=250&&this.setState({agencyGroup:t,errMsg_agencyGroup:e})},ob:t=>{t.length>0&&this.checkClientExist(t)}})}),s.jsx(It,{md:6,children:s.jsx(p,{name:"AGENCY_NAME",placeholder:r,val:j,required:!0,icon:"icon-rs-email-medium icons-sm",errorMessage:I,cb:t=>{let e=t.length>0?null:"Enter agency name";t.length<=150&&this.setState({agencyName:t,errMsg_agencyName:e})}})})]}),s.jsxs(vt,{children:[s.jsx(It,{md:6,className:"marginT30",children:s.jsx(p,{name:"address",placeholder:d,val:T,required:!0,icon:"icon-rs-email-medium icons-sm",errorMessage:f,cb:t=>{let e=t.length>0?null:w;t.length<=150&&this.setState({address:t,errMsg_address:e})}})}),s.jsxs(It,{md:6,className:"marginT30",children:[h&&s.jsx("div",{className:"validation-message",children:h}),s.jsx(g,{className:"requried",required:!0,errorMessage:this.state.errMsg_country,placeholder:"country",textField:"country",dataItemKey:"countryId",data:this.state.countryData,value:this.state.countryDropdownItem||{countryId:-1,country:"Select country"},onChange:t=>{var e;this.setState({countryDropdownItem:t.target.value,errMsg_country:null}),this.getStateDetails(null==(e=t.target.value)?void 0:e.countryId)}})]})]}),s.jsxs(vt,{children:[s.jsx(It,{md:6,className:"marginT30",children:s.jsx(g,{className:"requried",required:!0,errorMessage:this.state.errMsg_stateValue,disabled:!(this.state.stateData.length>0),textField:"state",dataItemKey:"stateID",data:this.state.stateData,value:this.state.stateDropdownItem||{stateID:-1,state:"Select state"},onChange:t=>{var e;this.setState({stateDropdownItem:t.target.value,errMsg_stateValue:null}),this.getCityDetails(null==(e=t.target.value)?void 0:e.stateID)}})}),s.jsx(It,{md:6,children:s.jsxs(vt,{children:[s.jsx(It,{md:6,className:"marginT30",children:s.jsx(g,{className:"requried",required:!0,errorMessage:this.state.errMsg_city,disabled:!((null==(t=this.state.cityData)?void 0:t.length)>0),textField:"city",dataItemKey:"cityID",data:this.state.cityData,value:this.state.cityDropdownItem||{cityID:-1,city:"Select city"},onChange:t=>{this.setState({cityDropdownItem:t.target.value,errMsg_city:null})}})}),s.jsx(It,{md:6,className:"marginT30",children:s.jsx(p,{name:"zipcode",placeholder:"Zip code",max:10,val:q,required:!0,errorMessage:u,cb:t=>{if(/^\d*$/.test(t)){let e=t.length?null:M;/[`!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~]/.test(t)&&(t=t.substring(0,t.length-1),e="Special character are not allowed"),this.setState({zipCode:t,errMsgZip:e})}else{let t=O;this.setState({errMsgZip:t})}},ob:t=>{let e=t.length<=0?M:null;this.setState({zipCode:t,errMsgZip:e})}})})]})})]}),s.jsx(vt,{children:s.jsx(It,{md:6,className:"marginT30",children:s.jsx(p,{name:"WEBSITE",placeholder:c,val:W,required:!0,iconPlaceholder:!0,iconName:this.state.validateWebSite?"icon-rs-circle-tick-medium icons-md green":"",isLoading:this.state.isLoading,errorMessage:a,ob:t=>{let e=t,a=t.slice(0,8);a.includes("https://")||(e="https://"+t),a.includes("http://")&&(e=t.replace("http://","https://"));let s=e.length>0?null:L;this.setState({website:e,errMsgWebsite:s}),null==s&&this.checkWebsiteNameValid(e)},cb:t=>{let e=P(t)?null:N;t.length<=50&&this.setState({website:t,errMsgWebsite:e,validateWebSite:!1})},onFocus:()=>{let t=W;t.startsWith("https://")&&(t=t.replace("https://","")),this.setState({website:t})}})})})]})]})}),s.jsxs("div",{className:"btn-container d-flex justify-content-end",children:[s.jsx(A,{onClick:()=>{this.props.backBtn(0),this.props.updateDataAndIndex(this.props.i-1,null),this.context.globalStateData.setKeyContactInfoData({...this.context.globalStateData.getKeyContactInfoData,brandDetails:this.state})},children:"Back"}),s.jsx(F,{onClick:this.vaidateState,children:"Next"})]})]})]})}}a(kt,"contextType",D);const Kt=i(kt);let Wt=Nt;wt(xt);class zt extends n.Component{constructor(){super(...arguments),a(this,"state",this.context.globalStateData.getKeyContactInfoData.locationSettings),a(this,"componentDidMount",(t=>{var e,a,s,i,n,o;this.getCountryDetails(),this.getCurrencyDetails(),y("getKeyContactInfoData",null==(s=null==(a=null==(e=this.context.globalStateData.getKeyContactInfoData)?void 0:e.brandDetails)?void 0:a.countryDropdownItem)?void 0:s.countryCode);const l=m.ref_country_codes.filter((t=>{var e,a,s;return t.alpha2===(null==(s=null==(a=null==(e=this.context.globalStateData.getKeyContactInfoData)?void 0:e.brandDetails)?void 0:a.countryDropdownItem)?void 0:s.countryCode)}));this.setState({countryLocation:l[0]});let r=null==(o=null==(n=null==(i=this.context.globalStateData.getKeyContactInfoData)?void 0:i.brandDetails)?void 0:n.countryDropdownItem)?void 0:o.countryId;null!=r&&this.getLocalizationDetails(r)})),a(this,"getLocalizationDetails",(t=>{I({path:k,params:{CountryID:t},loading:this.context.globalStateData.setIsLoadingData,sessionOut:this.context.globalStateData.setSessionOutData,ok:t=>{!0===t.status&&this.setDefaultLocalizationDetails(t.data)},fail:t=>{}})})),a(this,"setDefaultLocalizationDetails",(t=>{this.setState({dateFormatDropdownItem:this.state.dateFormatDropdownData.filter((e=>e.dateFormatId===t.defaultDateformatID))[0]||{dateFormatId:-1,dateFormat:"-- Select date format --"},languageDropdownItem:this.state.languageDropdownData.filter((e=>e.languageId===t.defaultLanguageId))[0]||this.state.languageDropdownData[0]||{languageId:-1,languageName:"-- Select language --"},currencyDropdownItem:this.state.currencyDropdownData.filter((e=>e.currencyId===t.currencyID))[0]||{currencyId:-1,currencyName:"-- Select currency --"},languageDropdownItem:this.state.languageDropdownData.filter((e=>e.languageId===t.defaultLanguageId))[0]||this.state.languageDropdownData[0]||{languageId:-1,languageName:"-- Select language --"},timeFormatDropdownItem:this.state.timeFormatDropdownData.filter((e=>e.timeFormatId===t.defaultTimeFormatID))[0]||{timeFormatId:-1,timeFormat:"-- Select time format --"},timeZoneDropdownItem:this.state.timeZoneDropdownData.filter((e=>e.timezoneId===t.defaultTimeZoneID))[0]||{timezoneId:-1,timezoneName:"-- Select timezone --"},dayLightSaving:t.isDayLight||!1})})),a(this,"getCurrencyDetails",(()=>{var t;let e=v();if(null!=e){if(null!=(null==e?void 0:e.currencyMaster)){const t=null==e?void 0:e.currencyMaster.map((t=>t));this.setState({currencyDropdownData:t})}if(null!=(null==e?void 0:e.languageMaster)){const t=null==e?void 0:e.languageMaster.map((t=>t));this.setState({languageDropdownData:t})}if(null!=(null==e?void 0:e.dateFormat)){const a=null==(t=null==e?void 0:e.dateFormat)?void 0:t.map((t=>t));this.setState({dateFormatDropdownData:a})}if(null!=(null==e?void 0:e.timeFormat)){const t=null==e?void 0:e.timeFormat.map((t=>t));this.setState({timeFormatDropdownData:t})}if(null!=(null==e?void 0:e.timeZone)){const t=null==e?void 0:e.timeZone.map((t=>t));this.setState({timeZoneDropdownData:t})}}})),a(this,"getCountryDetails",(()=>{var t,e,a;const s={CountryID:null==(a=null==(e=null==(t=this.props)?void 0:t.params)?void 0:e.clientDetail)?void 0:a.countryId};I({path:K,params:s,loading:this.context.globalStateData.setIsLoadingData,ok:t=>{t.status&&(t.status&&(null==t?void 0:t.data)&&this.setCountryDetailsDataInState(null==t?void 0:t.data),y("country details",t.data))},fail:t=>{y("country details err",t.message)}})})),a(this,"setCountryDetailsDataInState",(t=>{let e=v(),a=e.currencyMaster.filter((e=>e.currencyId===(null==t?void 0:t.currencyID))),s=e.languageMaster.filter((e=>e.languageId===(null==t?void 0:t.defaultLanguageId))),i=e.dateFormat.filter((e=>e.dateFormatId===(null==t?void 0:t.defaultDateformatID))),n=e.timeFormat.filter((e=>e.timeFormatId===(null==t?void 0:t.defaultTimeFormatID))),o=e.timeZone.filter((e=>e.timezoneId===(null==t?void 0:t.defaultTimeZoneID)));this.setState({currencyDropdownItem:a[0],languageDropdownItem:s[0],dateFormatDropdownItem:i[0],timeFormatDropdownItem:n[0],timeZoneDropdownItem:o[0]})})),a(this,"postDataToServer",(t=>{var e,a,s,i,n,o,l,r,d,c,m,u,h,g,p,D,S,y,v,f,x,b,w,M,C,N,j,T,_,E,L,P,A,F,O,k,K,z,G,Z,q,V,B,R;const{state:Y}=this.props.location;let $={title:null==(a=null==(e=this.context.globalStateData.getKeyContactInfoData)?void 0:e.contactInfo)?void 0:a.title,firstName:null==(i=null==(s=this.context.globalStateData.getKeyContactInfoData)?void 0:s.contactInfo)?void 0:i.firstName,middleName:"",lastName:null==(o=null==(n=this.context.globalStateData.getKeyContactInfoData)?void 0:n.contactInfo)?void 0:o.lastName,password:null==(r=null==(l=this.context.globalStateData.getKeyContactInfoData)?void 0:l.contactInfo)?void 0:r.passWord,emailIddecryption:"",emailId:null==(c=null==(d=this.context.globalStateData.getKeyContactInfoData)?void 0:d.contactInfo)?void 0:c.emailId,countryCodeMobile:null==(u=null==(m=this.context.globalStateData.getKeyContactInfoData)?void 0:m.contactInfo)?void 0:u.countryCodeMobile,phoneNo:null==(g=null==(h=this.context.globalStateData.getKeyContactInfoData)?void 0:h.contactInfo)?void 0:g.mobileNo,otpValue:null==(D=null==(p=this.context.globalStateData.getKeyContactInfoData)?void 0:p.contactInfo)?void 0:D.otp,jobFunctionID:null==(v=null==(y=null==(S=this.context.globalStateData.getKeyContactInfoData)?void 0:S.contactInfo)?void 0:y.jobFunctionValue)?void 0:v.jobfunctionId,jobFunctionValue:null==(x=null==(f=this.context.globalStateData.getKeyContactInfoData)?void 0:f.contactInfo)?void 0:x.jobfunctionName,profilePath:null==(w=null==(b=this.context.globalStateData.getKeyContactInfoData)?void 0:b.contactInfo)?void 0:w.profilePath},H={companyName:null==(C=null==(M=this.context.globalStateData.getKeyContactInfoData)?void 0:M.brandDetails)?void 0:C.agencyName,parentCompanyName:null==(j=null==(N=this.context.globalStateData.getKeyContactInfoData)?void 0:N.brandDetails)?void 0:j.agencyGroup,website:null==(_=null==(T=this.context.globalStateData.getKeyContactInfoData)?void 0:T.brandDetails)?void 0:_.website,address:null==(L=null==(E=this.context.globalStateData.getKeyContactInfoData)?void 0:E.brandDetails)?void 0:L.address,city:null==(F=null==(A=null==(P=this.context.globalStateData.getKeyContactInfoData)?void 0:P.brandDetails)?void 0:A.cityDropdownItem)?void 0:F.city,state:null==(K=null==(k=null==(O=this.context.globalStateData.getKeyContactInfoData)?void 0:O.brandDetails)?void 0:k.stateDropdownItem)?void 0:K.state,zipCode:null==(G=null==(z=this.context.globalStateData.getKeyContactInfoData)?void 0:z.brandDetails)?void 0:G.zipCode,countryId:null==(V=null==(q=null==(Z=this.context.globalStateData.getKeyContactInfoData)?void 0:Z.brandDetails)?void 0:q.countryDropdownItem)?void 0:V.countryId,companyLogo:null==(R=null==(B=this.context.globalStateData.getKeyContactInfoData)?void 0:B.brandDetails)?void 0:R.profilePath,regionId:0,regionName:"",licenseTypeId:0,clientBranchTypeId:0,brandPositionId:0,industryId:null==Y?void 0:Y.industryId,businessTypeId:0,accountTypeId:0,isHybrid:!1,regionStructure:"",reportDirectUrl:"",reportTitle:""},X=null==t?void 0:t.clientDetail,J="run";J="app";let Q={isCpPortal:!1,cpCode:"",promoCode:"",hashval:"TVNmXSFXIWtiIXd7bi03Wjd1MS9GNQ==",isAgency:!0,agencyId:0,parentClientId:0,isChildAccount:!1,userId:0,lmaId:0,isPayment:!1,Active:!1,sourceType:U(),ContactInfo:$,GlobalSetting:X,CompanyDetail:H,platformName:"app"},tt={emailId:null==$?void 0:$.emailId,password:null==$?void 0:$.password,sourceType:U(),userAgent:navigator.userAgent,isFirstChild:!0};this.context.globalStateData.setIsLoadingData(!0),I({path:W,params:Q,ok:t=>{t.status?(this.clearIntialState(),this.logInvalidate(tt)):(this.setState({addClinetErr:(null==t?void 0:t.message)||"Something happened"}),this.setState({errMsgCurrency:(null==t?void 0:t.message)||"Something happened"}),this.context.globalStateData.setIsLoadingData(!1))},fail:t=>{this.setState({addClinetErr:(null==t?void 0:t.message)||"Something happened"}),this.setState({errMsgCurrency:(null==t?void 0:t.message)||"Something happened"}),this.context.globalStateData.setIsLoadingData(!1)}})})),a(this,"logInvalidate",(t=>{I({path:z,params:t,ok:t=>{var e,a;if(t.status){if((null==t?void 0:t.status)&&localStorage.setItem("lsUserData",G(t)),localStorage.setItem("parentcompany",null==(e=null==t?void 0:t.data)?void 0:e.clientName),localStorage.setItem("isAgency",null==(a=null==t?void 0:t.data)?void 0:a.isAgency),localStorage.removeItem("agencyData"),t.status&&t.message.toLowerCase().includes("login")&&this.isLogIn(t))return!0}else setSaveError(!0),this.context.globalStateData.setIsLoadingData(!1)},fail:t=>{this.context.globalStateData.setIsLoadingData(!1)}})})),a(this,"isLogIn",(t=>{var e,a,s,i,n,o,l;if(this.context.globalStateData.setIsLoadingData(!1),t.data.accessToken&&t.data.accessToken.length>0){const r={isAuth:!0,accessToken:t.data.accessToken},d={sdc:!0,etc:!0,mp:!0,wp:!0,sl:!0,fs:!0,tmb:!0,ld:!0};Z(t),localStorage.setItem("session",JSON.stringify(r)),localStorage.setItem("lsUserData",G(null==t?void 0:t.data)),localStorage.setItem("lsConfig",JSON.stringify(d));let c={name:(null==(e=null==t?void 0:t.data)?void 0:e.firstName)||"",email:(null==(a=null==t?void 0:t.data)?void 0:a.emailId)||"",created_at:(null==(s=null==t?void 0:t.data)?void 0:s.createdDate)||""};if(Ot.identifyUsers(c),this.context.globalStateData.setLoggedInUserData(t.data),this.context.globalStateData.setEmailIdData(null==(i=t.data)?void 0:i.emailId),this.context.globalStateData.setBodyNameData(""),!0===(null==(n=null==t?void 0:t.data)?void 0:n.isAgency))return this.props.history.push("/agencycreationthanks"),!0;if(null==(null==(o=t.data)?void 0:o.payStatus)){null==(l=t.data)||l.paymentTerms;let e=getPlanConfig(1);e.addons=[];let a=G(e);return localStorage.setItem("pconfig",a),this.context.toggleAuth(!0),this.context.globalStateData.setBodyNameData(""),this.props.history.push({pathname:"/features"}),!0}if(0===t.data.paymentTerms){"0001-01-01T00:00:00"===t.data.nextDueDate&&(this.context.toggleAuth(!0),this.history.push({pathname:lastReferal.pathName,search:lastReferal.search}));let e=new Date(t.data.dueDate);new Date<=e?(this.context.globalStateData.setPaymentMessage(""),this.context.toggleAuth(!0),this.history.push({pathname:lastReferal.pathName,search:lastReferal.search})):this.context.globalStateData.setPaymentMessage("payment")}else{if(this.context.toggleAuth(!0),!1===t.data.isAccSettingsCompleted)return this.history.push("/preferences"),this.context.globalStateData.setBodyNameData(""),!0;this.history.push({pathname:lastReferal.pathName,search:lastReferal.search})}return!1}})),a(this,"clearIntialState",(()=>{this.context.globalStateData.setKeyContactInfoData({...this.context.globalStateData.getKeyContactInfoData,brandDetails:{agencyGroup:null,agencyName:null,address:null,countryData:[],stateData:[],cityData:[],countryDropdownItem:null,stateDropdownItem:null,cityDropdownItem:null,stateValue:null,city:null,zipCode:"",profilePath:null,errMsg_agencyGroup:null,errMsg_agencyName:null,errMsg_address:null,errMsg_country:null,errMsg_stateValue:null,errMsg_city:null,errMsgZip:null,errMsgProfilePath:null},contactInfo:{firstName:null,lastName:null,emailId:null,passWord:null,confirmPassword:null,showPassWord:!1,showConfirmPassWord:!1,pwdStrengthMeter:0,jobFunctionData:[],jobFunctionValue:null,profilePath:null,newImg:null,titleDropdownItem:null,titleDropdownData:[{id:"1",label:"Mr."},{id:"2",label:"Ms."},{id:"3",label:"Mrs."}],errMsg_jobFunction:null,errMsg_FirstName:null,errMsg_LastName:null,errMsg_passWord:null,errMsg_confirmPassword:null,errMsg_titleDropdownItem:null,errMsgProfilePath:null,mobileNo:"",countryCode:null,countryCodeMobile:"",errMsgPhone:null,isShowConfirmOTP:null,requestOtpErrMsg:null,isOtpValidationSuccess:!1,isShowOtp:null,passwordVisiablity:!1,confirmPasswordVisiablity:!1,sendOtpErrMsg:null,validateOtpErrMsg:null,otpSendMSG:null,isShowCoundown:!0,isShowResendBtn:!1,otpToken:"",otp:"",userOtp:""},locationSettings:{countryLocation:null,currencyDropdownData:[],currencyDropdownItem:null,languageDropdownData:[],languageDropdownItem:null,dateFormatDropdownData:[],dateFormatDropdownItem:null,timeFormatDropdownData:[],timeFormatDropdownItem:null,timeZoneDropdownData:[],timeZoneDropdownItem:null,dayLightSaving:!1,errMsgCurrency:null,errMsgLanguage:null,errMsgDateFormat:null,errMsgTimeFormat:null,errMsgTimeZone:null}})})),a(this,"validateState",(()=>{const{currencyDropdownData:t,currencyDropdownItem:e,languageDropdownData:a,timeZoneDropdownData:s,timeFormatDropdownData:i,languageDropdownItem:n,dateFormatDropdownData:o,dateFormatDropdownItem:l,timeFormatDropdownItem:r,timeZoneDropdownItem:d,errMsgCurrency:c,errMsgLanguage:m,errMsgDateFormat:u,errMsgTimeFormat:h,errMsgTimeZone:g,dayLightSaving:p}=this.state;if(null===e||b(e.currencyName)||e.currencyName.toLowerCase().includes("select"))return void this.setState({errMsgCurrency:q});if(null===n||b(n.languageName)||n.languageName.toLowerCase().includes("select"))return void this.setState({errMsgLanguage:V});if(null===l||b(l.dateFormat)||l.dateFormat.toLowerCase().includes("select"))return void this.setState({errMsgDateFormat:B});if(null===r||b(r.timeFormat)||r.timeFormat.toLowerCase().includes("select"))return void this.setState({errMsgTimeFormat:R});if(null===d||b(d.timezoneName)||d.timezoneName.toLowerCase().includes("select"))return void this.setState({errMsgTimeZone:Y});const D={currencyId:this.state.currencyDropdownItem.currencyId,languageId:this.state.languageDropdownItem.languageId,dateFormatId:this.state.dateFormatDropdownItem.dateFormatId,timeFormatId:this.state.timeFormatDropdownItem.timeFormatId,timeZoneId:this.state.timeZoneDropdownItem.timezoneId,isDayLight:!1};this.context.globalStateData.setKeyContactInfoData({...this.context.globalStateData.getKeyContactInfoData,locationSettings:this.state});const S={clientDetail:{...this.props.params.clientDetail,...D}};let y={...this.props.params,...S};y.userTypeId=4,y.sourceType=U(),this.postDataToServer(y)}))}render(){const{errMsgCurrency:t,errMsgLanguage:e,errMsgDateFormat:a,errMsgTimeFormat:i,errMsgTimeZone:n,showCompanyList:o}=this.state;return s.jsxs(yt,{className:"box-bottom-space",children:[o&&s.jsx(Tt,{}),s.jsxs("div",{className:"box-design rs-box-min-height py40",children:[s.jsxs(ft,{show:null!=this.state.addClinetErr,centered:!0,size:"md",children:[s.jsxs(ft.Header,{children:[s.jsx("h2",{children:"Agency"}),s.jsx(jt,{mainClass:"close",size:"md",handleClose:()=>{this.setState({addClinetErr:null})}})]}),s.jsx(ft.Body,{children:s.jsx("p",{children:this.state.addClinetErr})})]}),s.jsxs(vt,{children:[s.jsx(It,{children:s.jsx("div",{className:"portlet-map",children:s.jsx(bt,{constructorType:"mapChart",highcharts:xt,options:Zt(this.state.countryLocation)})})}),s.jsxs(It,{children:[s.jsxs(vt,{children:[s.jsx(It,{className:"marginT30",children:s.jsx("div",{className:"position-relative",children:s.jsx(g,{className:"required",textField:"currencyName",dataItemKey:"currencyId",required:!0,data:this.state.currencyDropdownData,errorMessage:this.state.errMsgCurrency,value:this.state.currencyDropdownItem||{currencyId:-1,currencyName:"-- Select currency --"},onChange:t=>{let e=t.target.value.currencyName.length>0?null:"Select currency";this.setState({currencyDropdownItem:t.target.value,errMsgCurrency:e})}})})}),s.jsx(It,{className:"marginT30",children:s.jsx("div",{className:"position-relative",children:s.jsx(g,{className:"required",textField:"languageName",dataItemKey:"languageId",required:!0,data:this.state.languageDropdownData,errorMessage:this.state.errMsgLanguage,value:this.state.languageDropdownItem||{languageId:-1,languageName:"-- Select language --"},onChange:t=>{let e=t.target.value.languageName.length>0?null:"Select language";this.setState({languageDropdownItem:t.target.value,errMsgLanguage:e})}})})})]}),s.jsxs(vt,{children:[s.jsx(It,{className:"marginT30",children:s.jsx("div",{className:"position-relative",children:s.jsx(g,{className:"required",textField:"dateFormat",dataItemKey:"dateFormatId",required:!0,data:this.state.dateFormatDropdownData,errorMessage:this.state.errMsgDateFormat,value:this.state.dateFormatDropdownItem||{dateFormatId:-1,dateFormat:`-- ${B} --`},onChange:t=>{let e=t.target.value.dateFormat.length>0?null:B;this.setState({dateFormatDropdownItem:t.target.value,errMsgDateFormat:e})}})})}),s.jsx(It,{className:"marginT30",children:s.jsx("div",{className:"position-relative",children:s.jsx(g,{className:"required",textField:"timeFormat",dataItemKey:"timeFormatId",required:!0,data:this.state.timeFormatDropdownData,errorMessage:this.state.errMsgTimeFormat,value:this.state.timeFormatDropdownItem||{timeFormatId:-1,timeFormat:`-- ${R} --`},onChange:t=>{let e=t.target.value.timeFormat.length>0?null:R;this.setState({timeFormatDropdownItem:t.target.value,errMsgTimeFormat:e})}})})})]}),s.jsx(vt,{children:s.jsx(It,{className:"position-relative marginT30",children:s.jsx("div",{className:"position-relative",children:s.jsx(g,{className:"required",textField:"timezoneName",dataItemKey:"timezoneId",required:!0,data:this.state.timeZoneDropdownData,errorMessage:this.state.errMsgTimeZone,value:this.state.timeZoneDropdownItem||{timezoneId:-1,timezoneName:`-- ${Y} --`},onChange:t=>{let e=t.target.value.timezoneName.length>0?null:Y;this.setState({timeZoneDropdownItem:t.target.value,errMsgTimeZone:e})}})})})})]})]})]}),s.jsxs("div",{className:"btn-container d-flex justify-content-end",children:[s.jsx(A,{onClick:()=>{var t;null==(t=this.props)||t.backBtn(1),this.context.globalStateData.setKeyContactInfoData({...this.context.globalStateData.getKeyContactInfoData,locationSettings:this.state})},children:"Back"}),s.jsx(F,{onClick:this.validateState,children:"Submit"})]})]})}}a(zt,"contextType",D);const Gt=i(zt),Zt=t=>({chart:{map:"custom/world",proj4:Mt,height:290},title:{text:" "},credits:{enabled:!1},navigation:{buttonOptions:{enabled:!1}},mapNavigation:{enabled:!1},tooltip:{enabled:!1,headerFormat:"",pointFormat:"<span>{point.name}</span><br>Lat: {point.lat}, Lon: {point.lon}",useHTML:!0,shared:!0,backgroundColor:"#5f5f5f",borderWidth:0,shadow:!1,style:{color:"#fefefe",cursor:"default",fontSize:"13px",whiteSpace:"nowrap"}},legend:{enabled:!1},plotOptions:{mappoint:{marker:{symbol:`url(${Wt})`},dataLabels:{align:"left",x:5,verticalAlign:"middle"}}},series:[{name:"Basemap",mapData:Ct,borderColor:"#ffffff",nullColor:"#749bf0",showInLegend:!1},{name:"Separators",type:"mapline",nullColor:"#707070",showInLegend:!1,enableMouseTracking:!1},{type:"mappoint",name:"Cities",data:[{name:null==t?void 0:t.country,lat:null==t?void 0:t.latitude,lon:null==t?void 0:t.longitude}]}]});class qt extends n.Component{constructor(){super(...arguments),a(this,"state",{...null==(t=this.context.globalStateData)?void 0:t.getKeyContactInfoData.contactInfo,isEmailLoader:!1,isEmailConfirm:!1,emailOtpSendMsg:!1}),a(this,"componentDidMount",(t=>{var e,a,s;this.props.location,null!=this.state.emailId&&this.setState({isEmailConfirm:!0});const i=JSON.parse(localStorage.getItem("agencyData"));if(null==(null==i?void 0:i.agencyemailId)&&null==(null==i?void 0:i.agencyemailId)||this.setState({emailId:null==i?void 0:i.agencyemailId,isEmailConfirm:!0}),null==this.state.countryCode&&0==(null==(e=this.state.countryCodeMobile)?void 0:e.length)){let t=localStorage.getItem("bdetails");if(null!=t||null!=t){let t=null;t=$(localStorage.getItem("bdetails")),null==(a=this.props)||a.getIPaddress(t);let e=null==(s=null==t?void 0:t.country_code)?void 0:s.toLowerCase();this.setState({countryCode:e,countryCodeMobile:null==t?void 0:t.country_calling_code})}else H((t=>{var e,a,s,i;if(null==t?void 0:t.status){null==(e=this.props)||e.getIPaddress(null==t?void 0:t.data);let n=null==(s=null==(a=null==t?void 0:t.data)?void 0:a.country_code)?void 0:s.toLowerCase();this.setState({countryCode:n,countryCodeMobile:null==(i=null==t?void 0:t.data)?void 0:i.country_calling_code})}}))}X();let n=v();if(null!=n&&null!=(null==n?void 0:n.jobFunction)){const t=null==n?void 0:n.jobFunction.map((t=>t));this.setState({jobFunctionData:t})}})),a(this,"requestEmailOtp",(()=>{I({path:J,isServiceWorker:!1,params:{emailId:this.state.emailId},ok:t=>{var e,a,s;(null==t?void 0:t.status)&&(null==(a=null==(e=null==t?void 0:t.data)?void 0:e.otpToken)?void 0:a.length)>0&&(this.context.globalStateData.setIsLoadingData(!1),this.setState({otpToken:null==(s=null==t?void 0:t.data)?void 0:s.otpToken,userOtp:"",validateOtpErrMsg:null,isShowOtp:!0,errMsgEmail:Q}),setTimeout((()=>{this.setState({errMsgEmail:null})}),4e3))},fail:t=>{this.context.globalStateData.setIsLoadingData(!1),setTimeout((()=>{this.setState({errMsgEmail:null})}),4e3)}})})),a(this,"validateState",(()=>{let t={...this.state};u(t,((t,e)=>{if(t){let e={...this.state,...t};this.setState(e)}e&&(this.context.globalStateData.setKeyContactInfoData({...this.context.globalStateData.getKeyContactInfoData,contactInfo:this.state}),this.props.updateDataAndIndex(this.props.i+1,e))}))})),a(this,"validateAllvalue",(()=>{var t,e,a,s,i,n,o;const{firstName:l,lastName:r,emailId:d,passWord:c,confirmPassword:m,showPassWord:u,showConfirmPassWord:h,pwdStrengthMeter:g,jobFunctionData:p,jobFunctionValue:D,profilePath:S,newImg:y,titleDropdownItem:v,mobileNo:I,userOtp:f,validateOtpErrMsg:x}=this.state;if(null==v)return void this.setState({errMsg_titleDropdownItem:"Select title"});if(null==l)return void this.setState({errMsg_FirstName:"Enter first name"});if(null==r)return void this.setState({errMsg_LastName:"Enter last name"});if(10!=I.length)return void this.setState({errMsgPhone:"Enter mobile number"});if(null==d||""==d)return void this.setState({errMsgEmail:"Enter email"});if(null==c)return void this.setState({errMsg_passWord:"Enter password"});if(null==m)return void this.setState({errMsg_confirmPassword:"Enter confirm password"});if(null==S)return void this.setState({errMsgProfilePath:"Upload profile"});if(this.state.passWord!=this.state.confirmPassword)return void this.setState({errMsg_confirmPassword:"Password mismatch"});let b={title:null==(t=this.state.titleDropdownItem)?void 0:t.id,firstName:this.state.firstName,middleName:"",lastName:this.state.lastName,password:this.state.passWord,emailIddecryption:"",emailId:this.state.emailId,countryCodeMobile:this.state.countryCodeMobile,phoneNo:this.state.mobileNo,otpValue:this.state.userOtp,jobFunctionID:null==(e=this.state.jobFunctionValue)?void 0:e.jobfunctionId,jobFunctionValue:null==(a=this.state.jobFunctionValue)?void 0:a.jobfunctionName,profilePath:this.state.profilePath};null==(s=this.props)||s.contactDetailsData(b),this.context.globalStateData.setKeyContactInfoData({...null==(n=null==(i=this.context)?void 0:i.globalStateData)?void 0:n.getKeyContactInfoData,contactInfo:this.state}),null==(o=this.props)||o.netxBtn(1)})),a(this,"setTitleDropdownData",(()=>{this.setState({titleDropdownData:Bt,titleDropdownItem:Bt[0]})})),a(this,"onDropdownChange",((t,e,a,s)=>{let i={};i[e]=t.target.value,i[a]=s,this.setState({...this.state,...i})})),a(this,"handleClose",(()=>{this.setState({isShowOtp:!0,isShowConfirmOTP:!1})})),a(this,"editButtonClick",(()=>{this.setState({isShowConfirmOTP:!1})})),a(this,"okBtnClicked",(()=>{this.setState({userOtp:"",isShowConfirmOTP:!1,isShowOtp:!0,isShowResendBtn:!1,otpSendMSG:"One time password resent successfully",isOtpValidationSuccess:!1,validateOtpErrMsg:null}),this.checkEmailExistInServer(),setTimeout((()=>{this.setState({otpSendMSG:null})}),5e3)})),a(this,"resetCounter",(()=>Date.now()+119600)),a(this,"otpTimer",(({minutes:t,seconds:e,completed:a})=>a?(this.setState({isShowCoundown:!1}),"Expired"):s.jsxs("span",{children:["valid for 2min (",t,":",e,")"]}))),a(this,"requestOtp",(t=>{this.setState({isShowCoundown:!0});const e={mobileNumber:`+${t}`,emailId:this.state.emailId};I({path:tt,params:e,ok:t=>{var e;t.status?this.setState({otpToken:null==(e=t.data)?void 0:e.otpToken}):this.setState({requestOtpErrMsg:t.message})},fail:t=>{this.setState({requestOtpErrMsg:t.message})}})})),a(this,"validateOtp",(t=>{const e={otpToken:this.state.otpToken,otp:this.state.userOtp};this.context.globalStateData.setIsLoadingData(!0),I({path:et,params:e,ok:t=>{t.status?(this.setState({isShowCoundown:!1,validateOtpErrMsg:null,isOtpValidationSuccess:!0,isShowOtp:!0}),this.context.globalStateData.setIsLoadingData(!1)):(this.setState({isShowCoundown:!0,validateOtpErrMsg:null==t?void 0:t.message,isOtpValidationSuccess:!1,isShowOtp:!0}),this.context.globalStateData.setIsLoadingData(!1))},fail:t=>{this.setState({isOtpValidationSuccess:!1,validateOtpErrMsg:t.message}),this.context.globalStateData.setIsLoadingData(!1)}})})),a(this,"validateAndSavePassword",(()=>{const{password:t,confirmPassword:e}=this.state;return/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@#$%^&+=!])[A-Za-z\d@#$%^&+=!]{8,}$/.test(t)?t!==e?(this.setState({errMsg_confirmPassword:"Passwords do not match. Please try again."}),!1):(this.setState({errMsg_passWord:"",errMsg_confirmPassword:""}),!0):(this.setState({errMsg_passWord:"Password must contain at least 8 characters, including an uppercase letter, a lowercase letter, a number, and a special character."}),!1)})),a(this,"checkEmailExistInServer",(()=>{this.setState({isEmailLoader:!0,isShowOtp:!1,userOtp:""}),this.context.globalStateData.setIsLoadingData(!0),I({path:at,params:{emailId:this.state.emailId},isServiceWorker:!1,retry:2,retryTime:5e3,ok:t=>{t.status?(this.setState({isEmailLoader:!1,errMsgEmail:null==t?void 0:t.message}),this.context.globalStateData.setIsLoadingData(!1)):(this.setState({isEmailLoader:!1,isEmailConfirm:!0}),this.requestEmailOtp())},fail:t=>{this.setState({isEmailLoader:!1,errMsgEmail:"Enter valid email"}),this.context.globalStateData.setIsLoadingData(!1)}})}))}render(){var t,e;const{errMsgTitle:a,errMsgFirstName:i,errMsgLastName:n,errMsgPhone:o,errMsgEmail:l,errMsgjobFunctionName:r,errMsgPassword:d,errMsgConfirmPassword:c,errMsgProfilePath:m,pwdStrengthMeter:u,conPwdStrengthMeter:h}=this.state;return s.jsxs(yt,{className:"box-bottom-space",children:[s.jsx("div",{className:"box-design rs-box-min-height py40",children:s.jsxs(vt,{children:[s.jsx(It,{md:3,sm:4,children:s.jsx("div",{className:"profile-image-wrapper",children:s.jsx("div",{className:"position-relative",children:s.jsx(Dt,{required:!0,className:"enable-remove",defaultImg:Lt,defaultValue:this.state.profilePath,newImg:this.state.newImg?`${E}${this.state.newImg}`:null,text:this.state.newImg||this.state.profilePath?"Edit image":"Upload image",icon:this.state.newImg||this.state.profilePath?"icon-rs-pencil-edit-medium icons-sm":"icon-rs-circle-plus-medium icons-md",cb:t=>this.setState({profilePath:t,errMsgProfilePath:null,newImg:null}),error:t=>{this.setState({errMsgProfilePath:t})},errorMessage:this.state.errMsgProfilePath,removeIcon:null!==this.state.profilePath,handleRemove:()=>{this.setState({profilePath:null,newImg:null})}})})})}),s.jsxs(It,{md:9,children:[s.jsxs(vt,{children:[s.jsx(It,{md:6,children:s.jsxs(vt,{children:[s.jsx(It,{md:3,children:s.jsx("div",{className:"position-relative",children:s.jsx(g,{errorMessage:this.state.errMsg_titleDropdownItem,value:this.state.titleDropdownItem?this.state.titleDropdownItem:{id:"0",label:"Select Title"},className:"required",label:this.state.titleDropdownItem?"Title":"",textField:"label",dataItemKey:"id",data:this.state.titleDropdownData,required:!0,handleChange:t=>{t.target.value.label.length,this.setState({titleDropdownItem:t.target.value,errMsg_titleDropdownItem:null})}})})}),s.jsx(It,{md:9,children:s.jsx(p,{required:!0,placeholder:"First name",val:this.state.firstName,errorMessage:this.state.errMsg_FirstName,handleOnchange:t=>{if(t.length>=51)this.setState({errMsg_FirstName:"First name exceeded the limit"});else if(!/[`!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~]/.test(t)){let e=t.length>0?null:"Enter First name";this.setState({firstName:t,errMsg_FirstName:e})}},handleOnBlur:t=>{if(t.length>50)return void this.setState({errMsg_FirstName:"Dynamic list name exceeded the limit"});this.setState({errMsg_FirstName:null});let e=t.length>0?null:"Enter First name";this.setState({firstName:t,errMsg_FirstName:e})}})})]})}),s.jsx(It,{md:6,children:s.jsx(p,{required:!0,placeholder:"Last name",val:this.state.lastName,errorMessage:this.state.errMsg_LastName,handleOnchange:t=>{if(t.length>=51)this.setState({errMsg_LastName:"Last name exceeded the limit"});else if(!/[`!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~]/.test(t)){let e=t.length>0?null:"Enter last name";this.setState({lastName:t,errMsg_LastName:e})}},handleOnBlur:t=>{if(t.length>50)return void this.setState({errMsg_LastName:"Last name exceeded the limit"});this.setState({errMsg_LastName:null});let e=t.length>0?null:"Enter Last name";this.setState({lastName:t,errMsg_LastName:e})}})})]}),s.jsxs(vt,{style:{marginTop:30},children:[s.jsx(It,{md:6,children:s.jsx(Et,{className:(null==(e=null==(t=this.state)?void 0:t.mobileNo)?void 0:e.length)?"disable-icon":"",errorMessage:this.state.errMsgPhone,value:this.state.countryCodeMobile+this.state.mobileNo,country:this.state.countryCode,tabIndex:3,required:!0,onChange:(t,e,a)=>{var s;let i=null==(s=null==a?void 0:a.target)?void 0:s.value,n="string"==typeof i?i.split(" "):[],o=n.length>1?n.splice(1).join("").replace(/[-,]/g,""):"";this.setState({mobileNo:o||"",countryCode:e.countryCode,countryCodeMobile:e.dialCode,errMsgPhone:null})},onBlur:t=>{this.state.mobileNo.length?10==this.state.mobileNo.length?10==this.state.mobileNo.length&&this.setState({errMsgPhone:null}):this.setState({errMsgPhone:"Enter valid number"}):this.setState({errMsgPhone:it})}})}),s.jsx(It,{md:6,children:s.jsx(p,{id:"email_id_textbox",name:"email",placeholder:"Email",val:this.state.emailId,disabled:!!this.state.isEmailConfirm,max:Pt,iconPlaceholder:!this.state.isEmailLoader,colorSuccess:this.state.errMsgEmail===Q,iconName:nt,errorSuccess:!0,success_msg:"success_msg",errorMessage:l,required:!0,ob:t=>{if(t.length>0){if(null===l){var e=ot(t.trim());if(!lt(e.trim()))return void this.setState({errMsgEmail:rt});this.setState({errMsgEmail:null,emailId:e,userOtp:"",validateOtpErrMsg:null})}this.checkEmailExistInServer()}else this.setState({errMsgEmail:"Enter email",userOtp:"",isShowOtp:!1,validateOtpErrMsg:null})},cb:t=>{let e=ot(t.trim());this.setState({errMsgEmail:null}),e.length<=100?this.setState({emailId:e}):this.setState({errMsgEmail:dt})}})})]}),s.jsxs(vt,{style:{marginTop:30},children:[s.jsx(It,{md:6,children:s.jsxs(s.Fragment,{children:[s.jsx(p,{viewEye:!0,meter:!0,id:"l_password",name:"password",type:!0===this.state.showPassWord?"text":"password",placeholder:ct,val:this.state.passWord,required:!0,errorMessage:this.state.errMsg_passWord,max:At,iconOnClick:()=>{this.setState({showPassWord:!this.state.showPassWord})},ob:t=>{t.length>0?(mt(t),this.setState({passWord:t,errMsg_passWord:null}),this.state.pwdStrengthMeter<=99&&this.setState({errMsg_passWord:"Password strength is low enter strong password"})):this.setState({errMsg_passWord:ut})},cb:t=>{const e=ht(t);e.length<=16&&this.setState({passWord:e,errMsg_passWord:null,pwdStrengthMeter:mt(t)});let a=(null==e?void 0:e.length)>0?null:ct;this.setState({errMsg_passWord:a})}}),s.jsxs("div",{className:"d-flex ",children:["Min. 8 characters",s.jsx("div",{className:"ml8 mt3",children:s.jsx(gt,{tooltip:"Min. 8 characters including numbers, special characters\n                                   and a mix of capital and small letters",icon:"icon-rs-circle-question-mark-medium",size:"md",iconClass:"",mainClass:"",onClick:()=>{}})})]})]})}),s.jsx(It,{md:6,children:s.jsx(p,{viewEye:!0,meter:!0,type:!0===this.state.showConfirmPassWord?"text":"password",placeholder:"Confirm password",val:this.state.confirmPassword,required:!0,errorMessage:this.state.errMsg_confirmPassword,max:At,iconOnClick:()=>{this.setState({showConfirmPassWord:!this.state.showConfirmPassWord})},cb:t=>{const e=ht(t);(null==e?void 0:e.length)>0?this.setState({confirmPassword:e,errMsg_confirmPassword:null}):this.setState({confirmPassword:e,errMsg_confirmPassword:"Enter confirm password"})},ob:t=>{const e=ht(t);0!=(null==e?void 0:e.length)?this.state.passWord===e?this.setState({confirmPassword:e}):this.setState({errMsg_confirmPassword:"Password mismatch"}):this.setState({errMsg_confirmPassword:"Enter confirm password"})}})})]})]})]})}),s.jsx("div",{className:"btn-container d-flex justify-content-end",children:s.jsx(F,{onClick:this.validateAllvalue,children:"Next"})})]})}}a(qt,"contextType",D);const Vt=i(qt),Bt=[{label:"Mr.",id:"1"},{label:"Ms.",id:"2"},{label:"Mrs.",id:"3"}],Rt=t=>{const[e,a]=n.useState(!1),[i,o]=n.useState(!1),[l,r]=n.useState(0),[d,c]=n.useState({}),[m,u]=n.useState("Select an account type"),[g,p]=n.useState(null),[D,S]=n.useState(null),[y,v]=n.useState(null),[I,f]=n.useState([{status:"inProcess",steps_title:"Account type",icons:"icon-rs-tick-mini icon-xs white"},{status:"",steps_title:"Contact details",icons:"icon-rs-mini blue"},{status:"",steps_title:"Agency details",icons:"icon-rs-mini icon-xs white"},{status:"",steps_title:"Localization settings",icons:"icon-rs-mini"}]);n.useState([]);const[x,b]=n.useState([{title:"Account type",disable:!1,name:"ACCOUNT_TYPE",icons:"icon-rs-tick-mini icon-xs white"},{title:"Contact details",disable:!1,name:"CONTACT_DETAILS",icons:"icon-rs-tick-mini icon-xs white"},{title:"Agency details",disable:!1,name:"AGENCY DETAILS",icons:"icon-rs-mini blue"},{title:"Localization settings",disable:!1,name:"LOCALIZATION_SETTINGS",icons:"icon-rs-mini blue"}]),[w,M]=n.useState("CONTACT_DETAILS"),[C,N]=n.useState(["ACCOUNT_TYPE","CONTACT_DETAILS"]),[j,T]=n.useState(!1);n.useEffect((()=>{T(!0),u("Key contact details"),f([{status:"complete",steps_title:"Account type",icons:"icon-rs-tick-mini icon-xs white"},{status:"inProcess",steps_title:"Contact details",icons:"icon-rs-tick-mini icon-xs white"},{status:"",steps_title:"Agency details",icons:"icon-rs-mini"},{status:"",steps_title:"Localization settings",icons:"icon-rs-mini"}])}),[]);const _=(t,e)=>{if(e){const t={...d,...e};c(t)}r(t)},E=t=>s.jsx(s.Fragment,{children:s.jsx(yt,{fluid:!0,className:"main-heading-wrapper mb0",children:s.jsxs(yt,{className:"mhw-container",children:[s.jsx("div",{className:"mhwc-left",children:s.jsx("h1",{children:s.jsx("div",{className:"mh-wrapper",children:s.jsx("span",{className:"mh-text",children:m})})})}),s.jsx("div",{className:"mhwc-right"})]})})}),L=[s.jsx(Vt,{contactAllDetails:g,getIPaddress:t=>{v(t)},netxBtn:t=>{r(t),b([{title:"Account type",disable:!1,name:"ACCOUNT_TYPE",icons:"icon-rs-tick-mini icon-xs white"},{title:"Contact details",disable:!1,name:"CONTACT_DETAILS",icons:"icon-rs-tick-mini icon-xs white"},{title:"Agency details",disable:!1,name:"AGENCY DETAILS",icons:"icon-rs-tick-mini icon-xs white"},{title:"Localization settings",disable:!1,name:"LOCALIZATION_SETTINGS",icons:"icon-rs-mini blue"}]),M("AGENCY DETAILS"),N(["ACCOUNT_TYPE","CONTACT_DETAILS","AGENCY DETAILS"]),u("Agency details")},updateDataAndIndex:_,i:l,params:d,contactDetailsData:t=>{p(t)}}),s.jsx(Kt,{ipDetails:y,netxBtn:t=>{r(t),b([{title:"Account type",disable:!1,name:"ACCOUNT_TYPE",icons:"icon-rs-tick-mini icon-xs white"},{title:"Contact details",disable:!1,name:"CONTACT_DETAILS",icons:"icon-rs-tick-mini icon-xs white"},{title:"Agency details",disable:!1,name:"AGENCY DETAILS",icons:"icon-rs-tick-mini icon-xs white"},{title:"Localization settings",disable:!1,name:"LOCALIZATION_SETTINGS",icons:"icon-rs-tick-mini icon-xs white"}]),M("LOCALIZATION_SETTINGS"),N(["ACCOUNT_TYPE","CONTACT_DETAILS","AGENCY DETAILS","LOCALIZATION_SETTINGS"]),u("Localization settings")},backBtn:t=>{r(t),b([{title:"Account type",disable:!1,name:"ACCOUNT_TYPE",icons:"icon-rs-tick-mini icon-xs white"},{title:"Contact details",disable:!1,name:"CONTACT_DETAILS",icons:"icon-rs-tick-mini icon-xs white"},{title:"Agency details",disable:!1,name:"AGENCY DETAILS",icons:"icon-rs-mini blue"},{title:"Localization settings",disable:!1,name:"LOCALIZATION_SETTINGS",icons:"icon-rs-mini blue"}]),M("CONTACT_DETAILS"),N(["ACCOUNT_TYPE","CONTACT_DETAILS"]),u("Key contact details")},brandDetails:t=>{null!=t&&S(t)},updateDataAndIndex:_,i:l,params:d}),s.jsx(Gt,{brandDetails:D,companyAdd:t=>{a(t),o(!0)},netxBtn:t=>{r(t)},backBtn:t=>{r(t),b([{title:"Account type",disable:!1,name:"ACCOUNT_TYPE",icons:"icon-rs-tick-mini icon-xs white"},{title:"Contact details",disable:!1,name:"CONTACT_DETAILS",icons:"icon-rs-tick-mini icon-xs white"},{title:"Agency details",disable:!1,name:"AGENCY DETAILS",icons:"icon-rs-tick-mini icon-xs white"},{title:"Localization settings",disable:!1,name:"LOCALIZATION_SETTINGS",icons:"icon-rs-mini blue"}]),M("AGENCY DETAILS"),N(["ACCOUNT_TYPE","CONTACT_DETAILS","AGENCY DETAILS"]),u("Agency details")},updateDataAndIndex:_,i:l,params:d,contactAndbrandDetails:[g,D]})];return s.jsx(s.Fragment,{children:0==e?s.jsxs(_t,{children:[s.jsx("div",{className:"header-component",children:s.jsx("div",{className:"header-wrapper",children:s.jsx("div",{className:"cursor-pointer",children:s.jsx(pt,{inner:!0})})})}),s.jsx(E,{}),s.jsx(yt,{className:"box-bottom-space mt20",children:s.jsxs(vt,{children:[s.jsx(It,{sm:3,children:s.jsx(h,{currentPage:w,completedPages:C,typeDetails:x})}),s.jsx(It,{sm:9,children:s.jsx("div",{children:L[l]})})]})})]}):s.jsx(Ft,{mainAgencyHeader:i})})};export{Rt as default};
