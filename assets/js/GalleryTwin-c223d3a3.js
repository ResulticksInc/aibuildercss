var e=Object.defineProperty,t=(t,n,r)=>(((t,n,r)=>{n in t?e(t,n,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[n]=r})(t,"symbol"!=typeof n?n+"":n,r),r);import{j as n}from"./pdf-editor-5df4b936.js";import{e as r,r as a,i}from"./react-vendor-379f659a.js";import{m as o,u as s,b as c}from"./mobx-e1586d6a.js";import{L as l}from"./ListView-669adc45.js";import{R as u}from"./RTabbar-aa3b2609.js";import{bX as d,av as p,eR as f,eS as m,eT as h,eU as g,bp as v,bj as y,br as E,bs as b,a0 as x,aa as C,be as N,U as T,al as j,bt as S,eV as I,eW as R,eX as _,eY as O}from"./index-7d59e1e4.js";import{K as w}from"./IconDropdown-8a2cdc1f.js";import{C as D}from"./Skeleton-e23e80f4.js";import{S as A}from"./SkeletonTable-9a18ea3e.js";import{N as L}from"./NPreview-1dcceedc.js";import{P}from"./kendo-5d73125a.js";import{a as U}from"./ui-9ddcca8e.js";var k={exports:{}},B=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}},F=B,q=Object.prototype.toString;function M(e){return"[object Array]"===q.call(e)}function G(e){return void 0===e}function J(e){return null!==e&&"object"==typeof e}function z(e){if("[object Object]"!==q.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function H(e){return"[object Function]"===q.call(e)}function W(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),M(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.call(null,e[a],a,e)}var V={isArray:M,isArrayBuffer:function(e){return"[object ArrayBuffer]"===q.call(e)},isBuffer:function(e){return null!==e&&!G(e)&&null!==e.constructor&&!G(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:J,isPlainObject:z,isUndefined:G,isDate:function(e){return"[object Date]"===q.call(e)},isFile:function(e){return"[object File]"===q.call(e)},isBlob:function(e){return"[object Blob]"===q.call(e)},isFunction:H,isStream:function(e){return J(e)&&H(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:W,merge:function e(){var t={};function n(n,r){z(t[r])&&z(n)?t[r]=e(t[r],n):z(n)?t[r]=e({},n):M(n)?t[r]=n.slice():t[r]=n}for(var r=0,a=arguments.length;r<a;r++)W(arguments[r],n);return t},extend:function(e,t,n){return W(t,(function(t,r){e[r]=n&&"function"==typeof t?F(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}},X=V;function $(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Y=function(e,t,n){if(!t)return e;var r;if(n)r=n(t);else if(X.isURLSearchParams(t))r=t.toString();else{var a=[];X.forEach(t,(function(e,t){null!=e&&(X.isArray(e)?t+="[]":e=[e],X.forEach(e,(function(e){X.isDate(e)?e=e.toISOString():X.isObject(e)&&(e=JSON.stringify(e)),a.push($(t)+"="+$(e))})))})),r=a.join("&")}if(r){var i=e.indexOf("#");-1!==i&&(e=e.slice(0,i)),e+=(-1===e.indexOf("?")?"?":"&")+r}return e},K=V;function Z(){this.handlers=[]}Z.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},Z.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},Z.prototype.forEach=function(e){K.forEach(this.handlers,(function(t){null!==t&&e(t)}))};var Q,ee,te,ne,re,ae,ie,oe,se,ce,le,ue,de,pe,fe,me,he,ge,ve,ye,Ee,be,xe=Z,Ce=V,Ne=function(e,t){Ce.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))},Te=function(e,t,n,r,a){return e.config=t,n&&(e.code=n),e.request=r,e.response=a,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},e};function je(){if(ee)return Q;ee=1;var e=Te;return Q=function(t,n,r,a,i){var o=new Error(t);return e(o,n,r,a,i)}}function Se(){if(ge)return he;function e(e){this.message=e}return ge=1,e.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},e.prototype.__CANCEL__=!0,he=e}function Ie(){if(ye)return ve;ye=1;var e=V,t=function(){if(ne)return te;ne=1;var e=je();return te=function(t,n,r){var a=r.config.validateStatus;r.status&&a&&!a(r.status)?n(e("Request failed with status code "+r.status,r.config,null,r.request,r)):t(r)}}(),n=function(){if(ae)return re;ae=1;var e=V;return re=e.isStandardBrowserEnv()?{write:function(t,n,r,a,i,o){var s=[];s.push(t+"="+encodeURIComponent(n)),e.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),e.isString(a)&&s.push("path="+a),e.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}}(),r=Y,a=function(){if(ue)return le;ue=1;var e=oe?ie:(oe=1,ie=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}),t=ce?se:(ce=1,se=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e});return le=function(n,r){return n&&!e(r)?t(n,r):r}}(),i=function(){if(pe)return de;pe=1;var e=V,t=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return de=function(n){var r,a,i,o={};return n?(e.forEach(n.split("\n"),(function(n){if(i=n.indexOf(":"),r=e.trim(n.substr(0,i)).toLowerCase(),a=e.trim(n.substr(i+1)),r){if(o[r]&&t.indexOf(r)>=0)return;o[r]="set-cookie"===r?(o[r]?o[r]:[]).concat([a]):o[r]?o[r]+", "+a:a}})),o):o}}(),o=function(){if(me)return fe;me=1;var e=V;return fe=e.isStandardBrowserEnv()?function(){var t,n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function a(e){var t=e;return n&&(r.setAttribute("href",t),t=r.href),r.setAttribute("href",t),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return t=a(window.location.href),function(n){var r=e.isString(n)?a(n):n;return r.protocol===t.protocol&&r.host===t.host}}():function(){return!0}}(),s=je(),c=Re(),l=Se();return ve=function(u){return new Promise((function(d,p){var f,m=u.data,h=u.headers,g=u.responseType;function v(){u.cancelToken&&u.cancelToken.unsubscribe(f),u.signal&&u.signal.removeEventListener("abort",f)}e.isFormData(m)&&delete h["Content-Type"];var y=new XMLHttpRequest;if(u.auth){var E=u.auth.username||"",b=u.auth.password?unescape(encodeURIComponent(u.auth.password)):"";h.Authorization="Basic "+btoa(E+":"+b)}var x=a(u.baseURL,u.url);function C(){if(y){var e="getAllResponseHeaders"in y?i(y.getAllResponseHeaders()):null,n={data:g&&"text"!==g&&"json"!==g?y.response:y.responseText,status:y.status,statusText:y.statusText,headers:e,config:u,request:y};t((function(e){d(e),v()}),(function(e){p(e),v()}),n),y=null}}if(y.open(u.method.toUpperCase(),r(x,u.params,u.paramsSerializer),!0),y.timeout=u.timeout,"onloadend"in y?y.onloadend=C:y.onreadystatechange=function(){y&&4===y.readyState&&(0!==y.status||y.responseURL&&0===y.responseURL.indexOf("file:"))&&setTimeout(C)},y.onabort=function(){y&&(p(s("Request aborted",u,"ECONNABORTED",y)),y=null)},y.onerror=function(){p(s("Network Error",u,null,y)),y=null},y.ontimeout=function(){var e=u.timeout?"timeout of "+u.timeout+"ms exceeded":"timeout exceeded",t=u.transitional||c.transitional;u.timeoutErrorMessage&&(e=u.timeoutErrorMessage),p(s(e,u,t.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",y)),y=null},e.isStandardBrowserEnv()){var N=(u.withCredentials||o(x))&&u.xsrfCookieName?n.read(u.xsrfCookieName):void 0;N&&(h[u.xsrfHeaderName]=N)}"setRequestHeader"in y&&e.forEach(h,(function(e,t){void 0===m&&"content-type"===t.toLowerCase()?delete h[t]:y.setRequestHeader(t,e)})),e.isUndefined(u.withCredentials)||(y.withCredentials=!!u.withCredentials),g&&"json"!==g&&(y.responseType=u.responseType),"function"==typeof u.onDownloadProgress&&y.addEventListener("progress",u.onDownloadProgress),"function"==typeof u.onUploadProgress&&y.upload&&y.upload.addEventListener("progress",u.onUploadProgress),(u.cancelToken||u.signal)&&(f=function(e){y&&(p(!e||e&&e.type?new l("canceled"):e),y.abort(),y=null)},u.cancelToken&&u.cancelToken.subscribe(f),u.signal&&(u.signal.aborted?f():u.signal.addEventListener("abort",f))),m||(m=null),y.send(m)}))}}function Re(){if(be)return Ee;be=1;var e=V,t=Ne,n=Te,r={"Content-Type":"application/x-www-form-urlencoded"};function a(t,n){!e.isUndefined(t)&&e.isUndefined(t["Content-Type"])&&(t["Content-Type"]=n)}var i,o={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(i=Ie()),i),transformRequest:[function(n,r){return t(r,"Accept"),t(r,"Content-Type"),e.isFormData(n)||e.isArrayBuffer(n)||e.isBuffer(n)||e.isStream(n)||e.isFile(n)||e.isBlob(n)?n:e.isArrayBufferView(n)?n.buffer:e.isURLSearchParams(n)?(a(r,"application/x-www-form-urlencoded;charset=utf-8"),n.toString()):e.isObject(n)||r&&"application/json"===r["Content-Type"]?(a(r,"application/json"),function(t){if(e.isString(t))try{return(0,JSON.parse)(t),e.trim(t)}catch(n){if("SyntaxError"!==n.name)throw n}return(0,JSON.stringify)(t)}(n)):n}],transformResponse:[function(t){var r=this.transitional||o.transitional,a=r&&r.silentJSONParsing,i=r&&r.forcedJSONParsing,s=!a&&"json"===this.responseType;if(s||i&&e.isString(t)&&t.length)try{return JSON.parse(t)}catch(c){if(s){if("SyntaxError"===c.name)throw n(c,this,"E_JSON_PARSE");throw c}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};return e.forEach(["delete","get","head"],(function(e){o.headers[e]={}})),e.forEach(["post","put","patch"],(function(t){o.headers[t]=e.merge(r)})),Ee=o}var _e,Oe,we=V,De=Re();function Ae(){return Oe?_e:(Oe=1,_e=function(e){return!(!e||!e.__CANCEL__)})}var Le=V,Pe=function(e,t,n){var r=this||De;return we.forEach(n,(function(n){e=n.call(r,e,t)})),e},Ue=Ae(),ke=Re(),Be=Se();function Fe(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Be("canceled")}var qe,Me,Ge=V,Je=function(e,t){t=t||{};var n={};function r(e,t){return Ge.isPlainObject(e)&&Ge.isPlainObject(t)?Ge.merge(e,t):Ge.isPlainObject(t)?Ge.merge({},t):Ge.isArray(t)?t.slice():t}function a(n){return Ge.isUndefined(t[n])?Ge.isUndefined(e[n])?void 0:r(void 0,e[n]):r(e[n],t[n])}function i(e){if(!Ge.isUndefined(t[e]))return r(void 0,t[e])}function o(n){return Ge.isUndefined(t[n])?Ge.isUndefined(e[n])?void 0:r(void 0,e[n]):r(void 0,t[n])}function s(n){return n in t?r(e[n],t[n]):n in e?r(void 0,e[n]):void 0}var c={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:s};return Ge.forEach(Object.keys(e).concat(Object.keys(t)),(function(e){var t=c[e]||a,r=t(e);Ge.isUndefined(r)&&t!==s||(n[e]=r)})),n};function ze(){return Me?qe:(Me=1,qe={version:"0.23.0"})}var He=ze().version,We={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){We[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var Ve={};We.transitional=function(e,t,n){return function(r,a,i){if(!1===e)throw new Error(function(e,t){return"[Axios v"+He+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}(a," has been removed"+(t?" in "+t:"")));return t&&!Ve[a]&&(Ve[a]=!0),!e||e(r,a,i)}};var Xe,$e,Ye,Ke,Ze,Qe,et=V,tt=Y,nt=xe,rt=function(e){return Fe(e),e.headers=e.headers||{},e.data=Pe.call(e,e.data,e.headers,e.transformRequest),e.headers=Le.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),Le.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||ke.adapter)(e).then((function(t){return Fe(e),t.data=Pe.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return Ue(t)||(Fe(e),t&&t.response&&(t.response.data=Pe.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))},at=Je,it={assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),a=r.length;a-- >0;){var i=r[a],o=t[i];if(o){var s=e[i],c=void 0===s||o(s,i,e);if(!0!==c)throw new TypeError("option "+i+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+i)}},validators:We},ot=it.validators;function st(e){this.defaults=e,this.interceptors={request:new nt,response:new nt}}st.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=at(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&it.assertOptions(t,{silentJSONParsing:ot.transitional(ot.boolean),forcedJSONParsing:ot.transitional(ot.boolean),clarifyTimeoutError:ot.transitional(ot.boolean)},!1);var n=[],r=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var a,i=[];if(this.interceptors.response.forEach((function(e){i.push(e.fulfilled,e.rejected)})),!r){var o=[rt,void 0];for(Array.prototype.unshift.apply(o,n),o=o.concat(i),a=Promise.resolve(e);o.length;)a=a.then(o.shift(),o.shift());return a}for(var s=e;n.length;){var c=n.shift(),l=n.shift();try{s=c(s)}catch(u){l(u);break}}try{a=rt(s)}catch(u){return Promise.reject(u)}for(;i.length;)a=a.then(i.shift(),i.shift());return a},st.prototype.getUri=function(e){return e=at(this.defaults,e),tt(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},et.forEach(["delete","get","head","options"],(function(e){st.prototype[e]=function(t,n){return this.request(at(n||{},{method:e,url:t,data:(n||{}).data}))}})),et.forEach(["post","put","patch"],(function(e){st.prototype[e]=function(t,n,r){return this.request(at(r||{},{method:e,url:t,data:n}))}}));var ct=V,lt=B,ut=st,dt=Je,pt=function e(t){var n=new ut(t),r=lt(ut.prototype.request,n);return ct.extend(r,ut.prototype,n),ct.extend(r,n),r.create=function(n){return e(dt(t,n))},r}(Re());pt.Axios=ut,pt.Cancel=Se(),pt.CancelToken=function(){if($e)return Xe;$e=1;var e=Se();function t(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var n;this.promise=new Promise((function(e){n=e}));var r=this;this.promise.then((function(e){if(r._listeners){var t,n=r._listeners.length;for(t=0;t<n;t++)r._listeners[t](e);r._listeners=null}})),this.promise.then=function(e){var t,n=new Promise((function(e){r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},t((function(t){r.reason||(r.reason=new e(t),n(r.reason))}))}return t.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},t.prototype.subscribe=function(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]},t.prototype.unsubscribe=function(e){if(this._listeners){var t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}},t.source=function(){var e;return{token:new t((function(t){e=t})),cancel:e}},Xe=t}(),pt.isCancel=Ae(),pt.VERSION=ze().version,pt.all=function(e){return Promise.all(e)},pt.spread=Ke?Ye:(Ke=1,Ye=function(e){return function(t){return e.apply(null,t)}}),pt.isAxiosError=Qe?Ze:(Qe=1,Ze=function(e){return"object"==typeof e&&!0===e.isAxiosError}),k.exports=pt,k.exports.default=pt;const ft=r(k.exports),mt=new Set(["ENOTFOUND","ENETUNREACH","UNABLE_TO_GET_ISSUER_CERT","UNABLE_TO_GET_CRL","UNABLE_TO_DECRYPT_CERT_SIGNATURE","UNABLE_TO_DECRYPT_CRL_SIGNATURE","UNABLE_TO_DECODE_ISSUER_PUBLIC_KEY","CERT_SIGNATURE_FAILURE","CRL_SIGNATURE_FAILURE","CERT_NOT_YET_VALID","CERT_HAS_EXPIRED","CRL_NOT_YET_VALID","CRL_HAS_EXPIRED","ERROR_IN_CERT_NOT_BEFORE_FIELD","ERROR_IN_CERT_NOT_AFTER_FIELD","ERROR_IN_CRL_LAST_UPDATE_FIELD","ERROR_IN_CRL_NEXT_UPDATE_FIELD","OUT_OF_MEM","DEPTH_ZERO_SELF_SIGNED_CERT","SELF_SIGNED_CERT_IN_CHAIN","UNABLE_TO_GET_ISSUER_CERT_LOCALLY","UNABLE_TO_VERIFY_LEAF_SIGNATURE","CERT_CHAIN_TOO_LONG","CERT_REVOKED","INVALID_CA","PATH_LENGTH_EXCEEDED","INVALID_PURPOSE","CERT_UNTRUSTED","CERT_REJECTED","HOSTNAME_MISMATCH"]),ht=r((e=>!mt.has(e&&e.code))),gt="axios-retry";function vt(e){return!e.response&&!!e.code&&!["ERR_CANCELED","ECONNABORTED"].includes(e.code)&&ht(e)}const yt=["get","head","options"],Et=yt.concat(["put","delete"]);function bt(e){return"ECONNABORTED"!==e.code&&(!e.response||429===e.response.status||e.response.status>=500&&e.response.status<=599)}function xt(e){var t;return!!(null==(t=e.config)?void 0:t.method)&&bt(e)&&-1!==Et.indexOf(e.config.method)}function Ct(e){return vt(e)||xt(e)}function Nt(e=void 0){var t;const n=null==(t=null==e?void 0:e.response)?void 0:t.headers["retry-after"];if(!n)return 0;let r=1e3*(Number(n)||0);return 0===r&&(r=(new Date(n).valueOf()||0)-Date.now()),Math.max(0,r)}const Tt={retries:3,retryCondition:Ct,retryDelay:function(e=0,t=void 0){return Math.max(0,Nt(t))},shouldResetTimeout:!1,onRetry:()=>{},onMaxRetryTimesExceeded:()=>{},validateResponse:null};function jt(e,t,n=!1){const r=function(e,t){return{...Tt,...t,...e[gt]}}(e,t||{});return r.retryCount=r.retryCount||0,r.lastRequestTime&&!n||(r.lastRequestTime=Date.now()),e[gt]=r,r}const St=(e,t)=>{const n=e.interceptors.request.use((e=>{var n;return jt(e,t,!0),(null==(n=e[gt])?void 0:n.validateResponse)&&(e.validateStatus=()=>!1),e})),r=e.interceptors.response.use(null,(async n=>{var r;const{config:a}=n;if(!a)return Promise.reject(n);const i=jt(a,t);return n.response&&(null==(r=i.validateResponse)?void 0:r.call(i,n.response))?n.response:await async function(e,t){const{retries:n,retryCondition:r}=e,a=(e.retryCount||0)<n&&r(t);if("object"==typeof a)try{return!1!==await a}catch(i){return!1}return a}(i,n)?async function(e,t,n,r){var a;t.retryCount+=1;const{retryDelay:i,shouldResetTimeout:o,onRetry:s}=t,c=i(t.retryCount,n);if(function(e,t){e.defaults.agent===t.agent&&delete t.agent,e.defaults.httpAgent===t.httpAgent&&delete t.httpAgent,e.defaults.httpsAgent===t.httpsAgent&&delete t.httpsAgent}(e,r),!o&&r.timeout&&t.lastRequestTime){const e=Date.now()-t.lastRequestTime,a=r.timeout-e-c;if(a<=0)return Promise.reject(n);r.timeout=a}return r.transformRequest=[e=>e],await s(t.retryCount,n,r),(null==(a=r.signal)?void 0:a.aborted)?Promise.resolve(e(r)):new Promise((t=>{var n;const a=()=>{clearTimeout(i),t(e(r))},i=setTimeout((()=>{var n;t(e(r)),(null==(n=r.signal)?void 0:n.removeEventListener)&&r.signal.removeEventListener("abort",a)}),c);(null==(n=r.signal)?void 0:n.addEventListener)&&r.signal.addEventListener("abort",a,{once:!0})}))}(e,i,n,a):(await async function(e,t){e.retryCount>=e.retries&&await e.onMaxRetryTimesExceeded(t,e.retryCount)}(i,n),Promise.reject(n))}));return{requestInterceptorId:n,responseInterceptorId:r}};St.isNetworkError=vt,St.isSafeRequestError=function(e){var t;return!!(null==(t=e.config)?void 0:t.method)&&bt(e)&&-1!==yt.indexOf(e.config.method)},St.isIdempotentRequestError=xt,St.isNetworkOrIdempotentRequestError=Ct,St.exponentialDelay=function(e=0,t=void 0,n=100){const r=2**e*n,a=Math.max(r,Nt(t));return a+.2*a*Math.random()},St.linearDelay=function(e=100){return(t=0,n=void 0)=>{const r=t*e;return Math.max(r,Nt(n))}},St.isRetryableError=bt;const It=ft.create({baseURL:d(),timeout:1e4,headers:{"Content-Type":"application/json"}});St(It,{retries:3,retryDelay:e=>1e3*e,retryCondition:e=>{var t;return(null==(t=e.response)?void 0:t.status)>=500||"ECONNABORTED"===e.code||"ECONNRESET"===e.code}}),It.interceptors.request.use((e=>{if(Ot(e.url)){const e=new CustomEvent("globalLoader",{detail:{isLoading:!0}});window.dispatchEvent(e)}const t=localStorage.getItem("session"),n=JSON.parse(t),r=n?n.accessToken:"",a=!!n&&n.isAuth;if(p("SDX Server request data",e.data),a&&!r)return Promise.reject({error:"accessDenied"});if(e.headers.accessToken=r,null==e?void 0:e.isEnc){const t=g(16),n=f.Buffer.from(t).toString("base64");e.headers.div=n,e.headers.isEnc=!0;let r=m(JSON.stringify(e.data),t);e.data=JSON.stringify({payload:r})}return e}),(e=>Promise.reject(e))),It.interceptors.response.use((e=>{var t,n,r;if(Ot(e.config.url)){const e=new CustomEvent("globalLoader",{detail:{isLoading:!1}});window.dispatchEvent(e)}let a=e.data;if(null==(t=e.config.headers)?void 0:t.isEnc)try{const t=f.Buffer.from(e.config.headers.div,"base64").toString("utf-8");let i=h(null==(r=null==(n=e.data)?void 0:n.result)?void 0:r.toString(),t);return a=JSON.parse(i),"string"==typeof a&&(a=JSON.parse(a)),p("SDX Server response data",a,!0),a}catch(i){return p("SDX Server response data error",i.message),Promise.reject(i)}return e}),(e=>(e.response&&401===e.response.status&&(_t||window.dispatchEvent(new CustomEvent("unauthorized"))),Promise.reject(e))));const Rt=async(e,t,n={isEnc:!0})=>{try{return await It.post(e,t,n)}catch(r){throw p("Error post data",r.message),r}},_t=e=>!![v,y].includes(e),Ot=e=>[v,y].includes(e),wt=new class{constructor(){t(this,"resetStore",(()=>{Object.assign(this,{tabIndex:0,responsedata:null,pagination:{PageSize:3,PageCount:1,totalCount:0},channel:"W",startDate:"",endDate:"",campaignName:"",campaignType:"",deliveryType:"",createdBy:"",pageState:{skip:0,take:3,type:"input",buttonCount:3,info:!1,pageSizes:!0,previousNext:!0,responsive:!0}})})),t(this,"handlePageChange",(e=>{const{skip:t,take:n}=e;this.pageState.skip=t,this.pageState.take=n,this.pageState.channel="W",this.pagination.PageSize=n,this.pagination.PageCount=0===t?1:t/n+1,this.getGalleryData()})),t(this,"getGalleryData",(()=>{this.channel=0===this.tabIndex?"W":"M";const e={channel:this.channel,endDate:this.startDate,startDate:this.endDate,CampaignType:this.campaignType,DeliveryType:this.deliveryType,createdBy:this.createdBy,CampaignName:this.campaignName,pagination:this.pagination};Rt(E,e).then((e=>{var t;e.status&&(this.responsedata=null==(t=null==e?void 0:e.data)?void 0:t.campaignsGalleryList,this.pagination.totalCount=e.totalRows)})).catch((e=>{}))})),t(this,"getCardClassName",(e=>{var t,n,r,a;const i=(null==(t=this.responsedata[e])?void 0:t.campaignType)||"",o=(null==(n=this.responsedata[e])?void 0:n.statusId)||-1;return this.responsedata?`card-gallery-box ${"T"===i&&9===o?new Date(null==(r=this.responsedata[e])?void 0:r.endDate)<=new Date?Dt[9].className:Dt[5].className:null==(a=Dt[o])?void 0:a.className}`:""})),Object.assign(this,{tabIndex:0,responsedata:null,pagination:{PageSize:3,PageCount:1,totalCount:0},channel:"W",startDate:"",endDate:"",campaignName:"",campaignType:"",deliveryType:"",createdBy:"",pageState:{skip:0,take:3,type:"input",buttonCount:3,info:!1,pageSizes:!0,previousNext:!0,responsive:!0}}),o(this)}},Dt={0:{title:"Draft",className:"status-draft",icon:"icon-rs-form-edit-medium",color:"grey"},5:{title:"In progress",className:"status-inprogress",icon:"icon-rs-circle-time-medium",color:"#66c8ec"},52:{title:"Alert",className:"status-alert",icon:"icon-rs-alert-medium",color:"#dfb82b"},9:{title:"Completed",className:"status-completed",icon:"icon-rs-circle-tick-medium",color:"#99cc03"},7:{title:"Scheduled",className:"status-scheduled",icon:"icon-rs-circle-time-medium",color:"#f56701"},20:{title:"Multistatus",className:"status-multistatus",icon:"icon-rs-multi-status-medium",color:"#9f65b7"},6:{title:"Draft",className:"status-draft",icon:"icon-rs-form-edit-medium",color:"#b8b8b8"}},At=e=>{a.useEffect((()=>{wt.getGalleryData()}),[]);const t=c((()=>n.jsxs("div",{className:"d-flex justify-content-between marginB7",children:[n.jsx("div",{}),n.jsx("div",{className:"d-flex align-items-center ",style:{height:40},children:n.jsx(u,{style:{height:40},className:"fs18-btn top-1",defaultSelectedItem:wt.tabIndex,defaultClass:"tabDefault",dynamicTab:"mini float-end mb0",activeClass:"tabDefault active",tabData:Lt,callBack:(e,t)=>{wt.resetStore(),wt.tabIndex=t,wt.getGalleryData()}})})]}))),r=c((()=>n.jsx(l,{className:"gallery-grid-view",type:"web",data:wt.responsedata,item:Pt}))),i=c((()=>n.jsx("div",{className:"grid-pagenation",children:wt.pagination.totalCount>3?n.jsx(P,{className:"k-grid-pager",skip:wt.pageState.skip,take:wt.pageState.take,onPageChange:wt.handlePageChange,total:wt.pagination.totalCount,type:wt.pageState.type,info:wt.pageState.info,buttonCount:wt.pageState.buttonCount,pageSizes:wt.pageState.pageSizes?[3,6,18]:void 0,previousNext:wt.pageState.previousNext}):null}))),o=()=>n.jsx("div",{className:"box-design-del",children:n.jsx(D,{isError:!1})}),s=c((()=>n.jsx(n.Fragment,{children:wt.responsedata?n.jsx(r,{}):n.jsx(o,{})})));return n.jsxs("div",{style:{marginTop:100},children:[n.jsx(t,{}),n.jsx(s,{}),n.jsx(i,{})]})},Lt=[{id:1001,text:"Web push"},{id:1002,text:"Mobile push"}],Pt=c((e=>{const t=(e=>{const t=s((()=>{var n,r;return{campaignId:"",deliveryMethod:"",communicationType:"",totalSent:0,reach:0,engagement:0,conversion:0,isInfoOpen:!1,saveError:!1,infoData:null,imageData:null,notificationData:null===e.dataItem.mediadata||void 0===e.dataItem.mediadata?null:JSON.parse(null==(n=e.dataItem)?void 0:n.mediadata)||null,deviceType:"M"===(null==(r=null==e?void 0:e.dataItem)?void 0:r.communicationChannel)?" Android":"Chrome",splitIndex:0,infoIconBtnClick:e=>{t.isInfoOpen=!t.isInfoOpen,t.campaignId=e.campaignId;let n={CampaignId:e.campaignId,CampaignGuid:e.campaignGUID,Channel:"W"===e.communicationChannel?"WP":"MP",BlastGuid:e.blastScheduleGuid};Rt(b,n).then((e=>{e.status&&(t.infoData=e.data,t.setInfoData())})).catch((e=>{}))},setInfoData:()=>{var e;t.deliveryMethod="S"===t.infoData.campaignType?"Single dimension":"Trigger",t.communicationType=null==(e=t.infoData)?void 0:e.campaignAttribute,t.totalSent=t.infoData.noOfRecipientsCount,t.reach=t.infoData.reachCount,t.engagement=t.infoData.interactionCount,t.conversion=t.infoData.conversionCount},get infoItems(){return[{label:"Delivery method:",value:t.deliveryMethod},{label:"Communication type:",value:t.communicationType},{label:"Total sent:",value:t.totalSent},{label:"Reach:",value:t.reach},{label:"Engagement:",value:t.engagement},{label:"Conversion:",value:t.conversion}]},handleEditDropdownClick:(e,n)=>{if("Edit"===e.item.text){const e="m"===n.communicationChannel.toLowerCase()?14:8;localStorage.setItem("cId",n.campaignId);let t=Dt[n.statusId].title;const r=0!==n.campaignId&&!["Scheduled","Draft","Alert"].includes(t);let a=localStorage.getItem(`camp_${n.campaignId}`);const i=null!=a?x(a):{};return i.notifyData={mode:"edit",editClickOff:r,statusId:t.id,channelId:e},localStorage.setItem(`camp_${n.campaignId}`,C(i)),!0}return t.duplicateChannel(n),!1},duplicateChannel:e=>{let t={userId:N(),campaignName:e.campaignName+"_Copy",campaignId:e.campaignId,databaseName:"SmartDX_e7be7449_b573_4e29_a427_a46e36288409"};Rt(y,t).then((e=>{e.status||(store.saveError=!1)})).catch((e=>{}))},closeInfo:()=>{t.isInfoOpen=!t.isInfoOpen}}}));return t})(e),r=i(),o=()=>{let a=[{text:"Edit"},{text:"Duplicate"}];"T"===e.dataItem.campaignType&&9!==e.dataItem.statusId&&a.pop();const{createdDate:i,campaignName:o}=e.dataItem;return n.jsx(n.Fragment,{children:(null==e?void 0:e.dataItem)&&n.jsxs("div",{className:"gallery-head",children:[n.jsxs("div",{className:"d-flex align-items-center justify-content-between",children:[n.jsxs("small",{className:"color-primary-grey",children:["Created on: ",j(i)]}),n.jsx(w,{className:"marginR-5",dir:"rtl",data:a,icon:` ${S} icons-md blue`,onItemClick:n=>{t.handleEditDropdownClick(n,e.dataItem)&&r.push({pathname:"/campaign/creation-notification",search:`?cId=${e.dataItem.campaignId}&cs=${e.dataItem.statusId}`,state:{mode:"edit"}})}})]}),n.jsx("div",{className:"d-flex align-items-center",children:n.jsx(T,{text:`${o}`,position:"top",children:n.jsx("p",{className:"float-start truncate-240 mb0",children:o})})})]})})},l=c((()=>n.jsx(n.Fragment,{children:e.dataItem&&!1===t.isInfoOpen?n.jsxs("div",{className:"gallery-body "+(e.dataItem.communicationChannel,""),children:[null!==e.dataItem.mediadata&&void 0!==e.dataItem.mediadata&&null!==f()&&n.jsx("div",{className:"instant-preview",children:n.jsx(g,{type:"W"===e.dataItem.communicationChannel?"web":"mobile"})}),null===e.dataItem.mediadata&&n.jsx(A,{count:5,isError:!0,children:n.jsxs("div",{className:"nodata-bar add-func",children:[n.jsx("i",{className:"icon-rs-alert-medium icons-md orange-medium"}),n.jsx("p",{children:"No data available"})]})})]}):null}))),u=c((()=>{var r;const a={W:[{type:"Chrome",icon:I,text:"Chrome"},{type:"Firefox",icon:R,text:"Firefox"}],default:[{type:" Android",icon:_,text:"Android"},{type:" iOS",icon:O,text:"iOS"}]},i="W"===(null==(r=null==e?void 0:e.dataItem)?void 0:r.communicationChannel)?a.W:a.default;return n.jsxs(n.Fragment,{children:[!1===t.isInfoOpen?n.jsx(T,{placement:"top",text:"Info",children:n.jsx("i",{className:"icon-rs-circle-info-medium icons-md blue cp action-info position-absolute right10 bottom13 zIndex1",onClick:()=>{t.infoIconBtnClick(e.dataItem)}})}):null,!1===t.isInfoOpen?n.jsx("div",{className:"galleryType",children:i.map((e=>n.jsx(T,{placement:"top",text:e.text,children:n.jsx("i",{className:`${e.icon} icons-md color-primary-blue cursor-pointer mr10 ${t.deviceType===e.type?"selected-gal-device-type":""}`,onClick:()=>{t.deviceType=e.type,t.isInfoOpen=!1}})},e.type)))}):null]})})),d=c((()=>n.jsx(n.Fragment,{children:(null==e?void 0:e.dataItem)&&t.isInfoOpen?t.infoData?n.jsx(Ut,{infoItems:t.infoItems,closeInfo:t.closeInfo}):n.jsx(kt,{}):null}))),p=()=>{let t=JSON.parse(e.dataItem.mediadata);return t.push={},t.push.pushType={deliveryTypeId:t.deliveryTypeId,deliveryTypeValue:"Alert / inApp"},t.push.deliveryType={deliveryTypeId:t.deliveryTypeId,deliveryTypeValue:"Alert / inApp"},t},f=()=>{var e;let t=p();return(null==(e=null==t?void 0:t.content)?void 0:e.length)>0?null==t?void 0:t.content[0]:null},m=({type:r})=>n.jsx(n.Fragment,{children:n.jsx(L,{deviceType:t.deviceType,isGallery:!0,type:r,data:p(),content:JSON.parse(e.dataItem.mediadata).content[t.splitIndex]})}),h=({type:r})=>{const i=JSON.parse(e.dataItem.mediadata),[o,s]=a.useState(i.content[0]),[c,l]=a.useState(0);let u=i.isSplit,d=i.isCarousel;return a.useEffect((()=>{}),[o]),(u||d)&&((e,t)=>{var n;null==(n=null==e?void 0:e.content)||n.map(((e,n)=>({index:n,text:`${t?"Split":"CTRL"} ${"ABCD".charAt(n)}`})))})(i,u),n.jsx(n.Fragment,{children:n.jsx("div",{className:"gallery_split",children:n.jsx(L,{deviceType:t.deviceType,isGallery:!0,index:c,carousel:!0,type:r,data:p(),content:o,firstButtonClick:()=>{if(0===c)return;l(c-1);let e={...i};s(null==e?void 0:e.content[c-1])},secondBtnClick:()=>{var e;if(c===(null==(e=null==i?void 0:i.content)?void 0:e.length)-1)return;let n={...i};n.selectIndex=c+1,s(null==n?void 0:n.content[c+1]),l(c+1),t.notificationData=notificationData}})})})},g=c((({type:r})=>{const a=JSON.parse(e.dataItem.mediadata);let i=(null==a?void 0:a.isSplit)||!1,o=(null==a?void 0:a.isCarousel)||!1;return n.jsxs(n.Fragment,{children:[i&&n.jsx(m,{type:r}),o&&n.jsx(h,{type:r}),!1===i&&!1===o&&n.jsx(L,{deviceType:t.deviceType,isGallery:!0,type:r,data:p(),content:f()})]})}));return n.jsx(U,{md:4,children:n.jsxs("div",{className:wt.getCardClassName(e.index),children:[n.jsx(o,{}),n.jsx(l,{}),n.jsx(u,{}),n.jsx(d,{})]})})})),Ut=e=>{const{infoItems:t,closeInfo:r}=e;return n.jsxs("div",{className:"gallery-body",children:[n.jsx("i",{onClick:()=>r(),className:"icon-rs-close-mini icons-sm color-primary-blue cp"}),n.jsxs("div",{className:"gallery-pophover",children:[n.jsx("ul",{className:"borderB1",children:t.slice(0,2).map(((e,t)=>n.jsxs(n.Fragment,{children:[n.jsx("li",{children:n.jsx("span",{className:"font-semi-bold",children:e.label})},t),n.jsxs("li",{children:[e.value," "]})]})))}),n.jsx("ul",{children:t.slice(2).map(((e,t)=>n.jsxs("li",{children:[n.jsx("span",{className:"font-semi-bold",children:e.label}),"Â ",e.value]},t)))})]})]})},kt=()=>n.jsxs("div",{className:"gallery-body gl-skeleton",children:[n.jsx(A,{height:25,count:4}),n.jsx("hr",{className:"marginB15"}),n.jsx(A,{height:25,count:4})]}),Bt=Object.freeze(Object.defineProperty({__proto__:null,default:At},Symbol.toStringTag,{value:"Module"}));export{At as G,Bt as a,Rt as p};
