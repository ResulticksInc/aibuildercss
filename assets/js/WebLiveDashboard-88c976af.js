var e=Object.defineProperty,t=(t,s,n)=>(((t,s,n)=>{s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[s]=n})(t,"symbol"!=typeof s?s+"":s,n),n);import{j as s}from"./pdf-editor-e8cb7a76.js";import{e as n,r as i}from"./react-vendor-379f659a.js";import{g as o}from"./kendo-5d73125a.js";import{r as a}from"./react-router-dom.min-6f8d67fa.js";import{H as r}from"./charts-f2096496.js";import{h as l}from"./map-99306e6f.js";import{a as d}from"./active-aae5604d.js";import{c}from"./chart-clock-modified-97178abb.js";import{l as h,N as u,p}from"./NewCharts-e35a8804.js";import{R as m}from"./RTabbar-3aea29fd.js";import{B as x}from"./BootstrapDropdown-ea8b760e.js";import{R as g}from"./RSDropdowns-e011803c.js";import{av as v,Y as b,DN as y,aR as f,DO as w,DP as j,ea as C,DQ as k,ar as S,ck as N,bt as D,U as W,aa as F,mn as L,DR as I}from"./index-23a09c37.js";import{af as U,ag as E,ah as P,ae as T,ai as M,aj as A,ak as _,I as O,J as V,K as H,L as B,M as R,N as G,O as z,al as $,am as K,k as q,an as J,ao as Y,ap as X,aq as Q,ar as Z,as as ee,at as te,au as se,Y as ne,av as ie,t as oe,o as ae,u as re,aw as le,ax as de,ay as ce,az as he,aA as ue,aB as pe}from"./Colors-8a9fdcf2.js";import{U as me,T as xe,N as ge,K as ve,e as be,P as ye,H as fe,g as we}from"./Skeleton-564886d3.js";import{S as je}from"./SkeletonTable-88398a63.js";import"./export-data-a2401fa3.js";import{a as Ce,C as ke,R as Se}from"./ui-f7791cf3.js";import"./style-a86a43a5.js";import"./utils-16c7e021.js";import"./drag-drop-2020d552.js";import"./constants-82903eb8.js";var Ne,De,We={exports:{}};De=function(e){function t(e,t,s,n){e.hasOwnProperty(t)||(e[t]=n.apply(null,s))}t(e=e?e._modules:{},"Extensions/FullScreen.js",[e["Core/Chart/Chart.js"],e["Core/Globals.js"],e["Core/Renderer/HTML/AST.js"],e["Core/Utilities.js"]],(function(e,t,s,n){var i=n.addEvent;return n=function(){function e(e){this.chart=e,this.isOpen=!1,e=e.renderTo,this.browserProps||("function"==typeof e.requestFullscreen?this.browserProps={fullscreenChange:"fullscreenchange",requestFullscreen:"requestFullscreen",exitFullscreen:"exitFullscreen"}:e.mozRequestFullScreen?this.browserProps={fullscreenChange:"mozfullscreenchange",requestFullscreen:"mozRequestFullScreen",exitFullscreen:"mozCancelFullScreen"}:e.webkitRequestFullScreen?this.browserProps={fullscreenChange:"webkitfullscreenchange",requestFullscreen:"webkitRequestFullScreen",exitFullscreen:"webkitExitFullscreen"}:e.msRequestFullscreen&&(this.browserProps={fullscreenChange:"MSFullscreenChange",requestFullscreen:"msRequestFullscreen",exitFullscreen:"msExitFullscreen"}))}return e.prototype.close=function(){var e=this.chart,t=e.options.chart;this.isOpen&&this.browserProps&&e.container.ownerDocument instanceof Document&&e.container.ownerDocument[this.browserProps.exitFullscreen](),this.unbindFullscreenEvent&&(this.unbindFullscreenEvent=this.unbindFullscreenEvent()),e.setSize(this.origWidth,this.origHeight,!1),this.origHeight=this.origWidth=void 0,t.width=this.origWidthOption,t.height=this.origHeightOption,this.origHeightOption=this.origWidthOption=void 0,this.isOpen=!1,this.setButtonText()},e.prototype.open=function(){var e=this,t=e.chart,s=t.options.chart;if(s&&(e.origWidthOption=s.width,e.origHeightOption=s.height),e.origWidth=t.chartWidth,e.origHeight=t.chartHeight,e.browserProps){var n=i(t.container.ownerDocument,e.browserProps.fullscreenChange,(function(){e.isOpen?(e.isOpen=!1,e.close()):(t.setSize(null,null,!1),e.isOpen=!0,e.setButtonText())})),o=i(t,"destroy",n);e.unbindFullscreenEvent=function(){n(),o()},(s=t.renderTo[e.browserProps.requestFullscreen]())&&s.catch((function(){alert("Full screen is not supported inside a frame.")}))}},e.prototype.setButtonText=function(){var e=this.chart,t=e.exportDivElements,n=e.options.exporting,i=n&&n.buttons&&n.buttons.contextButton.menuItems;e=e.options.lang,n&&n.menuItemDefinitions&&e&&e.exitFullscreen&&e.viewFullscreen&&i&&t&&(t=t[i.indexOf("viewFullscreen")])&&s.setElementHTML(t,this.isOpen?e.exitFullscreen:n.menuItemDefinitions.viewFullscreen.text||e.viewFullscreen)},e.prototype.toggle=function(){this.isOpen?this.close():this.open()},e}(),t.Fullscreen=n,i(e,"beforeRender",(function(){this.fullscreen=new t.Fullscreen(this)})),t.Fullscreen})),t(e,"Core/Chart/ChartNavigationComposition.js",[],(function(){var e;return function(e){e.compose=function(e){return e.navigation||(e.navigation=new t(e)),e};var t=function(){function e(e){this.updates=[],this.chart=e}return e.prototype.addUpdate=function(e){this.chart.navigation.updates.push(e)},e.prototype.update=function(e,t){var s=this;this.updates.forEach((function(n){n.call(s.chart,e,t)}))},e}();e.Additions=t}(e||(e={})),e})),t(e,"Extensions/Exporting/ExportingDefaults.js",[e["Core/Globals.js"]],(function(e){return{exporting:{type:"image/png",url:"https://export.highcharts.com/",printMaxWidth:780,scale:2,buttons:{contextButton:{className:"highcharts-contextbutton",menuClassName:"highcharts-contextmenu",symbol:"menu",titleKey:"contextButtonTitle",menuItems:"viewFullscreen printChart separator downloadPNG downloadJPEG downloadPDF downloadSVG".split(" ")}},menuItemDefinitions:{viewFullscreen:{textKey:"viewFullscreen",onclick:function(){this.fullscreen.toggle()}},printChart:{textKey:"printChart",onclick:function(){this.print()}},separator:{separator:!0},downloadPNG:{textKey:"downloadPNG",onclick:function(){this.exportChart()}},downloadJPEG:{textKey:"downloadJPEG",onclick:function(){this.exportChart({type:"image/jpeg"})}},downloadPDF:{textKey:"downloadPDF",onclick:function(){this.exportChart({type:"application/pdf"})}},downloadSVG:{textKey:"downloadSVG",onclick:function(){this.exportChart({type:"image/svg+xml"})}}}},lang:{viewFullscreen:"View in full screen",exitFullscreen:"Exit from full screen",printChart:"Print chart",downloadPNG:"Download PNG image",downloadJPEG:"Download JPEG image",downloadPDF:"Download PDF document",downloadSVG:"Download SVG vector image",contextButtonTitle:"Chart context menu"},navigation:{buttonOptions:{symbolSize:14,symbolX:12.5,symbolY:10.5,align:"right",buttonSpacing:3,height:22,verticalAlign:"top",width:24,symbolFill:"#666666",symbolStroke:"#666666",symbolStrokeWidth:3,theme:{padding:5}},menuStyle:{border:"1px solid #999999",background:"#ffffff",padding:"5px 0"},menuItemStyle:{padding:"0.5em 1em",color:"#333333",background:"none",fontSize:e.isTouchDevice?"14px":"11px",transition:"background 250ms, color 250ms"},menuItemHoverStyle:{background:"#335cad",color:"#ffffff"}}}})),t(e,"Extensions/Exporting/ExportingSymbols.js",[],(function(){var e;return function(e){function t(e,t,s,n){return[["M",e,t+2.5],["L",e+s,t+2.5],["M",e,t+n/2+.5],["L",e+s,t+n/2+.5],["M",e,t+n-1.5],["L",e+s,t+n-1.5]]}function s(e,t,s,n){return e=n/3-2,(n=[]).concat(this.circle(s-e,t,e,e),this.circle(s-e,t+e+4,e,e),this.circle(s-e,t+2*(e+4),e,e))}var n=[];e.compose=function(e){-1===n.indexOf(e)&&(n.push(e),(e=e.prototype.symbols).menu=t,e.menuball=s.bind(e))}}(e||(e={})),e})),t(e,"Core/HttpUtilities.js",[e["Core/Globals.js"],e["Core/Utilities.js"]],(function(e,t){var s=e.doc,n=t.createElement,i=t.discardElement,o=t.merge,a=t.objectEach,r={ajax:function(e){var t=o(!0,{url:!1,type:"get",dataType:"json",success:!1,error:!1,data:!1,headers:{}},e);e={json:"application/json",xml:"application/xml",text:"text/plain",octet:"application/octet-stream"};var s=new XMLHttpRequest;if(!t.url)return!1;s.open(t.type.toUpperCase(),t.url,!0),t.headers["Content-Type"]||s.setRequestHeader("Content-Type",e[t.dataType]||e.text),a(t.headers,(function(e,t){s.setRequestHeader(t,e)})),s.onreadystatechange=function(){if(4===s.readyState){if(200===s.status){var e=s.responseText;if("json"===t.dataType)try{e=JSON.parse(e)}catch(n){return void(t.error&&t.error(s,n))}return t.success&&t.success(e)}t.error&&t.error(s,s.responseText)}};try{t.data=JSON.stringify(t.data)}catch(n){}s.send(t.data||!0)},getJSON:function(e,t){r.ajax({url:e,success:t,dataType:"json",headers:{"Content-Type":"text/plain"}})},post:function(e,t,r){var l=n("form",o({method:"post",action:e,enctype:"multipart/form-data"},r),{display:"none"},s.body);a(t,(function(e,t){n("input",{type:"hidden",name:t,value:e},null,l)})),l.submit(),i(l)}};return r})),t(e,"Extensions/Exporting/Exporting.js",[e["Core/Renderer/HTML/AST.js"],e["Core/Chart/Chart.js"],e["Core/Chart/ChartNavigationComposition.js"],e["Core/DefaultOptions.js"],e["Extensions/Exporting/ExportingDefaults.js"],e["Extensions/Exporting/ExportingSymbols.js"],e["Core/Globals.js"],e["Core/HttpUtilities.js"],e["Core/Utilities.js"]],(function(e,t,s,n,i,o,a,r,l){t=n.defaultOptions;var d,c=a.doc,h=a.win,u=l.addEvent,p=l.css,m=l.createElement,x=l.discardElement,g=l.extend,v=l.find,b=l.fireEvent,y=l.isObject,f=l.merge,w=l.objectEach,j=l.pick,C=l.removeEvent,k=l.uniqueKey;return function(t){function n(e){var t=this,s=t.renderer,n=f(t.options.navigation.buttonOptions,e),i=n.onclick,o=n.menuItems,a=n.symbolSize||12;if(t.btnCount||(t.btnCount=0),t.exportDivElements||(t.exportDivElements=[],t.exportSVGElements=[]),!1!==n.enabled&&n.theme){var r,l=n.theme,d=l.states,c=d&&d.hover;d=d&&d.select,t.styledMode||(l.fill=j(l.fill,"#ffffff"),l.stroke=j(l.stroke,"none")),delete l.states,i?r=function(e){e&&e.stopPropagation(),i.call(t,e)}:o&&(r=function(e){e&&e.stopPropagation(),t.contextMenu(h.menuClassName,o,h.translateX,h.translateY,h.width,h.height,h),h.setState(2)}),n.text&&n.symbol?l.paddingLeft=j(l.paddingLeft,30):n.text||g(l,{width:n.width,height:n.height,padding:0}),t.styledMode||(l["stroke-linecap"]="round",l.fill=j(l.fill,"#ffffff"),l.stroke=j(l.stroke,"none"));var h=s.button(n.text,0,0,r,l,c,d).addClass(e.className).attr({title:j(t.options.lang[n._titleKey||n.titleKey],"")});if(h.menuClassName=e.menuClassName||"highcharts-menu-"+t.btnCount++,n.symbol){var u=s.symbol(n.symbol,n.symbolX-a/2,n.symbolY-a/2,a,a,{width:a,height:a}).addClass("highcharts-button-symbol").attr({zIndex:1}).add(h);t.styledMode||u.attr({stroke:n.symbolStroke,fill:n.symbolFill,"stroke-width":n.symbolStrokeWidth||1})}h.add(t.exportingGroup).align(g(n,{width:h.width,x:j(n.x,t.buttonOffset)}),!0,"spacingBox"),t.buttonOffset+=(h.width+n.buttonSpacing)*("right"===n.align?-1:1),t.exportSVGElements.push(h,u)}}function i(){if(this.printReverseInfo){var e=this.printReverseInfo,t=e.childNodes,s=e.origDisplay;e=e.resetParams,this.moveContainers(this.renderTo),[].forEach.call(t,(function(e,t){1===e.nodeType&&(e.style.display=s[t]||"")})),this.isPrinting=!1,e&&this.setSize.apply(this,e),delete this.printReverseInfo,R=void 0,b(this,"afterPrint")}}function d(){var e=c.body,t=this.options.exporting.printMaxWidth,s={childNodes:e.childNodes,origDisplay:[],resetParams:void 0};this.isPrinting=!0,this.pointer.reset(null,0),b(this,"beforePrint"),t&&this.chartWidth>t&&(s.resetParams=[this.options.chart.width,void 0,!1],this.setSize(t,void 0,!1)),[].forEach.call(s.childNodes,(function(e,t){1===e.nodeType&&(s.origDisplay[t]=e.style.display,e.style.display="none")})),this.moveContainers(e),this.printReverseInfo=s}function S(e){e.renderExporting(),u(e,"redraw",e.renderExporting),u(e,"destroy",e.destroyExport)}function N(t,s,n,i,o,a,r){var d=this,x=d.options.navigation,v=d.chartWidth,f=d.chartHeight,w="cache-"+t,j=Math.max(o,a),C=d[w];if(!C){d.exportContextMenu=d[w]=C=m("div",{className:t},{position:"absolute",zIndex:1e3,padding:j+"px",pointerEvents:"auto"},d.fixedDiv||d.container);var k=m("ul",{className:"highcharts-menu"},{listStyle:"none",margin:0,padding:0},C);d.styledMode||p(k,g({MozBoxShadow:"3px 3px 10px #888",WebkitBoxShadow:"3px 3px 10px #888",boxShadow:"3px 3px 10px #888"},x.menuStyle)),C.hideMenu=function(){p(C,{display:"none"}),r&&r.setState(0),d.openMenu=!1,p(d.renderTo,{overflow:"hidden"}),p(d.container,{overflow:"hidden"}),l.clearTimeout(C.hideTimer),b(d,"exportMenuHidden")},d.exportEvents.push(u(C,"mouseleave",(function(){C.hideTimer=h.setTimeout(C.hideMenu,500)})),u(C,"mouseenter",(function(){l.clearTimeout(C.hideTimer)})),u(c,"mouseup",(function(e){d.pointer.inClass(e.target,t)||C.hideMenu()})),u(C,"click",(function(){d.openMenu&&C.hideMenu()}))),s.forEach((function(t){if("string"==typeof t&&(t=d.options.exporting.menuItemDefinitions[t]),y(t,!0)){var s=void 0;t.separator?s=m("hr",void 0,void 0,k):("viewData"===t.textKey&&d.isDataTableVisible&&(t.textKey="hideData"),s=m("li",{className:"highcharts-menu-item",onclick:function(e){e&&e.stopPropagation(),C.hideMenu(),t.onclick&&t.onclick.apply(d,arguments)}},void 0,k),e.setElementHTML(s,t.text||d.options.lang[t.textKey]),d.styledMode||(s.onmouseover=function(){p(this,x.menuItemHoverStyle)},s.onmouseout=function(){p(this,x.menuItemStyle)},p(s,g({cursor:"pointer"},x.menuItemStyle)))),d.exportDivElements.push(s)}})),d.exportDivElements.push(k,C),d.exportMenuWidth=C.offsetWidth,d.exportMenuHeight=C.offsetHeight}s={display:"block"},n+d.exportMenuWidth>v?s.right=v-n-o-j+"px":s.left=n-j+"px",i+a+d.exportMenuHeight>f&&"top"!==r.alignOptions.verticalAlign?s.bottom=f-i-j+"px":s.top=i+a-j+"px",p(C,s),p(d.renderTo,{overflow:""}),p(d.container,{overflow:""}),d.openMenu=!0,b(d,"exportMenuShown")}function D(e){var t,s=e?e.target:this,n=s.exportSVGElements,i=s.exportDivElements;e=s.exportEvents,n&&(n.forEach((function(e,i){e&&(e.onclick=e.ontouchstart=null,t="cache-"+e.menuClassName,s[t]&&delete s[t],n[i]=e.destroy())})),n.length=0),s.exportingGroup&&(s.exportingGroup.destroy(),delete s.exportingGroup),i&&(i.forEach((function(e,t){e&&(l.clearTimeout(e.hideTimer),C(e,"mouseleave"),i[t]=e.onmouseout=e.onmouseover=e.ontouchstart=e.onclick=null,x(e))})),i.length=0),e&&(e.forEach((function(e){e()})),e.length=0)}function W(e,t){t=this.getSVGForExport(e,t),e=f(this.options.exporting,e),r.post(e.url,{filename:e.filename?e.filename.replace(/\//g,"-"):this.getFilename(),type:e.type,width:e.width||0,scale:e.scale,svg:t},e.formAttributes)}function F(){return this.styledMode&&this.inlineStyles(),this.container.innerHTML}function L(){var e=this.userOptions.title&&this.userOptions.title.text,t=this.options.exporting.filename;return t?t.replace(/\//g,"-"):("string"==typeof e&&(t=e.toLowerCase().replace(/<\/?[^>]+(>|$)/g,"").replace(/[\s_]+/g,"-").replace(/[^a-z0-9\-]/g,"").replace(/^[\-]+/g,"").replace(/[\-]+/g,"-").substr(0,24).replace(/[\-]+$/g,"")),(!t||5>t.length)&&(t="chart"),t)}function I(e){var t,s=f(this.options,e);s.plotOptions=f(this.userOptions.plotOptions,e&&e.plotOptions),s.time=f(this.userOptions.time,e&&e.time);var n=m("div",null,{position:"absolute",top:"-9999em",width:this.chartWidth+"px",height:this.chartHeight+"px"},c.body),i=this.renderTo.style.width,o=this.renderTo.style.height;i=s.exporting.sourceWidth||s.chart.width||/px$/.test(i)&&parseInt(i,10)||(s.isGantt?800:600),o=s.exporting.sourceHeight||s.chart.height||/px$/.test(o)&&parseInt(o,10)||400,g(s.chart,{animation:!1,renderTo:n,forExport:!0,renderer:"SVGRenderer",width:i,height:o}),s.exporting.enabled=!1,delete s.data,s.series=[],this.series.forEach((function(e){(t=f(e.userOptions,{animation:!1,enableMouseTracking:!1,showCheckbox:!1,visible:e.visible})).isInternal||s.series.push(t)}));var a={};this.axes.forEach((function(e){e.userOptions.internalKey||(e.userOptions.internalKey=k()),e.options.isInternal||(a[e.coll]||(a[e.coll]=!0,s[e.coll]=[]),s[e.coll].push(f(e.userOptions,{visible:e.visible})))}));var r=new this.constructor(s,this.callback);return e&&["xAxis","yAxis","series"].forEach((function(t){var s={};e[t]&&(s[t]=e[t],r.update(s))})),this.axes.forEach((function(e){var t=v(r.axes,(function(t){return t.options.internalKey===e.userOptions.internalKey})),s=e.getExtremes(),n=s.userMin;s=s.userMax,t&&(void 0!==n&&n!==t.min||void 0!==s&&s!==t.max)&&t.setExtremes(n,s,!0,!1)})),o=r.getChartHTML(),b(this,"getSVG",{chartCopy:r}),o=this.sanitizeSVG(o,s),s=null,r.destroy(),x(n),o}function U(e,t){var s=this.options.exporting;return this.getSVG(f({chart:{borderRadius:0}},s.chartOptions,t,{exporting:{sourceWidth:e&&e.sourceWidth||s.sourceWidth,sourceHeight:e&&e.sourceHeight||s.sourceHeight}}))}function E(e){return e.replace(/([A-Z])/g,(function(e,t){return"-"+t.toLowerCase()}))}function P(){var e,s=H,n=t.inlineWhitelist,i={},o=c.createElement("iframe");p(o,{width:"1px",height:"1px",visibility:"hidden"}),c.body.appendChild(o);var r=o.contentWindow.document;r.open(),r.write('<svg xmlns="http://www.w3.org/2000/svg"></svg>'),r.close(),function t(o){function l(e,t){if(d=c=!1,n.length){for(u=n.length;u--&&!c;)c=n[u].test(t);d=!c}for("transform"===t&&"none"===e&&(d=!0),u=s.length;u--&&!d;)d=s[u].test(t)||"function"==typeof e;d||x[t]===e&&"svg"!==o.nodeName||i[o.nodeName][t]===e||(B&&-1===B.indexOf(t)?p+=E(t)+":"+e+";":e&&o.setAttribute(E(t),e))}var d,c,u,p="";if(1===o.nodeType&&-1===G.indexOf(o.nodeName)){var m=h.getComputedStyle(o,null),x="svg"===o.nodeName?{}:h.getComputedStyle(o.parentNode,null);if(!i[o.nodeName]){e=r.getElementsByTagName("svg")[0];var g=r.createElementNS(o.namespaceURI,o.nodeName);e.appendChild(g),i[o.nodeName]=f(h.getComputedStyle(g,null)),"text"===o.nodeName&&delete i.text.fill,e.removeChild(g)}if(a.isFirefox||a.isMS)for(var v in m)l(m[v],v);else w(m,l);p&&(m=o.getAttribute("style"),o.setAttribute("style",(m?m+";":"")+p)),"svg"===o.nodeName&&o.setAttribute("stroke-width","1px"),"text"!==o.nodeName&&[].forEach.call(o.children||o.childNodes,t)}}(this.container.querySelector("svg")),e.parentNode.removeChild(e),o.parentNode.removeChild(o)}function T(e){(this.fixedDiv?[this.fixedDiv,this.scrollingContainer]:[this.container]).forEach((function(t){e.appendChild(t)}))}function M(){var e=this;e.exporting={update:function(t,s){e.isDirtyExporting=!0,f(!0,e.options.exporting,t),j(s,!0)&&e.redraw()}},s.compose(e).navigation.addUpdate((function(t,s){e.isDirtyExporting=!0,f(!0,e.options.navigation,t),j(s,!0)&&e.redraw()}))}function A(){var e=this;e.isPrinting||(R=e,a.isSafari||e.beforePrint(),setTimeout((function(){h.focus(),h.print(),a.isSafari||setTimeout((function(){e.afterPrint()}),1e3)}),1))}function _(){var e=this,t=e.options.exporting,s=t.buttons,n=e.isDirtyExporting||!e.exportSVGElements;e.buttonOffset=0,e.isDirtyExporting&&e.destroyExport(),n&&!1!==t.enabled&&(e.exportEvents=[],e.exportingGroup=e.exportingGroup||e.renderer.g("exporting-group").attr({zIndex:3}).add(),w(s,(function(t){e.addButton(t)})),e.isDirtyExporting=!1)}function O(e,t){var s=e.indexOf("</svg>")+6,n=e.substr(s);return e=e.substr(0,s),t&&t.exporting&&t.exporting.allowHTML&&n&&(n='<foreignObject x="0" y="0" width="'+t.chart.width+'" height="'+t.chart.height+'"><body xmlns="http://www.w3.org/1999/xhtml">'+n.replace(/(<(?:img|br).*?(?=>))>/g,"$1 />")+"</body></foreignObject>",e=e.replace("</svg>",n+"</svg>")),e=e.replace(/zIndex="[^"]+"/g,"").replace(/symbolName="[^"]+"/g,"").replace(/jQuery[0-9]+="[^"]+"/g,"").replace(/url\(("|&quot;)(.*?)("|&quot;);?\)/g,"url($2)").replace(/url\([^#]+#/g,"url(#").replace(/<svg /,'<svg xmlns:xlink="http://www.w3.org/1999/xlink" ').replace(/ (|NS[0-9]+:)href=/g," xlink:href=").replace(/\n/," ").replace(/(fill|stroke)="rgba\(([ 0-9]+,[ 0-9]+,[ 0-9]+),([ 0-9\.]+)\)"/g,'$1="rgb($2)" $1-opacity="$3"').replace(/&nbsp;/g," ").replace(/&shy;/g,"­"),this.ieSanitizeSVG&&(e=this.ieSanitizeSVG(e)),e}var V=[],H=[/-/,/^(clipPath|cssText|d|height|width)$/,/^font$/,/[lL]ogical(Width|Height)$/,/perspective/,/TapHighlightColor/,/^transition/,/^length$/],B="fill stroke strokeLinecap strokeLinejoin strokeWidth textAnchor x y".split(" ");t.inlineWhitelist=[];var R,G=["clipPath","defs","desc"];t.compose=function(e,t){o.compose(t),-1===V.indexOf(e)&&(V.push(e),(t=e.prototype).afterPrint=i,t.exportChart=W,t.inlineStyles=P,t.print=A,t.sanitizeSVG=O,t.getChartHTML=F,t.getSVG=I,t.getSVGForExport=U,t.getFilename=L,t.moveContainers=T,t.beforePrint=d,t.contextMenu=N,t.addButton=n,t.destroyExport=D,t.renderExporting=_,t.callbacks.push(S),u(e,"init",M),a.isSafari&&a.win.matchMedia("print").addListener((function(e){R&&(e.matches?R.beforePrint():R.afterPrint())})))}}(d||(d={})),t.exporting=f(i.exporting,t.exporting),t.lang=f(i.lang,t.lang),t.navigation=f(i.navigation,t.navigation),d})),t(e,"masters/modules/exporting.src.js",[e["Core/Globals.js"],e["Extensions/Exporting/Exporting.js"],e["Core/HttpUtilities.js"]],(function(e,t,s){e.HttpUtilities=s,e.ajax=s.ajax,e.getJSON=s.getJSON,e.post=s.post,t.compose(e.Chart,e.Renderer)}))},(Ne=We).exports?(De.default=De,Ne.exports=De):De("undefined"!=typeof Highcharts?Highcharts:void 0);const Fe=n(We.exports);l(r),"object"==typeof r&&Fe(r);let Le=new Map;class Ie extends i.Component{constructor(){super(...arguments),t(this,"state",{noData:!1,sankeyEnabled:!0,sankeyPortletFullView:!1,retentionFullView:!1,productAnalyticsFullView:!1,tabDeviceIndex:0,tabDaysIndex:0,pathAnalyserDropdown:["3 levels","4 levels","5 levels"],PathAnalyzerLevel:"5 levels",trafficBreakDownWebChart:null,keyMetrics:{sessions:0,pageViews:0,avgTimeSpent:0,avgScreenPerSession:0},activeUsers:{dau:0,wau:0,mau:0,activeUsers:0},sankeyChart:{},audienceTypesWebChart:null,audienceConversionWebChart:null,retentionType:"Known",retentionunknownWeb:[],retentionknownWeb:[],visitorChart:!1,retentionidentifieWeb:[],topPageViews:[],allPageViews:[],isShowAllPageViews:null,topConversionEvents:[],productInterestList:null,productInterestErr:!1,byDeviceChart:{},byBrowserChart:{},byDaysChart:{},TotalWebsiteVisitors:0,liveUsersCount:0,usage_by_hour_web:"",domainName:{key:"utimf.com"},filterLevel:{},isPathAnalyserSkeleton:!0,isProductInterestSkeleton:!0,isShowSkeleton:!0,isDrilldown:!1,finalArry:[],wLiveUserData:null,newCount:0,webLiveUsers:[],progressivaWebData:null,isShowRetention:!1,activeWebVisitor:0}),t(this,"componentDidMount",(()=>{var e,t,s,n,i,o,a,r,l;if(v("componentDidMount",null==(e=this.props)?void 0:e.selectedData),(null==(s=null==(t=this.props)?void 0:t.selectedData)?void 0:s.domainId)&&(null==(i=null==(n=this.props)?void 0:n.selectedData)?void 0:i.domainUrl)){this.loadLiveUserData();const e=b().clientDetailsLocalization.tenantId;this.getData(e,null==(a=null==(o=this.props)?void 0:o.selectedData)?void 0:a.domainUrl),this.getActiveInstallation(e,null==(l=null==(r=this.props)?void 0:r.selectedData)?void 0:l.domainUrl)}else this.setState({isShowSkeleton:!1})})),t(this,"componentDidUpdate",((e,t)=>{var s,n,i,o,a,r,l,d,c;if(e!==this.props&&(v("componentDidMount",null==(s=this.props)?void 0:s.selectedData),(null==(i=null==(n=this.props)?void 0:n.selectedData)?void 0:i.domainId)&&(null==(a=null==(o=this.props)?void 0:o.selectedData)?void 0:a.domainUrl))){this.loadLiveUserData();const e=b().clientDetailsLocalization.tenantId;this.getData(e,null==(l=null==(r=this.props)?void 0:r.selectedData)?void 0:l.domainUrl),this.getActiveInstallation(e,null==(c=null==(d=this.props)?void 0:d.selectedData)?void 0:c.domainUrl)}})),t(this,"getActiveInstallation",((e,t)=>{let s=y();fetch(s+f,{method:"post",body:JSON.stringify({tenantId:e,domainName:t})}).then((e=>e.json())).then((e=>{this.setState({activeWebVisitor:e.webpushcount||0})})).catch((e=>{this.setState({activeWebVisitor:0})}))})),t(this,"getProgressiveProfileServerData",((e,t)=>{let s=y();const n={tenantId:e,domainName:t};fetch(`${s}${w}`,{method:"post",body:JSON.stringify(n)}).then((e=>e.json())).then((e=>{this.setState({progressivaWebData:e})})).catch((e=>{this.setState({progressivaWebData:null})}))})),t(this,"loadLiveUserData",(()=>{var e,t;this.setState({newCount:0});let s=null==(t=null==(e=this.props)?void 0:e.selectedData)?void 0:t.domainUrl,n=new URL(s).hostname;n.includes("www.")&&(n=n.replace("www.",""));const i=window.io.connect("https://websoc.resu.io",{transports:["websocket"],reconnection:!0});i.on("connect",(()=>{})),i.on(n,(e=>{var t;t=e,Le.set(t.socketId,t),o(Le)})),i.emit("livedashboard",{domainName:""+n}),Le.clear(),i.on("UserDisconnected",(e=>{Le.delete(e),o(Le)})),i.on("disconnect",(()=>{}));const o=e=>{var t=new Map;for(let[s,n]of e)n.domainName==this.props.selectedData.domainName&&t.set(n.profileId,n);this.setState({newCount:e.size})}})),t(this,"sortObject",(e=>{var t;return null==(t=Object.keys(e).sort())?void 0:t.reduce(((t,s)=>(t[s]=e[s],t)),{})})),t(this,"DropDownFilter",(({filterLevel:e})=>s.jsx(Ce,{className:"sankey-filter",children:s.jsx(g,{data:Me,defaultItem:"-- Select type --",static:!0})}))),t(this,"webgeneralFormat",(e=>parseInt(e).toString().replace(/\B(?=(\d{3})+(?!\d))/g,","))),t(this,"indianFormatNumber",(e=>parseInt(e).toString().replace(/(\d)(?=(\d\d)+\d$)/g,"$1,"))),t(this,"getData",((e,t)=>{var s,n;let i=null==(n=null==(s=this.props)?void 0:s.selectedData)?void 0:n.domainUrl,o=new URL(i).hostname;o.includes("www.")&&(o=o.replace("www.",""));let a=y();a+=I,this.setState({isShowSkeleton:!0}),fetch(a,{method:"post",body:JSON.stringify({tenantId:e,domainName:o})}).then((e=>e.json())).then((e=>{var t,s,n,i,o,a,l,d,c,u,p;const m=e;if(this.setState({wLiveUserData:e,isShowSkeleton:!1}),r.setOptions({lang:{thousandsSep:","}}),(null==(t=null==m?void 0:m.websiteVisitorsList)?void 0:t.length)&&this.setState({isShowSkeleton:!1,TotalWebsiteVisitors:(null==(s=null==m?void 0:m.websiteVisitorsList[0])?void 0:s.totalWebsiteVisitors)||0}),null==m?void 0:m.dayWiseCounts){let e=[],t=[],s=[],n=[],i=[],o=[],a=[...m.dayWiseCounts].splice(-7);for(var x=0;x<a.length;x++)o.push(a[x].date.split(" ")[0]),e.push(a[x].directTraffic||0),t.push(a[x].referringLinks||0),s.push(a[x].socialNetworks||0),n.push(a[x].organicSearch||0),i.push(a[x].others||0);const l=[{name:"Direct traffic",color:$,marker:{lineColor:$,fillColor:"white",symbol:"circle"},data:e.map((e=>Number(e))),legendIndex:0,fillColor:{linearGradient:{x1:0,x2:0,y1:0,y2:1},stops:[[0,`${$+40}`],[1,"rgb(64 171 175 / 0%)"]]}},{name:"Referring links",color:K,marker:{lineColor:K,fillColor:"white",symbol:"circle"},data:t.map((e=>Number(e))),legendIndex:1,fillColor:{linearGradient:{x1:0,x2:0,y1:0,y2:1},stops:[[0,`${K+40}`],[1,"rgb(64 171 175 / 0%)"]]}},{name:"Social networks",color:q,marker:{lineColor:q,fillColor:"white",symbol:"circle"},data:s.map((e=>Number(e))),legendIndex:2,fillColor:{linearGradient:{x1:0,x2:0,y1:0,y2:1},stops:[[0,`${q+40}`],[1,"rgb(64 171 175 / 0%)"]]}},{name:"Organic search",color:J,marker:{lineColor:J,fillColor:"white",symbol:"circle"},data:n.map((e=>Number(e))),legendIndex:3,fillColor:{linearGradient:{x1:0,x2:0,y1:0,y2:1},stops:[[0,`${J+40}`],[1,"rgb(64 171 175 / 0%)"]]}},{name:"Others",color:Y,marker:{lineColor:Y,fillColor:"white",symbol:"circle"},data:i.map((e=>Number(e))),legendIndex:4,fillColor:{linearGradient:{x1:0,x2:0,y1:0,y2:1},stops:[[0,`${Y+40}`],[1,"rgb(64 171 175 / 0%)"]]}}];this.setState({trafficBreakDownWebChart:{chart:{type:"areaspline",className:"chart-line-animate x-axis-labels-performance-del"},xAxis:{title:{text:"Date"},categories:j(null==o?void 0:o.length,!0,!0)},yAxis:{title:{text:"Count"},dataLabels:{formatter:function(){return this.y>1e6?r.numberFormat(this.y/1e3,3)+"M":this.y>1e3?r.numberFormat(this.y/1e3,3)+"K":this.y}}},series:l}})}if(m.screenWiseCountList&&m.screenWiseCountList.length){let e=m.screenWiseCountList[0].avgTimeSpent.split(":");this.setState({keyMetrics:{sessions:m.screenWiseCountList[0].sessions.length?this.webgeneralFormat(m.screenWiseCountList[0].sessions):0,pageViews:m.screenWiseCountList[0].pageViews.length?this.webgeneralFormat(m.screenWiseCountList[0].pageViews):0,avgScreenPerSession:m.screenWiseCountList[0].avgPageBySession.length?this.webgeneralFormat(m.screenWiseCountList[0].avgPageBySession):0,avgTimeSpent:("00"==e[0]?0:(e[0]||0)+"h ")+("00"==e[1]?0:(e[1]||0)+"m ")+("00"==e[2]?0:(e[2]||0)+"s")}})}if(m.userDevices&&m.userDevices.length){let e=m.userDevices[0];this.setState({activeUsers:{dau:this.webgeneralFormat(e.dau),wau:this.webgeneralFormat(e.wau),mau:this.webgeneralFormat(e.mau),activeUsers:this.webgeneralFormat(e.activeUsers)}})}if(m.knownUserWeb&&m.knownUserWeb.length){let e=m.knownUserWeb[0].unKnownCount+m.knownUserWeb[0].knownUsersCount+m.knownUserWeb[0].identifiedUsersCount;0===e?this.setState({knownUserWeb:null}):(r.setOptions({lang:{thousandsSep:","}}),this.setState({audienceTypesWebChart:{chart:{type:"pie"},legend:{itemMarginTop:15,itemMarginBottom:0},tooltip:{pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.count}</b>'},series:[{name:"Total",showInLegend:!0,borderWidth:2,height:"100%",innerSize:"50%",size:"100%",data:[{name:"Unknown",color:U,count:C(m.knownUserWeb[0].unKnownCount),y:Number((m.knownUserWeb[0].unKnownCount/e*100).toFixed(2))},{name:"Known",color:E,count:C(m.knownUserWeb[0].knownUsersCount),y:Number((m.knownUserWeb[0].knownUsersCount/e*100).toFixed(2))},{name:"Identified",color:P,count:C(m.knownUserWeb[0].identifiedUsersCount),y:Number((m.knownUserWeb[0].identifiedUsersCount/e*100).toFixed(2))}].map((e=>({name:e.name,y:e.y,color:e.color,count:e.count}))),shadow:!1,dataLabels:{enabled:!0,connectorShape:"crookedLine",crookDistance:"100%",softConnector:!1}},{borderWidth:0,innerSize:"89%",size:"53%",data:[{color:"rgba(0, 0, 0, 0.15)",y:100}],shadow:!1,showInLegend:!1,enableMouseTracking:!1,dataLabels:{enabled:!1}}]}}))}if(m.audienceConversionWeb&&m.audienceConversionWeb.length&&(0===m.audienceConversionWeb[0].unknown+m.audienceConversionWeb[0].known+m.audienceConversionWeb[0].identified+m.audienceConversionWeb[0].converted?this.setState({audienceConversionWebChart:null}):this.setState({audienceConversionWebChart:{chart:{type:"pyramid"},title:{text:"",x:-50},credits:{enabled:!1},tooltip:{pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b><br/>'},plotOptions:{series:{dataLabels:{enabled:!0,formatter:function(){return this.point.name},color:"#333",style:{color:T,fontSize:h,fontWeight:"normal"}},center:["40%","50%"],width:"60%",height:"90%"},pyramid:{reversed:!1}},legend:{enabled:!1},series:[{name:"Value",borderWidth:5,data:[{name:"Unknown",y:m.audienceConversionWeb[0].unknown,color:U},{name:"Known",y:m.audienceConversionWeb[0].known,color:E},{name:"Identified",y:m.audienceConversionWeb[0].identified,color:P},{name:"Converted",y:m.audienceConversionWeb[0].converted,color:M}]}],responsive:{rules:[{condition:{maxWidth:400},chartOptions:{plotOptions:{series:{strokeWidth:10,dataLabels:{inside:!0},center:["50%","50%"],width:"100%"}}}}]}}})),(null==(n=null==m?void 0:m.retentionknownWeb)?void 0:n.length)&&this.setState({retentionunknownWeb:null==(i=null==m?void 0:m.retentionunknownWeb)?void 0:i.reverse(),retentionknownWeb:null==(o=null==m?void 0:m.retentionknownWeb)?void 0:o.reverse(),retentionidentifieWeb:null==(a=null==m?void 0:m.retentionidentifieWeb)?void 0:a.reverse(),isShowRetention:null==m?void 0:m.retentionunknownWeb}),(null==m?void 0:m.userScreens)&&(null==(l=null==m?void 0:m.userScreens)?void 0:l.length)){let e=k(null==m?void 0:m.userScreens);this.setState({topPageViews:(null==e?void 0:e.length)>5?null==(d=[...e])?void 0:d.splice(0,5):e,allPageViews:[...e],isShowAllPageViews:(null==e?void 0:e.length)>5||null})}if(m.eventCountWebList&&m.eventCountWebList.length>5?(m.eventCountWebList.map(((e,t)=>{})),this.setState({topConversionEvents:m.eventCountWebList.slice(0,5),allEvents:m.eventCountWebList,isShowAllEvent:m.eventCountWebList.length>5||null})):this.setState({topConversionEvents:m.eventCountWebList,allEvents:m.eventCountWebList,isShowAllEvent:m.eventCountWebList.length>5||null}),m.webWiseCountCustList&&m.webWiseCountCustList.length){const e=[X,Q,Z,ee,te],t=null==(c=m.webWiseCountCustList)?void 0:c.reduce(((e,t)=>e+t.deviceWiseCount),0);this.setState({byDeviceChart:{chart:{type:"pie"},legend:{itemMarginTop:15,itemMarginBottom:0},tooltip:{pointFormat:'<span style="color:{point.color}">●</span> {series.name}: <b>{point.y}</b>'},plotOptions:{pie:{startAngle:-90}},series:[{name:"Total",showInLegend:!0,borderWidth:2,height:"100%",innerSize:"50%",size:"100%",data:m.webWiseCountCustList.map(((s,n)=>({name:s.deviceType,color:e[n],y:s.deviceWiseCount,count:(s.DeviceWiseCount/t*100).toFixed(2)}))),shadow:!1,dataLabels:{enabled:!0,connectorShape:"crookedLine",crookDistance:"100%",softConnector:!1,formatter:function(){return(this.point.y/t*100).toFixed(2)+"%"}}},{borderWidth:0,innerSize:"89%",size:"53%",data:[{color:"rgba(0, 0, 0, 0.15)",y:100}],shadow:!1,showInLegend:!1,enableMouseTracking:!1,dataLabels:{enabled:!1}}]}})}if(m.webVersionList&&m.webVersionList.length){const e=null==(u=m.webVersionList)?void 0:u.reduce(((e,t)=>e+t.browserWiseCount),0),t=[se,K,ne,ie,Y];this.setState({byBrowserChart:{chart:{type:"pie"},legend:{itemMarginTop:15,itemMarginBottom:0},plotOptions:{pie:{startAngle:-90}},series:[{name:"Total",showInLegend:!0,borderWidth:2,height:"100%",innerSize:"50%",size:"100%",data:m.webVersionList.map(((s,n)=>({name:s.browsername,color:t[n],y:s.browserWiseCount,count:(s.browserWiseCount/e*100).toFixed(2),legendIndex:n}))),shadow:!1,dataLabels:{enabled:!0,connectorShape:"crookedLine",crookDistance:"100%",softConnector:!1,formatter:function(){return this.point.count+"%"}}},{borderWidth:0,innerSize:"89%",size:"53%",data:[{color:"rgba(0, 0, 0, 0.15)",y:100}],shadow:!1,showInLegend:!1,enableMouseTracking:!1,dataLabels:{enabled:!1}}]}})}if(m.byDaysCountWeb&&m.byDaysCountWeb.length){const e=null==(p=m.byDaysCountWeb)?void 0:p.reduce(((e,t)=>e+Number(t.dayWiseCount)),0),t=[...m.byDaysCountWeb],s=JSON.parse(JSON.stringify(t)).sort(((e,t)=>Number(t.dayWiseCount)-Number(e.dayWiseCount)));let n=[];["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map((e=>{var t;null==(t=m.byDaysCountWeb)||t.map((t=>{t.dayName.includes(e)&&n.push(t)}))})),this.setState({byDaysPeakDay:s[0].dayName,byDaysPeakValue:(Number(s[0].dayWiseCount)/e*100).toFixed(2),byDaysChart:{chart:{type:"column"},xAxis:{title:{text:""},categories:null==n?void 0:n.map((e=>e.dayName)),tickInterval:1},plotOptions:{column:{stacking:!1,colorByPoint:!0}},colors:n.map((e=>_e[e.dayName.toLowerCase()])),tooltip:{formatter:function(){return`<span>${this.x}</span><br><span style="color:${this.points[0].color}">●</span> Value: <span>${this.y}%</span>`}},yAxis:{title:{text:""},labels:{formatter:function(){return this.axis.defaultLabelFormatter.call(this)+"%"}}},series:[{showInLegend:!1,name:"Communication period",pointWidth:27,data:n.map((t=>({y:Number((Number(t.dayWiseCount)/e*100).toFixed(1)),visitors:Number(t.dayWiseCount)}))),legendIndex:0,states:{inactive:{opacity:1},hover:{enabled:!1}}}]}})}if(m.hourWiseCounts&&m.hourWiseCounts.length){let e=0,t=[];m.hourWiseCounts.forEach((t=>{e+=Number(t.hourWiseCount)}));const s=m.hourWiseCounts.sort(((e,t)=>Number(t.hourWiseCount)-Number(e.hourWiseCount)));t=s.map(((e,t)=>{if(t<4)return e})).filter(Boolean),t.forEach((e=>e.createdDate=new Date((e.createdDate||new Date)+" CDT").toLocaleString().replace(/,/g,"")));const n=t,i=null==n?void 0:n.reduce(((e,t)=>e+Number(t.hourWiseCount)),0),o=n[0],a=n[0];let r=0;n.forEach((e=>{r+=Number(e.hourWiseCount)}));let l=`of the visitors engage during ${o.hour-1>=12?o.hour-1-12==0?"12 PM":o.hour-1-12+" PM":o.hour-1==0?"12 AM":o.hour-1+" AM"} to ${a.hour>=12?a.hour-12==0?"12 PM":a.hour-12+" PM":0===a.hour?"12 AM":a.hour+" AM"}`;var g=new Date(n[0].createdDate);g.setHours(g.getHours()-1),new Date(n[0].createdDate);var v=new Date;v.setHours(Number(n[0].hour)-1),v=v.getHours();var b=new Date;b.setHours(Number(n[0].hour));let d={chart:{type:"gauge",plotBackgroundColor:null,plotBackgroundImage:null,plotBorderWidth:0,plotShadow:!1,backgroundColor:null},title:{text:null},credits:{enabled:!1},plotOptions:{gauge:{pivot:{radius:0},dial:{radius:"118%",topWidth:18,baseWidth:1,rearLength:"-93%",baseLength:"93%",backgroundColor:"#0c8aff"}}},pane:{startAngle:0,endAngle:360,size:"80%",innerSize:"50%",background:[{backgroundColor:{linearGradient:{x1:0,y1:1,x2:0,y2:1},stops:[[0,"#FFF"],[1,"#FFF"]]},borderWidth:1,outerRadius:"0%"},{borderColor:"transparent"}]},yAxis:{min:0,max:24,minorTickInterval:"3",minorTickWidth:1,minorTickLength:10,minorTickPosition:"inside",minorTickColor:"#ccc",tickPixelInterval:30,tickWidth:2,tickPosition:"inside",tickLength:10,tickColor:"#ccc",labels:{step:3,rotation:"90",style:{"font-size":"14px"}},title:{text:""},plotBands:[{from:0,to:24,color:"#e8e8ea",outerRadius:"105%",thickness:"4%"}]},tooltip:{enabled:!1},series:[{name:"24 Hour",data:[v,b=b.getHours()],tooltip:{valueSuffix:""}}]};try{let e=new Date;e.setHours(Number(n[0].hour)-1),e=e.getHours();let t=new Date;t.setHours(Number(n[0].hour)),t=t.getHours(),d.yAxis.plotBands.push({from:e,to:t,color:"#66ab37",outerRadius:"105%",thickness:"4%"})}catch(y){}try{let e=new Date;e.setHours(Number(n[1].hour)-1),e=e.getHours();let t=new Date;t.setHours(Number(n[1].hour)),t=t.getHours(),d.yAxis.plotBands.push({from:e,to:t,color:"#98cc03",outerRadius:"105%",thickness:"4%"})}catch(y){}try{let e=new Date;e.setHours(Number(n[2].hour)-1),e=e.getHours();let t=new Date;t.setHours(Number(n[2].hour)),t=t.getHours(),d.yAxis.plotBands.push({from:e,to:t,color:"#b2d943",outerRadius:"105%",thickness:"4%"})}catch(y){}try{let e=new Date;e.setHours(Number(n[3].hour)-1),e=e.getHours();let t=new Date;t.setHours(Number(n[3].hour)),t=t.getHours(),d.yAxis.plotBands.push({from:e,to:t,color:"#b6d759",outerRadius:"105%",thickness:"4%"})}catch(y){}this.setState({byHoursChart:d,usage_by_hour_web:l,hourPeak:(Number(n[0].hourWiseCount)/i*100).toFixed(0)})}})).catch((e=>{this.setState({isShowSkeleton:!1})}))})),t(this,"isShowProgressiveProfile",(e=>{const t=Object.keys(e);if(!t.length)return;let s=!1;return t.map((t=>{let n=e[t];s=void 0!==(null==n?void 0:n.Interest_Audience)||void 0!==(null==n?void 0:n.Intent_Audience)})),s}))}render(){var e,t,n,i,a,r,l,h,p,g,v,b,y,f,w,j,C,k,I,U,E,P,T,M,A,_,O,V,H,B,R,G,z,$,K,q,J,Y,X,Q,Z,ee,te,se,ne,ie,oe,ae,re,le,de,ce,he,ue;const pe=this.state.isShowAllPageViews?this.state.topPageViews:this.state.allPageViews,Ne=this.state.isShowAllEvent?this.state.topConversionEvents:this.state.allEvents;return s.jsx(s.Fragment,{children:s.jsxs(ke,{className:"p0 mt30",children:[s.jsxs(Se,{children:[s.jsx(Ce,{md:4,children:s.jsxs("div",{className:"portlet-container portlet-sm "+(this.state.visitorChart?"show-mini-chart":""),children:[s.jsx("div",{className:"portlet-header",children:s.jsx("h4",{children:"Visitor status"})}),this.state.isShowSkeleton?s.jsx(me,{}):s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"portlet-body",children:[s.jsx("div",{className:"portlet-sm-body-height",children:s.jsxs("div",{className:"v-center-inner",children:[s.jsx("img",{src:d,alt:d,width:"120"}),s.jsxs("div",{className:"two-label-container",children:[s.jsxs("div",{className:"two-label",children:[s.jsx("p",{children:"Unique web visitors"}),s.jsx("h2",{className:"user-count",children:this.webgeneralFormat(this.state.activeWebVisitor)})]}),s.jsxs("div",{className:"two-label",children:[s.jsx("p",{children:"Live visitors"}),s.jsx("h2",{className:"user-count",children:this.state.newCount||0})]})]})]})}),s.jsxs("div",{className:"hori-column-chart",children:[s.jsx("i",{class:"icon-rs-close-mini color-primary-blue icons-md cp close-btn",onClick:()=>{this.setState({visitorChart:!1})}}),s.jsxs("div",{className:"hori-col-head",children:[s.jsx("p",{children:"Total visitors"}),s.jsx("h3",{children:"22,237"})]}),s.jsx("div",{className:"portlet-xs",children:s.jsx(u,{options:Te})})]}),s.jsx("div",{className:"info-popup hide",children:s.jsx("i",{className:"icon-rs-circle-info-medium icons-md grey-medium cp",onClick:()=>{this.setState({visitorChart:!0})}})})]}),s.jsx("div",{className:"portlet-info-text",children:s.jsx("span",{children:"Last 28 days"})})]})]})}),s.jsx(Ce,{md:8,children:s.jsxs("div",{className:"portlet-container portlet-sm portlet-footer-text",children:[s.jsx("div",{className:"portlet-header",children:s.jsx("h4",{children:"Traffic breakdown by web visitors"})}),this.state.isShowSkeleton?s.jsx(xe,{}):(null==(t=null==(e=this.state.trafficBreakDownWebChart)?void 0:e.xAxis)?void 0:t.categories.length)>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"portlet-body chart-line-animate",children:s.jsx("div",{className:"portlet-chart area-chart",children:s.jsx(u,{options:this.state.trafficBreakDownWebChart})})}),s.jsx("div",{className:"portlet-info-text",children:s.jsx("span",{children:"Last 7 days"})})]}):s.jsxs(s.Fragment,{children:[s.jsx(ge,{}),s.jsx(xe,{})]})]})})]}),s.jsxs(Se,{children:[s.jsx(Ce,{md:4,children:s.jsxs("div",{className:"portlet-container keymetrics-portlet keymetrics-sm",children:[s.jsxs("h4",{className:"d-flex align-items-center",children:["Key metrics ",s.jsx("small",{className:"fs12 ml5",children:"(Last 28 days)"})]}),this.state.isShowSkeleton?s.jsx(ve,{}):s.jsxs(s.Fragment,{children:[s.jsxs("ul",{className:"keymetrics-list key-border",children:[s.jsxs("li",{children:[s.jsx("h3",{children:this.state.keyMetrics.sessions}),s.jsx("span",{children:"Sessions"})]}),s.jsxs("li",{children:[s.jsx("h3",{children:this.state.keyMetrics.pageViews}),s.jsx("span",{children:"Page views"})]})]}),s.jsxs("ul",{className:"keymetrics-list keymetrics-theme",children:[s.jsxs("li",{className:"bg-light-blue",children:[s.jsx("h3",{children:this.state.keyMetrics.avgTimeSpent}),s.jsx("small",{children:"Avg. time spent"})]}),s.jsxs("li",{className:"bg-medium-blue",children:[s.jsx("h3",{children:this.state.keyMetrics.avgScreenPerSession}),s.jsx("small",{children:"Avg. screen/session"})]})]})]})]})}),s.jsx(Ce,{md:8,children:s.jsxs("div",{className:"portlet-container keymetrics-portlet keymetrics-sm",children:[s.jsxs("h4",{className:"d-flex align-items-center",children:["Active users"," "]}),this.state.isShowSkeleton?s.jsx(be,{}):s.jsx(s.Fragment,{children:s.jsxs("ul",{className:"keymetrics-list key-border mb50",children:[s.jsxs("li",{children:[" ",s.jsx("h3",{children:this.state.activeUsers.dau})," ",s.jsxs("span",{className:"d-flex",children:["DAU ",s.jsx(S,{pophover:"DAU (Daily Active Users) represents the number of users engaged with the site in the last 24 hours.",mainClass:"ml4",icon:N})]})," "]}),s.jsxs("li",{children:[" ",s.jsx("h3",{children:this.state.activeUsers.wau})," ",s.jsxs("span",{className:"d-flex",children:["WAU ",s.jsx(S,{pophover:"WAU (Weekly Active Users) represents the sum of users engaged with the site on a daily basis over the last 7 days.",mainClass:"ml4",icon:N})]})," "]}),s.jsxs("li",{children:[" ",s.jsx("h3",{children:this.state.activeUsers.mau})," ",s.jsxs("span",{className:"d-flex",children:["MAU ",s.jsx(S,{pophover:"MAU (Monthly Active Users) represents the sum of users engaged with the site on a daily basis over the last 28 days.",mainClass:"ml4",icon:N})]})," "]})]})})]})})]}),s.jsx(Se,{className:(this.state.sankeyEnabled,"d-none"),children:s.jsx(Ce,{md:12,children:s.jsxs("div",{className:"portlet-container sankey-portlet "+(this.state.sankeyPortletFullView?"fullscreenView":""),children:[s.jsxs("div",{className:"portlet-header",children:[s.jsx("h4",{children:"Path analyzer"}),this.state.noData&&s.jsxs("div",{className:"p-nav-right",children:[s.jsx(x,{data:this.state.pathAnalyserDropdown,defaultItem:"4 levels",alignRight:!0,customAlignRight:!0,className:"marginR10 fs18-btn",onSelect:e=>{}}),s.jsx("div",{className:"p-icon-sm",children:s.jsx("i",{className:"icon-rs-download-medium icons-md color-primary-blue cursor-pointer"})}),s.jsx("div",{className:"p-icon-sm",children:s.jsx("i",{onClick:()=>{this.setState({sankeyPortletFullView:!this.state.sankeyPortletFullView})},className:(this.state.sankeyPortletFullView?"icon-rs-fullscreen-collapse-medium":"icon-rs-expand-medium flip-horizontal")+" icons-md color-primary-blue d-inline-block cursor-pointer"})})]})]}),!1===this.state.noData?s.jsxs(s.Fragment,{children:[s.jsx(je,{}),s.jsx(ge,{})]}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"portlet-body",children:s.jsxs("div",{className:"portlet-chart",children:[s.jsx("div",{className:"sankey-chart-switch-setting",children:s.jsxs(Se,{children:[s.jsx(this.DropDownFilter,{defaultItem:Me[0]}),s.jsx(this.DropDownFilter,{defaultItem:Me[1]}),s.jsx(this.DropDownFilter,{defaultItem:Me[2]}),s.jsx(this.DropDownFilter,{defaultItem:Me[3]}),s.jsx(this.DropDownFilter,{defaultItem:Me[4]})]})}),s.jsx("div",{className:"sankey-chart-container",children:s.jsx(u,{className:"sankey-last-col-finder",options:Re})})]})}),s.jsx("div",{className:"portlet-info-text",children:s.jsx("span",{children:"Last 28 days"})})]})]})})}),s.jsxs(Se,{children:[s.jsx(Ce,{md:6,children:s.jsxs("div",{className:"portlet-container portlet-md portlet-footer-text",children:[s.jsx("div",{className:"portlet-header",children:s.jsx("h4",{children:"Audience types"})}),this.state.isShowSkeleton?s.jsx(ye,{}):this.state.audienceTypesWebChart?s.jsx(s.Fragment,{children:s.jsxs("div",{className:"portlet-body",children:[s.jsxs("div",{className:"portlet-chart",children:[s.jsx("div",{className:"chart-inner-icon audience-profile"}),s.jsx(u,{options:this.state.audienceTypesWebChart})]}),s.jsx("div",{className:"portlet-info-text",children:"Last 28 days"})]})}):s.jsxs(s.Fragment,{children:[s.jsx(ge,{})," ",s.jsx(ye,{})," "]})]})}),s.jsx(Ce,{md:6,children:s.jsxs("div",{className:"portlet-container portlet-md portlet-footer-text",children:[s.jsx("div",{className:"portlet-header",children:s.jsx("h4",{children:"Audience conversion"})}),this.state.isShowSkeleton?s.jsx(ye,{}):(null==(n=this.state)?void 0:n.audienceConversionWebChart)?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"portlet-body",children:s.jsx("div",{className:"portlet-chart pyramid-chart",children:s.jsx(u,{options:this.state.audienceConversionWebChart})})}),s.jsx("div",{className:"portlet-info-text",children:"Last 28 days"})]}):s.jsxs(s.Fragment,{children:[s.jsx(ge,{})," ",s.jsx(ye,{})]})]})})]}),s.jsxs(Se,{children:[s.jsx(Ce,{md:6,children:s.jsxs("div",{className:"portlet-container portlet-md retention-portlet portlet-footer-text "+(this.state.retentionFullView?"fullscreenView":""),children:[s.jsxs("div",{className:"portlet-header",children:[s.jsx("h4",{children:"Retention"}),s.jsx("div",{className:"p-nav-right",children:s.jsx(o,{className:"gallery-dropdown-button marginR-14 icon-dropdown",popupSettings:{animate:!0,popupClass:"ic-dropdown"},dir:"rtl",onItemClick:e=>{0===e.itemIndex?this.setState({retentionType:"Unknown",isShowRetention:this.state.retentionunknownWeb.length}):1===e.itemIndex?this.setState({retentionType:"Known",isShowRetention:this.state.retentionknownWeb.length}):2===e.itemIndex&&this.setState({retentionType:"Identified",isShowRetention:this.state.retentionidentifieWeb.length})},items:[{text:"Unknown"},{text:"Known"},{text:"Identified"}],icon:` ${D} icons-md blue`})})]}),this.state.isShowSkeleton?s.jsxs(s.Fragment,{children:[s.jsx(ge,{}),s.jsx(fe,{})]}):s.jsx(s.Fragment,{children:s.jsx("div",{className:"portlet-body",children:s.jsx("div",{className:"portlet-table",children:this.state.isShowRetention?s.jsxs(s.Fragment,{children:[s.jsxs("table",{className:"table table-striped st-grid-knownUser",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{"data-field":"tlca_header_sno",children:"Date"}),s.jsx("th",{"data-field":"tlca_link",children:this.state.retentionType}),s.jsx("th",{"data-field":"tlca_total_clicks",children:"1 day"}),s.jsx("th",{"data-field":"tlca_total_clicks1",children:"2 day"}),s.jsx("th",{"data-field":"tlca_total_clicks2",children:"3 day"}),s.jsx("th",{"data-field":"tlca_total_clicks3",children:"4 day"}),s.jsx("th",{"data-field":"tlca_total_clicks4",children:"5 day"})]})}),s.jsxs("tbody",{children:["Unknown"===this.state.retentionType&&this.state.retentionunknownWeb.map(((e,t)=>{var n,i;let o=[{color:"",day:e.day1_unknown},{color:"",day:e.day2_unknown},{color:"",day:e.day3_unknown},{color:"",day:e.day4_unknown},{color:"",day:e.day5_unknown}].sort(((e,t)=>parseInt(e.day)<parseInt(t.day)?1:-1)),a={};o.map(((e,t)=>{a[e.day]="#fd8f40"+(90-20*t)}));let r=(new Intl.NumberFormat).format(e.total_unknown),l=(new Intl.NumberFormat).format(e.day1_unknown),d=(new Intl.NumberFormat).format(e.day2_unknown),c=(new Intl.NumberFormat).format(e.day3_unknown),h=(new Intl.NumberFormat).format(e.day4_unknown),u=(new Intl.NumberFormat).format(e.day5_unknown),p=new Date(e.retention_date).toDateString().split(" ");return(null==(i=null==(n=this.state.wLiveUserData)?void 0:n.retentionunknownWeb)?void 0:i.length)?s.jsxs("tr",{children:[s.jsx("td",{children:s.jsx("span",{children:`${p[1]} ${p[2]}, ${p[3]}`})}),s.jsx("td",{children:r}),s.jsx("td",{style:{backgroundColor:a[e.day1_unknown]},children:l}),s.jsx("td",{style:{backgroundColor:a[e.day2_unknown]},children:d}),s.jsx("td",{style:{backgroundColor:a[e.day3_unknown]},children:c}),s.jsx("td",{style:{backgroundColor:a[e.day4_unknown]},children:h}),s.jsx("td",{style:{backgroundColor:a[e.day5_unknown]},children:u})]},t):s.jsxs(s.Fragment,{children:[s.jsx(ge,{}),s.jsx(fe,{})]})})),"Known"===this.state.retentionType&&this.state.retentionknownWeb.map(((e,t)=>{var n,i;let o=[{color:"",day:e.day1_known},{color:"",day:e.day2_known},{color:"",day:e.day3_known},{color:"",day:e.day4_known},{color:"",day:e.day5_known}].sort(((e,t)=>parseInt(e.day)<parseInt(t.day)?1:-1)),a={};o.map(((e,t)=>{a[e.day]="#99cc03"+(90-20*t)}));let r=(new Intl.NumberFormat).format(e.total_known),l=(new Intl.NumberFormat).format(e.day1_known),d=(new Intl.NumberFormat).format(e.day2_known),c=(new Intl.NumberFormat).format(e.day3_known),h=(new Intl.NumberFormat).format(e.day4_known),u=(new Intl.NumberFormat).format(e.day5_known),p=new Date(e.retention_date).toDateString().split(" ");return(null==(i=null==(n=this.state.wLiveUserData)?void 0:n.retentionknownWeb)?void 0:i.length)?s.jsxs("tr",{children:[s.jsx("td",{children:s.jsx("span",{children:`${p[1]} ${p[2]}, ${p[3]}`})}),s.jsx("td",{children:r}),s.jsx("td",{style:{backgroundColor:a[e.day1_known]},children:l}),s.jsx("td",{style:{backgroundColor:a[e.day2_known]},children:d}),s.jsx("td",{style:{backgroundColor:a[e.day3_known]},children:c}),s.jsx("td",{style:{backgroundColor:a[e.day4_known]},children:h}),s.jsx("td",{style:{backgroundColor:a[e.day5_known]},children:u})]},t):s.jsx(s.Fragment,{children:s.jsx(ge,{})})})),"Identified"===this.state.retentionType&&this.state.retentionidentifieWeb.map(((e,t)=>{var n,i;let o=[{color:"",day:e.day1_identified},{color:"",day:e.day2_identified},{color:"",day:e.day3_identified},{color:"",day:e.day4_identified},{color:"",day:e.day5_identified}].sort(((e,t)=>parseInt(e.day)<parseInt(t.day)?1:-1)),a={};o.map(((e,t)=>{a[e.day]="#274da3"+(90-20*t)}));let r=(new Intl.NumberFormat).format(e.total_identified),l=(new Intl.NumberFormat).format(e.day1_identified),d=(new Intl.NumberFormat).format(e.day2_identified),c=(new Intl.NumberFormat).format(e.day3_identified),h=(new Intl.NumberFormat).format(e.day4_identified),u=(new Intl.NumberFormat).format(e.day5_identified),p=new Date(e.retention_date).toDateString().split(" ");return(null==(i=null==(n=this.state.wLiveUserData)?void 0:n.retentionidentifieWeb)?void 0:i.length)?s.jsxs("tr",{children:[s.jsx("td",{children:s.jsx("span",{children:`${p[1]} ${p[2]}, ${p[3]}`})}),s.jsx("td",{children:r}),s.jsx("td",{style:{backgroundColor:a[e.day1_identified]},children:l}),s.jsx("td",{style:{backgroundColor:a[e.day2_identified]},children:d}),s.jsx("td",{style:{backgroundColor:a[e.day3_identified]},children:c}),s.jsx("td",{style:{backgroundColor:a[e.day4_identified]},children:h}),s.jsx("td",{style:{backgroundColor:a[e.day5_identified]},children:u})]},t):s.jsx(s.Fragment,{children:s.jsx(ge,{})})}))]})]}),s.jsx("div",{className:"portlet-info-text",children:"Last 5 days"})]}):s.jsxs(s.Fragment,{children:[s.jsx(ge,{}),s.jsx(fe,{})]})})})})]})}),s.jsx(Ce,{md:6,children:s.jsxs("div",{className:"portlet-container portlet-md portlet-footer-text",children:[s.jsx("div",{className:"portlet-header",children:s.jsx("h4",{children:"Top page views"})}),this.state.isShowSkeleton?s.jsx(fe,{}):(null==(a=null==(i=this.state.wLiveUserData)?void 0:i.userScreens)?void 0:a.length)?(null==(l=null==(r=this.state.wLiveUserData)?void 0:r.userScreens)?void 0:l.length)>1&&""!==(null==(g=null==(p=null==(h=this.state.wLiveUserData)?void 0:h.userScreens)?void 0:p.map((e=>null==e?void 0:e.pageUrl)))?void 0:g.reduce(((e,t)=>e+t)))?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"portlet-body",children:s.jsx("ul",{className:"portlet-list top-page-event-body",children:pe.map(((e,t)=>s.jsxs("li",{children:[s.jsx(W,{position:"bottom",text:e.pageUrl,children:s.jsx("label",{className:"lbl maxW200-elpsis cp text-underline-h",onClick:()=>{var t;const s=new URL(e.pageUrl),n=s.pathname.length<=1?s.hostname:s.pathname;let i=0==n.indexOf("/")?n.replace("/",""):n,o={type:"Mobile",listName:`Top pages ${i}`,trigger:"Mobile app",ruleName:"When a user views a specific screen",ruleValue:i,source:null==(t=this.props)?void 0:t.selectedData},a=F(o);sessionStorage.setItem("dl_live_top_screen",a)},children:s.jsx("span",{className:"lbl",children:e.path})})}),s.jsx("div",{className:"pull-right percentage",children:s.jsx("span",{children:this.webgeneralFormat(e.avgSeconds)})})]},t)))})}),s.jsx("div",{className:"portlet-info-text",children:"Last 28 days"}),this.state.allPageViews.length>5?s.jsx("div",{className:"float-end cp blue position-absolute right15 bottom5 font-xs",onClick:()=>{this.setState({isShowAllPageViews:!this.state.isShowAllPageViews})},children:null===this.state.isShowAllPageViews?"":this.state.isShowAllPageViews?"View more":"Show less"}):null]}):s.jsx(s.Fragment,{children:""!==(null==(y=null==(b=null==(v=this.state.wLiveUserData)?void 0:v.userScreens)?void 0:b.map((e=>null==e?void 0:e.pageUrl)))?void 0:y.reduce(((e,t)=>e+t)))?s.jsx("div",{className:"portlet-body",children:s.jsx("ul",{className:"portlet-list",children:null==(f=this.state.topPageViews)?void 0:f.map(((e,t)=>{try{const n=new URL(e.pageUrl).pathname.length<=1?new URL(e.pageUrl).hostname:new URL(e.pageUrl).pathname;return s.jsxs("li",{children:[s.jsx("label",{className:"lbl maxW200-elpsis",title:e.pageUrl,children:s.jsx("span",{className:"lbl",children:0==n.indexOf("/")?n.replace("/",""):n})}),s.jsxs("div",{className:"pull-right percentage",children:[" ",s.jsx("span",{children:this.webgeneralFormat(e.avgSeconds)})," "]})]},t)}catch(n){return s.jsxs("li",{children:[s.jsxs("label",{className:"lbl maxW200-elpsis",title:e.pageUrl,children:[" ",s.jsx("span",{className:"lbl",children:0==e.pageUrl.indexOf("/")?e.pageUrl.replace("/",""):e.pageUrl})]}),s.jsxs("div",{className:"pull-right percentage",children:[" ",s.jsx("span",{children:this.webgeneralFormat(e.avgSeconds)})," "]})]},t)}}))})}):s.jsxs(s.Fragment,{children:[s.jsx(ge,{})," ",s.jsx(fe,{})," "]})}):s.jsxs(s.Fragment,{children:[s.jsx(ge,{})," ",s.jsx(fe,{})," "]})]})})]}),s.jsxs(Se,{children:[s.jsx(Ce,{md:6,children:s.jsxs("div",{className:"portlet-container portlet-md portlet-footer-text",children:[s.jsx("div",{className:"portlet-header",children:s.jsx("h4",{children:"Top event summary"})}),this.state.isShowSkeleton?s.jsx(fe,{}):(null==Ne?void 0:Ne.length)&&0!==(null==(w=null==Ne?void 0:Ne.map((e=>Number(e.maxEventCount))))?void 0:w.reduce(((e,t)=>e+t)))?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"portlet-body",children:s.jsx("ul",{className:"portlet-list top-page-event-body",children:Ne.map(((e,t)=>s.jsxs("li",{children:[s.jsx("p",{children:e.eventName}),s.jsxs("div",{className:"percentage",children:[s.jsx("span",{children:this.webgeneralFormat(e.maxEventCount)}),s.jsx(S,{icon:L,size:"md",color:"green-medium"})]})]},t)))})}),s.jsx("div",{className:"portlet-info-text",children:"Last 28 days"}),this.state.allEvents.length>5&&s.jsx("div",{className:"float-end cp blue position-absolute right15 bottom5 font-xs",onClick:()=>{this.setState({isShowAllEvent:!this.state.isShowAllEvent})},children:null===this.state.isShowAllEvent?"":this.state.isShowAllEvent?"View more":"Show less"})]}):s.jsxs(s.Fragment,{children:[s.jsx(ge,{})," ",s.jsx(fe,{})," "]})]})}),s.jsx(Ce,{md:6,children:s.jsxs("div",{className:"portlet-container portlet-md portlet-footer-text",children:[s.jsx("div",{className:"portlet-header",children:s.jsx("div",{className:"p-nav-right",children:s.jsx(m,{defaultSelectedItem:this.state.tabDeviceIndex,defaultClass:"",dynamicTab:"mini marginB0",activeClass:"active",tabData:Ee,callBack:(e,t)=>{this.setState({tabDeviceIndex:t})}})})}),this.state.isShowSkeleton?s.jsx(ye,{}):s.jsx(s.Fragment,{children:s.jsx("div",{className:"portlet-body",children:0===this.state.tabDeviceIndex?(null==(C=null==(j=this.state.wLiveUserData)?void 0:j.webWiseCountCustList)?void 0:C.length)&&0!==(null==(U=null==(I=null==(k=this.state.wLiveUserData)?void 0:k.webWiseCountCustList)?void 0:I.map((e=>e.deviceWiseCount)))?void 0:U.reduce(((e,t)=>e+t)))?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"portlet-chart",children:s.jsx(u,{options:this.state.byDeviceChart})}),s.jsx("div",{className:"portlet-info-text",children:"Last 28 days"})]}):s.jsxs(s.Fragment,{children:[s.jsx(ge,{})," ",s.jsx(ye,{})," "]}):(null==(P=null==(E=this.state.wLiveUserData)?void 0:E.webVersionList)?void 0:P.length)&&0!==(null==(M=null==(T=this.state.wLiveUserData)?void 0:T.webVersionList)?void 0:M.reduce(((e,t)=>e+t.browserWiseCount),0))?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"portlet-chart",children:s.jsx(u,{options:this.state.byBrowserChart})}),s.jsx("div",{className:"portlet-info-text",children:"Last 28 days"})]}):s.jsxs(s.Fragment,{children:[s.jsx(ge,{})," ",s.jsx(ye,{})," "]})})})]})})]}),s.jsxs(Se,{children:[s.jsx(Ce,{md:6,className:"d-none",children:s.jsxs("div",{className:"portlet-container portlet-md portlet-footer-text",children:[s.jsx("div",{className:"portlet-header",children:s.jsx("div",{className:"p-nav-right",children:s.jsx(m,{defaultSelectedItem:this.state.tabDeviceIndex,defaultClass:"",dynamicTab:"mini marginB0",activeClass:"active",tabData:Ee,callBack:(e,t)=>{this.setState({tabDeviceIndex:t})}})})}),this.state.isShowSkeleton?s.jsx(ye,{}):s.jsx(s.Fragment,{children:s.jsx("div",{className:"portlet-body",children:0===this.state.tabDeviceIndex?(null==(_=null==(A=this.state.wLiveUserData)?void 0:A.webWiseCountCustList)?void 0:_.length)&&0!==(null==(H=null==(V=null==(O=this.state.wLiveUserData)?void 0:O.webWiseCountCustList)?void 0:V.map((e=>e.deviceWiseCount)))?void 0:H.reduce(((e,t)=>e+t)))?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"portlet-chart",children:s.jsx(u,{options:this.state.byDeviceChart})}),s.jsx("div",{className:"portlet-info-text",children:"Last 28 days"})]}):s.jsxs(s.Fragment,{children:[s.jsx(ge,{})," ",s.jsx(ye,{})," "]}):(null==(R=null==(B=this.state.wLiveUserData)?void 0:B.webVersionList)?void 0:R.length)&&0!==(null==(z=null==(G=this.state.wLiveUserData)?void 0:G.webVersionList)?void 0:z.reduce(((e,t)=>e+t.browserWiseCount),0))?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"portlet-chart",children:s.jsx(u,{options:this.state.byBrowserChart})}),s.jsx("div",{className:"portlet-info-text",children:"Last 28 days"})]}):s.jsxs(s.Fragment,{children:[s.jsx(ge,{})," ",s.jsx(ye,{})," "]})})})]})}),s.jsx(Ce,{md:12,children:s.jsxs("div",{className:"portlet-container portlet-md portlet-footer-label portlet-footer-text",children:[s.jsxs("div",{className:"portlet-header",children:[s.jsx("h4",{children:"Usage behavior"}),s.jsx("div",{className:"p-nav-right",children:s.jsx(m,{defaultSelectedItem:this.state.tabDaysIndex,defaultClass:"",dynamicTab:"mini marginB0",activeClass:"active",tabData:Pe,callBack:(e,t)=>{this.setState({tabDaysIndex:t})}})})]}),this.state.isShowSkeleton?s.jsx(we,{}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"portlet-body",children:0===this.state.tabDaysIndex?(null==(K=null==($=this.state.wLiveUserData)?void 0:$.byDaysCountWeb)?void 0:K.length)&&0!==(null==(Y=null==(J=null==(q=this.state.wLiveUserData)?void 0:q.byDaysCountWeb)?void 0:J.map((e=>Number(e.dayWiseCount))))?void 0:Y.reduce(((e,t)=>e+t)))?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"portlet-chart",children:s.jsx(u,{options:this.state.byDaysChart})}),s.jsx("div",{className:"portlet-info-text",children:"Last 7 days"})]}):s.jsxs(s.Fragment,{children:[s.jsx(ge,{})," ",s.jsx(we,{})," "]}):(null==(Q=null==(X=this.state.wLiveUserData)?void 0:X.hourWiseCounts)?void 0:Q.length)?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"portlet-chart",children:[s.jsx("img",{className:"chart-clock-img",src:c,alt:"by hours"}),s.jsx(u,{options:this.state.byHoursChart})]}),s.jsx("div",{className:"portlet-info-text",children:"Last 24 hours"})]}):s.jsxs(s.Fragment,{children:[s.jsx(ge,{})," ",s.jsx(ye,{})," "]})}),0===this.state.tabDaysIndex?(null==(ee=null==(Z=this.state.wLiveUserData)?void 0:Z.byDaysCountWeb)?void 0:ee.length)&&(null==(se=null==(te=this.state.wLiveUserData)?void 0:te.byDaysCountWeb)?void 0:se.length)&&0!==(null==(oe=null==(ie=null==(ne=this.state.wLiveUserData)?void 0:ne.byDaysCountWeb)?void 0:ie.map((e=>Number(e.dayWiseCount))))?void 0:oe.reduce(((e,t)=>e+t)))?s.jsx("div",{className:"portlet-two-label",children:s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("span",{children:0===this.state.tabDaysIndex?this.state.byDaysPeakValue:this.state.hourPeak}),s.jsx("small",{children:"%"})]}),s.jsxs("li",{children:[0===this.state.tabDaysIndex?"of the users engage with the website on ":this.state.usage_by_hour_web,0===this.state.tabDaysIndex&&"Mon"===this.state.tabDaysIndex?"Monday":"Tue"===this.state.byDaysPeakDay?"Tuesday":"Wed"===this.state.byDaysPeakDay?"Wednesday":"Thu"===this.state.byDaysPeakDay?"Thursday":"Fri"===this.state.byDaysPeakDay?"Friday":"Sat"===this.state.byDaysPeakDay?"Saturday":"Sun"===this.state.byDaysPeakDay?"Sunday":""]})]})}):null:(null==(re=null==(ae=this.state.wLiveUserData)?void 0:ae.hourWiseCounts)?void 0:re.length)&&(null==(de=null==(le=this.state.wLiveUserData)?void 0:le.byDaysCountWeb)?void 0:de.length)&&0!==(null==(ue=null==(he=null==(ce=this.state.wLiveUserData)?void 0:ce.byDaysCountWeb)?void 0:he.map((e=>Number(e.dayWiseCount))))?void 0:ue.reduce(((e,t)=>e+t)))?s.jsx("div",{className:"portlet-two-label",children:s.jsxs("ul",{children:[s.jsxs("li",{children:[s.jsx("span",{children:0===this.state.tabDaysIndex?this.state.byDaysPeakValue:this.state.hourPeak}),s.jsx("small",{children:"%"})]}),s.jsx("li",{children:0===this.state.tabDaysIndex?"of the users engage with the website on "+this.state.byDaysPeakDay:this.state.usage_by_hour_web})]})}):null]})]})})]})]})})}}const Ue=a.withRouter(Ie),Ee=[{id:1001,text:"By device"},{id:1002,text:"By browser"}],Pe=[{id:1001,text:"By days"},{id:1002,text:"By hours"}],Te={chart:{type:"bar"},xAxis:{title:{text:""},categories:["Chrome","Edge","Firefox","Others"]},yAxis:{title:{text:""}},legend:{reversed:!0,itemMarginTop:-10},plotOptions:{series:{stacking:"normal",states:{inactive:{opacity:1},hover:{enabled:!1}}}},series:[{name:"In-active",data:[7292,3e3,1558,742],color:A},{name:"Active",data:[5e3,3200,1800,790],color:_}],responsive:{rules:[{condition:{maxWidth:500},chartOptions:{chart:{height:210},subtitle:{text:null},navigator:{enabled:!1}}}]}},Me=["Communication type","City","Device","User type","Product category"];var Ae=[q,oe,_,ae,J,ne,_,re,le,oe,de,ce,ne,he,ue,_,J,H,V,G,pe];setTimeout((function(){document.querySelectorAll(".sankey-last-col-finder [transform]").forEach((e=>{e.getAttribute("transform").replace("translate(","").replace(")","").split(",")[0]>900&&e.classList.add("sankey-last-col")}))}),1e3);const _e={mon:O,tue:V,wed:H,thu:B,fri:R,sat:G,sun:z};var Oe=new Date,Ve=Oe.getDate(),He=Oe.getMonth()+1,Be=Oe.getFullYear();Ve<10&&(Ve="0"+Ve),He<10&&(He=""+He),Oe=He+"-"+Ve+"-"+Be;const Re={chart:{type:"area"},title:{text:""},accessibility:{point:{valueDescriptionFormat:"{index}. {point.from} to {point.to}, {point.weight}."}},tooltip:{headerFormat:"",shared:!1},plotOptions:{sankey:{nodeWidth:17,dataLabels:{enabled:!0,color:"#000000",align:"left",x:22,animation:{defer:2e3},style:{textOutline:!1,fontWeight:"normal",fontFamily:p,fontSize:h}}}},series:[{stacking:"normal",borderWidth:0,keys:["from","to","weight","tooltip"],data:[{from:"Awareness",to:"Los Angeles",weight:320},{from:"Awareness",to:"Chicago",weight:120},{from:"Greetings",to:"California",weight:420},{from:"Greetings",to:"Illinois",weight:120},{from:"New product launch",to:"California",weight:320},{from:"Promotion",to:"California",weight:120},{from:"Sale",to:"Chicago",weight:350},{from:"Events",to:"Los Angeles",weight:220},{from:"Events",to:"Illinois",weight:450},{from:"Los Angeles",to:"Mobile",weight:112},{from:"Los Angeles",to:"Browser",weight:433},{from:"Los Angeles",to:"Tablet",weight:233},{from:"Chicago",to:"iPad",weight:350},{from:"California",to:"Mobile",weight:756},{from:"California",to:"Tablet",weight:256},{from:"Illinois",to:"iPad",weight:505},{from:"Mobile",to:"Known",weight:622},{from:"Mobile",to:"Unknown",weight:322},{from:"Browser",to:"Known",weight:322},{from:"Browser",to:"Unknown",weight:250},{from:"Tablet",to:"Unknown",weight:121},{from:"iPad",to:"Known",weight:275},{from:"iPad",to:"Unknown",weight:423},{from:"Known",to:"Mutual fund",weight:124},{from:"Known",to:"Credit card",weight:268},{from:"Known",to:"Fixed deposit",weight:246},{from:"Known",to:"Loans",weight:414},{from:"Unknown",to:"Mutual fund",weight:366},{from:"Unknown",to:"Credit card",weight:163},{from:"Unknown",to:"Loans",weight:166}],type:"sankey",name:"",colors:Ae}],credits:{enabled:!1}};export{Ue as default};
