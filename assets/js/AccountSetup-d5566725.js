var t,e,a=Object.defineProperty,n=(t,e,n)=>(((t,e,n)=>{e in t?a(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n})(t,"symbol"!=typeof e?e+"":e,n),n);import{j as i}from"./pdf-editor-e8cb7a76.js";import{w as l,r as o}from"./react-vendor-379f659a.js";import{c as r,R as s}from"./RSKendoDropdown-32d89038.js";import{R as d,a as u}from"./RSCheckbox-b4d531b7.js";import"./style-a86a43a5.js";import{F as c,eB as p,ex as h,c4 as m,eC as g,a3 as y,ey as D,ez as I,a7 as S,a9 as v,eD as C,fy as f,fz as w,z as b,aj as M,bK as N,Y as x,a0 as T,fi as F,M as P,f3 as A,f4 as R,fA as _,fl as j,fm as L,dC as B,cb as E,f9 as K,bX as O,dh as G,fB as k,fC as z,fD as U,f6 as Z,fE as H,fF as V,fG as W,b6 as q,E as Y,eQ as J,ah as $,fo as Q,fb as X,fc as tt,av as et,fd as at,fH as nt,fe as it,ff as lt,fg as ot,fh as rt,bM as st,fq as dt}from"./index-23a09c37.js";import{R as ut}from"./RSUploadImageComponent-ed8ba7e0.js";import{R as ct}from"./RSIcon-d18be5d2.js";import{C as pt,M as ht,R as mt,a as gt}from"./ui-f7791cf3.js";import"./RSDropdowns-e011803c.js";import{H as yt,a as Dt}from"./charts-f2096496.js";import{h as It}from"./map-99306e6f.js";import{p as St}from"./maps-b8c6f010.js";import{m as vt,M as Ct}from"./maker-47de0917.js";import"./RSBrandLogo-65b6c00a.js";import"./export-data-a2401fa3.js";const ft="https://cdn.jsdelivr.net/gh/ResulticksInc/aibuildercss/assets/svg/Bulding-0199970d-0199970d.svg",wt=(t,e)=>{const{titleDropdownItem:a,firstName:n,lastName:i,mobileNo:l,emailId:o,countryCode:r,countryCodeMobile:s,jobFunctionDropdownItem:d,password:u,confirmPassword:b,profilePath:M,userOtp:N,otpToken:x,validateOtpErrMsg:T,isShowOtp:F}=t;c(n)?e({errMsgFirstName:p}):c(i)?e({errMsgLastName:h}):c(l)?e({errMsgPhone:m}):N.length?T?e({validateOtpErrMsg:T}):c(o)?e({errMsgEmail:g}):y(o)?null===d||c(d.jobfunctionName)||d.jobfunctionName.toLowerCase().includes("select")?e({errMsgjobFunctionName:I}):c(u)?e({errMsgPassword:S}):v(u)?c(b)?e({errMsgConfirmPassword:f}):u===b?e(null,{emailId:o||"",title:a.id||"0",firstName:n||"",lastName:i||"",countryCode:r||"",countryCodeMobile:s||"",mobileNo:l||"",jobFunctionId:d.jobfunctionId||"",password:u||"",confirmPassword:b||"",profileImage:M||"",otp:N||"",otpToken:x||"",isShowOtp:F}):e({errMsgConfirmPassword:w}):e({errMsgPassword:C}):e({errMsgEmail:D}):e({validateOtpErrMsg:"Enter valid one time password"})},bt="Address",Mt="Agency group",Nt="Agency name",xt="Website";class Tt extends o.Component{constructor(){super(...arguments),n(this,"state",{...null==(e=null==(t=this.context.globalStateData)?void 0:t.getKeyContactInfoData)?void 0:e.CompanyDetails,preferredRegions_Data:[{regionId:1,regionName:"Antarctica"},{regionId:2,regionName:"Africa"},{regionId:3,regionName:"Asia"},{regionId:4,regionName:"Europe"},{regionId:5,regionName:"North America"},{regionId:6,regionName:"Oceania"},{regionId:7,regionName:"South America"}],CompanyNameloader:!1,CompanyNamesuccess:!1,addClinetErr:null}),n(this,"componentDidMount",(t=>{var e,a,n,i,l;const{clientData:o,updateContact:r}=this.props;let s=M();N();const d=localStorage.getItem("parentcompany");if(null!=d&&this.setState({parentCompany:d}),this.setState({website:"https://"}),1==r&&null!=o){const t=x();localStorage.getItem("parentcompany"),null!=(null==t?void 0:t.clientId)&&this.setState({clientId:null==t?void 0:t.clientId}),null!=(null==o?void 0:o.website)&&this.checkWebsiteNameValid(null==o?void 0:o.website),this.editedClientData();let l=null==(e=this.state.preferredRegions_Data)?void 0:e.map(((t,e)=>null==t?void 0:t.regionName));const r=null==(i=null==(n=null==(a=this.props)?void 0:a.clientData)?void 0:n.regionalStructure)?void 0:i.split(", ").map((t=>t.trim())),s=this.state.preferredRegions_Data.filter((t=>r.includes(t.regionName)));this.setState({preferredRegionsData:l,preferredRegionsObjData:this.state.preferredRegions_Data,preferredRegionsitem:r,regionData:s,preferredRegionsCheckBox:null==o?void 0:o.isDefaultRegion})}if(null==o){let t=N(),e=localStorage.getItem("bdetails");if(null==e&&null==e||null!=this.state.countryDropdownItem||null!=this.state.stateDropdownItem||null!=this.state.cityDropdownItem)F((t=>{var e,a;if(null==t?void 0:t.status){let n=null==(a=null==(e=null==t?void 0:t.data)?void 0:e.country_code)?void 0:a.toLowerCase();this.setState({countryCode:n,countryCodeMobile:null==s?void 0:s.country_calling_code})}}));else{let t=null;t=T(localStorage.getItem("bdetails")),null==t||t.country_name,null==t||t.region,null==t||t.city}if(null!=t&&null!=(null==t?void 0:t.jobFunction)){const e=null==t?void 0:t.jobFunction.map((t=>t));this.setState({jobFunctionData:e})}if(null!=t&&null!=(null==t?void 0:t.countryMaster)){const e=null==t?void 0:t.countryMaster.map((t=>t));this.setState({countryData:e})}if(null!=t&&null!=(null==t?void 0:t.industry)){const e=null==t?void 0:t.industry.map((t=>t));e.sort(((t,e)=>t.industryName<e.industryName?-1:t.industryName>e.industryName?1:0)),this.setState({industryData:e})}if(null!=t&&null!=(null==t?void 0:t.businessType)){const e=null==t?void 0:t.businessType.map((t=>t));this.setState({businessTypeData:e})}if(null!=t&&null!=(null==t?void 0:t.brandPosition)){const e=null==t?void 0:t.brandPosition.map((t=>t));this.setState({brandPositionAllData:e})}let a=null==(l=this.state.preferredRegions_Data)?void 0:l.map(((t,e)=>null==t?void 0:t.regionName));this.setState({preferredRegionsData:a,preferredRegionsObjData:this.state.preferredRegions_Data})}})),n(this,"stateDatas",((t,e,a)=>{P({path:A,params:{id:t},isCache:!1,isServiceWorker:!1,ok:t=>{var n,i,l,o;if(null==t?void 0:t.status)if((null==t?void 0:t.data.length)>0){let r=null==(n=null==t?void 0:t.data)?void 0:n.filter(((t,a)=>(null==t?void 0:t.state)==e));null!=(null==(i=r[0])?void 0:i.state)&&(this.setState({stateData:null==t?void 0:t.data,stateDropdownItem:r[0]}),null!=(null==(l=r[0])?void 0:l.stateID)&&this.cityDatas(null==(o=r[0])?void 0:o.stateID,a))}else this.setState({errMsg_stateDropdownItem:"No state there"});else this.setState({errMsg_stateDropdownItem:"No state there"})},fail:t=>{this.setState({errMsg_stateDropdownItem:"Server Issue"})}})})),n(this,"cityDatas",((t,e)=>{P({path:R,params:{id:t},isCache:!1,isServiceWorker:!1,ok:t=>{var a,n;if(null==t?void 0:t.status)if((null==t?void 0:t.data.length)>0){let i=null==(a=null==t?void 0:t.data)?void 0:a.filter(((t,a)=>t.city==e));this.setState({cityData:null==t?void 0:t.data}),null!=(null==(n=i[0])?void 0:n.city)&&this.setState({cityDropdownItem:i[0]})}else this.setState({cityData:[]})},fail:t=>{}})})),n(this,"editedClientData",(()=>{var t,e,a,n,i,l,o,r;const{clientData:s}=this.props,{clientId:d,clientName:u,cpUserId:c,cpClientId:p,logoPath:h,address:m,address1:g,city:y,state:D,countryId:I,website:S,zipCode:v,regionalStructure:C,industryId:f,businessTypeId:w,brandPositionId:b,currencyId:M,dateFormatId:x,languageId:T,timeFormatId:F,timeZoneId:P,isDayLight:A,regionId:R,createdBy:_,createdDate:j,lstCountryMaster:L,lstIndustry:B,lstBusinessType:E,lstbrandposition:K}=s;if(null==s?void 0:s.lstCountryMaster){let r=null==s?void 0:s.lstCountryMaster.filter((t=>(null==t?void 0:t.countryId)==(null==s?void 0:s.countryId)));this.setState({countryData:null==s?void 0:s.lstCountryMaster,countryDropdownItem:null==r?void 0:r[0]}),this.context.globalStateData.setKeyContactInfoData({...null==(e=null==(t=this.context)?void 0:t.globalStateData)?void 0:e.getKeyContactInfoData,CompanyDetails:{...(null==(i=null==(n=null==(a=this.context)?void 0:a.globalStateData)?void 0:n.getKeyContactInfoData)?void 0:i.CompanyDetails)||{},countryDropdownItem:null==r?void 0:r[0]}}),(null==(l=null==r?void 0:r[0])?void 0:l.countryId)&&this.getStateDetails(null==(o=null==r?void 0:r[0])?void 0:o.countryId,null==s?void 0:s.state,null==s?void 0:s.city)}if(D&&this.setState({state:D}),y&&this.setState({city:y}),m&&this.setState({address:m}),g&&this.setState({address1:g}),v&&this.setState({zipCode:v}),R){let t=null==(r=this.state.preferredRegions_Data)?void 0:r.filter((t=>t.regionId==R));this.setState({regionDropdownItem:null==t?void 0:t[0]})}if(null!=f){const t=null==B?void 0:B.filter((t=>(null==t?void 0:t.industryId)==f));this.setState({industryDropdownItem:null==t?void 0:t[0],industryData:B})}if(w){const t=null==E?void 0:E.filter((t=>(null==t?void 0:t.businessTypeId)==w));this.setState({businessTypeDropdownItem:null==t?void 0:t[0],businessTypeData:E})}if(b){const t=null==K?void 0:K.filter((t=>(null==t?void 0:t.clienttype)==w));let e=null==t?void 0:t.filter(((t,e)=>(null==t?void 0:t.brandPositionId)==b));this.setState({brandPositionDataDropdownItem:null==e?void 0:e[0]})}h&&this.setState({profilePath:h,newImg:h});let O=N();if(null!=O&&null!=(null==O?void 0:O.jobFunction)){const t=null==O?void 0:O.jobFunction.map((t=>t));this.setState({jobFunctionData:t})}if(null!=O&&null!=(null==O?void 0:O.countryMaster)){const t=null==O?void 0:O.countryMaster.map((t=>t));this.setState({countryData:t})}if(null!=O&&null!=(null==O?void 0:O.industry)){const t=null==O?void 0:O.industry.map((t=>t));this.setState({industryData:t})}if(null!=O&&null!=(null==O?void 0:O.businessType)){const t=null==O?void 0:O.businessType.map((t=>t));this.setState({businessTypeData:t})}if(null!=O&&null!=(null==O?void 0:O.brandPosition)){const t=null==O?void 0:O.brandPosition.map((t=>t));let e=null==t?void 0:t.filter(((t,e)=>(null==t?void 0:t.clienttype)==w));this.setState({brandPositionData:e})}this.setState({company:u,website:S,countryData:null==s?void 0:s.lstCountryMaster})})),n(this,"validateState",(()=>{let t={...this.state};wt(t,((t,e)=>{if(t){let e={...this.state,...t};this.setState(e)}e&&(this.context.globalStateData.setKeyContactInfoData({...this.context.globalStateData.getKeyContactInfoData,contactInfo:this.state}),this.props.updateDataAndIndex(this.props.i+1,e))}))})),n(this,"validateAllvalue",(()=>{var t,e,a,n,i,l,o,r;const{firstName:s,lastName:d,emailId:u,passWord:c,confirmPassword:p,showPassWord:h,showConfirmPassWord:m,pwdStrengthMeter:g,jobFunctionData:y,jobFunctionValue:D,profilePath:I,newImg:S,titleDropdownItem:v,mobileNo:C,userOtp:f,validateOtpErrMsg:w,parentCompany:b,preferredRegionsitem:M,company:N,website:x,cityDropdownItem:T,stateDropdownItem:F,countryDropdownItem:P,address:A,address1:R,city:_,zipCode:j,country:L,regionDropdownItem:B,industryDropdownItem:E,businessTypeDropdownItem:K,brandPositionDataDropdownItem:O}=this.state;if(null!=b)if(null!=M&&0!=(null==M?void 0:M.length))if(null!=N&&0!=(null==N?void 0:N.length))if(null==(t=this.state.errMsg_company)?void 0:t.includes("already exist"))this.setState({errMsg_company:`${N} already exist`});else if(null==this.state.errMsg_website)if(null!=x)if(null!=P)if(null!=F)if(null!=T)if(null==this.state.errMsg_zipCode)if(0!==(null==j?void 0:j.length))if(null!=A&&0!=(null==A?void 0:A.length))if(null!=R&&0!=(null==R?void 0:R.length))if(null!=B)if(null!=E)if(null!=K)if(null!=O)if(null!=I)if(this.context.globalStateData.setKeyContactInfoData({...null==(a=null==(e=this.context)?void 0:e.globalStateData)?void 0:a.getKeyContactInfoData,CompanyDetails:this.state}),this.state.clientId,this.state.parentCompany,this.state.website,this.state.address,this.state.address1,null==F||F.state,null==T||T.city,this.state.zipCode,null==(n=this.state.countryDropdownItem)||n.countryId,null==E||E.industryId,null==K||K.businessTypeId,null==O||O.brandPositionId,this.props.EditToggle){let t=null==(i=this.state.preferredRegionsitem)?void 0:i.join(", "),e={clientId:this.props.ClientId,clientName:this.state.parentCompany,isQuickAccount:!0,website:this.state.website,address:this.state.address,address1:this.state.address1,state:null==F?void 0:F.state,city:null==T?void 0:T.city,zipCode:this.state.zipCode,countryId:null==(l=this.state.countryDropdownItem)?void 0:l.countryId,logoPath:I,industryId:null==E?void 0:E.industryId,businessTypeId:null==K?void 0:K.businessTypeId,brandPositionId:null==O?void 0:O.brandPositionId,regionId:null==B?void 0:B.regionId,regionalStructure:t,regionName:null==B?void 0:B.regionName,isDefaultRegion:this.state.preferredRegionsCheckBox};this.updateClientDetails(e)}else null==(o=this.props)||o.updateContactfunction(!1),null==(r=this.props)||r.netxBtn(1);else this.setState({errMsg_profilePath:"Upload logo"});else this.setState({errMsg_brandPositionDataDropdownItem:"Select brand position"});else this.setState({errMsg_businessTypeDropdownItem:"Select business type"});else this.setState({errMsg_industryDropdownItem:"Select industry"});else this.setState({errMsg_regionDropdownItem:"Select region"});else this.setState({errMsg_address1:"Enter address 2"});else this.setState({errMsg_address:"Enter address 1"});else this.setState({errMsg_zipCode:"Enter zipcode"});else this.setState({errMsg_zipCode:"Enter valid zipcode"});else this.setState({errMsg_cityDropdownItem:"Select city"});else this.setState({errMsg_stateDropdownItem:"Select state"});else this.setState({errMsg_countryDropdownItem:"Select country"});else this.setState({errMsg_website:"Enter website"});else this.setState({errMsg_website:"Enter valid website"});else this.setState({errMsg_company:"Enter company name"});else this.setState({errMsg_preferredRegionsitem:"Select preffered region"});else this.setState({errMsg_parentCompany:"Enter parent company"})})),n(this,"updateClientDetails",(t=>{P({path:_,params:t,loading:this.context.globalStateData.setIsLoadingData,sessionOut:this.context.globalStateData.setSessionOutData,ok:t=>{var e;if(1==t.status&&"Successfully updated"==t.message)return null==(e=this.props)||e.removeUpdateContact(!0),void this.props.backBtn(0,null);this.setState({addClinetErr:(null==t?void 0:t.message)||"Something happened"})},fail:t=>{this.setState({addClinetErr:(null==t?void 0:t.message)||"Something happened"})}})})),n(this,"setTitleDropdownData",(()=>{this.setState({titleDropdownData:Pt,titleDropdownItem:Pt[0]})})),n(this,"onDropdownChange",((t,e,a,n)=>{let i={};i[e]=t.target.value,i[a]=n,this.setState({...this.state,...i})})),n(this,"handleClose",(()=>{this.setState({isShowOtp:!0,isShowConfirmOTP:!1})})),n(this,"editButtonClick",(()=>{this.setState({isShowConfirmOTP:!1})})),n(this,"okBtnClicked",(()=>{this.setState({userOtp:"",isShowConfirmOTP:!1,isShowOtp:!0,isShowResendBtn:!1,otpSendMSG:"One time password resent successfully",isOtpValidationSuccess:!1}),setTimeout((()=>{this.setState({otpSendMSG:null})}),5e3),this.requestOtp(`${this.state.countryCodeMobile}${this.state.mobileNo}`)})),n(this,"resetCounter",(()=>Date.now()+119600)),n(this,"otpTimer",(({minutes:t,seconds:e,completed:a})=>a?(this.setState({isShowCoundown:!1}),"Expired"):i.jsxs("span",{children:["valid for 2min (",t,":",e,")"]}))),n(this,"requestOtp",(t=>{this.setState({isShowCoundown:!0});const e={mobileNumber:`+${t}`,emailId:this.state.emailId};P({path:j,params:e,ok:t=>{var e;t.status?this.setState({otpToken:null==(e=t.data)?void 0:e.otpToken}):this.setState({requestOtpErrMsg:t.message})},fail:t=>{this.setState({requestOtpErrMsg:t.message})}})})),n(this,"validateOtp",(t=>{const e={otpToken:this.state.otpToken,otp:this.state.userOtp};P({path:L,params:e,ok:t=>{t.status?this.setState({isShowCoundown:!1,validateOtpErrMsg:null,isOtpValidationSuccess:!0,isShowOtp:!0}):this.setState({isShowCoundown:!0,validateOtpErrMsg:null==t?void 0:t.message,isOtpValidationSuccess:!1,isShowOtp:!0})},fail:t=>{this.setState({isOtpValidationSuccess:!1,validateOtpErrMsg:t.message})}})})),n(this,"validateAndSavePassword",(()=>{const{password:t,confirmPassword:e}=this.state;return/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@#$%^&+=!])[A-Za-z\d@#$%^&+=!]{8,}$/.test(t)?t!==e?(this.setState({errMsg_confirmPassword:"Passwords do not match. Please try again."}),!1):(this.setState({errMsg_passWord:"",errMsg_confirmPassword:""}),!0):(this.setState({errMsg_passWord:"Password must contain at least 8 characters, including an uppercase letter, a lowercase letter, a number, and a special character."}),!1)})),n(this,"checkWebsiteNameValid",(t=>{this.setState({isLoading:!0,validateWebSite:!1}),P({path:B,params:{website:t},ok:e=>{!1===e.status?this.setState({website:t,errMsg_website:E,isLoading:!1,validateWebSite:!1}):this.setState({website:t,errMsg_website:null,isLoading:!1,validateWebSite:!0})},fail:e=>{this.setState({website:t,errMsg_website:E})}})})),n(this,"getStateDetails",((t,e,a)=>{P({path:A,params:{id:t},isCache:!1,isServiceWorker:!1,ok:t=>{if((null==t?void 0:t.status)&&((null==t?void 0:t.data.length)>0&&this.setState({stateData:null==t?void 0:t.data,cityData:[],stateDropdownItem:null,cityDropdownItem:null,errMsg_stateDropdownItem:null,errMsg_cityDropdownItem:null}),null!=e)){const n=e,i=t.data.find((t=>t.state===n));this.setState({stateDropdownItem:i}),(null==i?void 0:i.stateID)&&this.getCityDetails(null==i?void 0:i.stateID,a)}},fail:t=>{}})})),n(this,"getCityDetails",((t,e)=>{P({path:R,params:{id:t},isCache:!1,isServiceWorker:!1,ok:t=>{var a,n,i,l,o,r,s,d,u,c;if(null==t?void 0:t.status){if((null==t?void 0:t.data.length)>0)this.setState({cityData:null==t?void 0:t.data});else{if(2===(null==(a=this.state.countryDropdownItem)?void 0:a.countryId)&&(null==(i=null==(n=this.state.stateDropdownItem)?void 0:n.state)?void 0:i.length)>0&&(null==(r=null==(o=null==(l=this.state.stateDropdownItem)?void 0:l.state)?void 0:o.split(" "))?void 0:r.length)>0){let t=(null==(s=this.state.stateDropdownItem.state)?void 0:s.split(" ")[0])+" city";return void this.setState({cityData:[{city:t,cityID:1}]})}this.setState({cityData:[],errMsg_cityDropdownItem:"No city there please choose another state"})}if(null!=(null==(d=this.props)?void 0:d.clientData)){const e=null==(c=null==(u=this.props)?void 0:u.clientData)?void 0:c.city,a=t.data.find((t=>t.city===e));this.setState({cityDropdownItem:a})}if(null!=e){const a=e,n=t.data.find((t=>t.city===a));this.setState({cityDropdownItem:n})}}},fail:t=>{}})})),n(this,"backBTN",(()=>{var t;this.context,this.context.globalStateData.setKeyContactInfoData({...this.context.globalStateData.getKeyContactInfoData,CompanyDetails:{parentCompany:null,preferredRegionsData:[],preferredRegionsitem:null,companyData:[{id:"1",label:"LOC"},{id:"2",label:"RHQ"},{id:"3",label:"GHQ"}],company:null,companyValue:null,website:null,address:null,city:null,zipCode:null,countryData:[],countryDropdownItem:null,stateData:[],stateDropdownItem:null,cityData:[],cityDropdownItem:null,preferredRegionsCheckBox:!1,regionDropdownItem:null,regionData:[],industryData:[],industryDropdownItem:null,businessTypeData:[],businessTypeDropdownItem:null,brandPositionData:[],brandPositionDataDropdownItem:null,profilePath:null,errMsg_parentCompany:null,errMsg_preferredRegionsitem:null,errMsg_company:null,errMsg_companyValue:null,errMsg_website:null,errMsg_address:null,errMsg_city:null,errMsg_zipCode:null,errMsg_countryDropdownItem:null,errMsg_stateDropdownItem:null,errMsg_cityDropdownItem:null,errMsg_regionDropdownItem:null,errMsg_industryDropdownItem:null,errMsg_businessTypeDropdownItem:null,errMsg_brandPositionDataDropdownItem:null,errMsg_profilePath:null},locationSettings:{countryLocation:null,currencyDropdownData:[],currencyDropdownItem:null,languageDropdownData:[],languageDropdownItem:null,dateFormatDropdownData:[],dateFormatDropdownItem:null,timeFormatDropdownData:[],timeFormatDropdownItem:null,timeZoneDropdownData:[],timeZoneDropdownItem:null,dayLightSaving:!1,errMsgCurrency:null,errMsgLanguage:null,errMsgDateFormat:null,errMsgTimeFormat:null,errMsgTimeZone:null}}),this.setState({countryDropdownItem:null}),null==(t=this.props)||t.removeUpdateContact(!0),this.props.backBtn(0,null)})),n(this,"checkClientExist",(t=>{this.setState({CompanyNameloader:!0}),P({path:K,params:{clientName:t},loading:this.context.globalStateData.setIsLoadingData,sessionOut:this.context.globalStateData.setSessionOutData,ok:t=>{this.setState({CompanyNameloader:!1}),1==t.status?(this.setState({errMsg_company:"Company name already exist",errMsg_company_exist:"Company name already exist"}),this.setState({CompanyNamesuccess:!1})):this.setState({CompanyNamesuccess:!0})},fail:t=>{this.setState({CompanyNameloader:!1,errMsg_company:"something went wrong",errMsg_company_exist:"something went wrong"})}})})),n(this,"getData_brandPosition",(t=>{var e;let a=null==(e=this.state.brandPositionAllData)?void 0:e.filter(((e,a)=>(null==e?void 0:e.clienttype)==(null==t?void 0:t.businessTypeId)));(null!=a||(null==a?void 0:a.length)>0)&&this.setState({brandPositionData:a,brandPositionDataDropdownItem:null})}))}render(){var t,e,a,n,l,o,c,p,h,m,g,y;this.state;const D=O().slice(0,-1);return i.jsxs(pt,{className:"box-bottom-space",children:[i.jsxs("div",{className:((null==(t=this.props)?void 0:t.isSupportUser)?"click-off":"")+" box-design rs-box-min-height py40",children:[i.jsxs(ht,{show:null!=this.state.addClinetErr,centered:!0,size:"md",children:[i.jsxs(ht.Header,{children:[i.jsx("h2",{children:"Client"}),i.jsx(ct,{mainClass:"close",size:"md",handleClose:()=>{this.setState({addClinetErr:null})}})]}),i.jsx(ht.Body,{children:i.jsx("p",{children:this.state.addClinetErr})})]}),i.jsxs(mt,{children:[i.jsx(gt,{md:2,sm:3,children:i.jsx("div",{className:"profile-image-wrapper",children:i.jsx("div",{className:"position-relative",children:i.jsx(ut,{required:!0,className:"enable-remove",defaultImg:ft,defaultValue:this.state.profilePath,newImg:this.state.newImg?`${D}${this.state.newImg}`:null,text:this.state.newImg||this.state.profilePath?"Edit image":"Upload image",icon:this.state.newImg||this.state.profilePath?"icon-rs-pencil-edit-medium icons-sm":"icon-rs-circle-plus-medium icons-md",cb:t=>this.setState({profilePath:t,errMsg_profilePath:null,newImg:null}),error:t=>{this.setState({errMsg_profilePath:t})},errorMessage:this.state.errMsg_profilePath,removeIcon:null!==this.state.profilePath,handleRemove:()=>{this.setState({profilePath:null,newImg:null})}})})})}),i.jsx(gt,{md:10,children:i.jsxs(mt,{children:[i.jsx(gt,{md:6,children:i.jsx(d,{placeholder:"Parent company",val:this.state.parentCompany,required:!0,disabled:!0,errorMessage:this.state.errMsg_parentCompany,handleOnchange:t=>{if(t.length>=51)this.setState({errMsg_parentCompany:"Company name exceeded the limit"});else if(!/[`!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~]/.test(t)){let e=t.length>0?null:"Enter parent company";this.setState({parentCompany:t,errMsg_parentCompany:e})}},handleOnBlur:t=>{if(t.length>50)return void this.setState({errMsg_parentCompany:"Company name exceeded the limit"});this.setState({errMsg_parentCompany:null});let e=t.length>0?null:"Enter company name";this.setState({parentCompany:t,errMsg_parentCompany:e})}})}),i.jsxs(gt,{md:6,children:[i.jsx(r,{required:!0,placeholder:null!=this.state.preferredRegionsitem?"preferred region":"Select preferred region",data:this.state.preferredRegionsData,value:this.state.preferredRegionsitem,errorMessage:this.state.errMsg_preferredRegionsitem,allowCustom:!0,onChange:t=>{var e,a;let n=t.value.length>1?t.value:[t.value.toString()];const{preferredRegionsObjData:i}=this.state;let l=i.filter((t=>n.includes(t.regionName))),o=n.filter((t=>!i.some((e=>e.regionName===t))));if(o.length>0){const t=o.map(((t,e)=>({regionId:i.length+e+1,regionName:t})));l=[...l,...t],this.setState({preferredRegionsObjData:[...i,...t]})}7!=(null==(e=t.value)?void 0:e.length)&&this.setState({preferredRegionsCheckBox:!1}),7==(null==(a=t.value)?void 0:a.length)&&this.setState({preferredRegionsCheckBox:!0}),this.setState({preferredRegionsitem:t.value,regionData:l,regionDropdownItem:null}),null!=t.value&&this.setState({errMsg_preferredRegionsitem:null})},filterable:!0,onFilterChange:t=>{}}),i.jsx(u,{lbl:"Insert the default regions",id:"autopayment_checkbox",checked:this.state.preferredRegionsCheckBox,iconTooltip:"By checking this box, you agree to authorize automatic payments for both consumable items and license fees.",cb:t=>{if(t){let t=["Africa","Asia","Europe","North America","Oceania","South America","Antarctica"],e=[{regionId:1,regionName:"Antarctica"},{regionId:2,regionName:"Africa"},{regionId:3,regionName:"Asia"},{regionId:4,regionName:"Europe"},{regionId:5,regionName:"North America"},{regionId:6,regionName:"Oceania"},{regionId:7,regionName:"South America"}];this.setState({preferredRegionsitem:t,regionData:e,errMsg_preferredRegionsitem:null})}else this.setState({preferredRegionsitem:[],regionData:[]});this.setState({preferredRegionsCheckBox:t})}})]}),i.jsx(gt,{md:6,className:"marginT30",children:i.jsx(d,{isLoading:this.state.CompanyNameloader,iconPlaceholder:!this.state.CompanyNameloader,iconName:void 0,placeholder:"Company",val:this.state.company,required:!0,disabled:!!(null==(e=this.props)?void 0:e.EditToggle),errorMessage:this.state.errMsg_company,handleOnchange:t=>{let e=t.trimStart();if(e.length>=51)this.setState({errMsg_company:"Company name exceeded the limit"});else if(!/[`!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~]/.test(e)){let t=e.length>0?null:"Enter company name";this.setState({company:e,errMsg_company:t})}},handleOnBlur:t=>{if(t.length>50)return void this.setState({errMsg_company:"Company name exceeded the limit"});this.setState({errMsg_company:null,errMsg_company_exist:null});let e=t.length>0?null:"Enter company name";this.setState({company:t,errMsg_company:e}),null==e&&this.checkClientExist(t)}})}),i.jsx(gt,{md:6,className:"marginT30",children:i.jsx(d,{name:"WEBSITE",placeholder:xt,val:this.state.website,required:!0,iconPlaceholder:!0,iconName:this.state.validateWebSite?"icon-rs-circle-tick-medium icons-md green":"",isLoading:this.state.isLoading,errorMessage:this.state.errMsg_website,ob:t=>{let e=t,a=t.slice(0,8);a.includes("https://")||(e="https://"+t),a.includes("http://")&&(e=t.replace("http://","https://"));let n=e.length>0?null:ENTER_WEBSITE;this.setState({website:e,errMsgWebsite:n}),null==n&&this.checkWebsiteNameValid(e)},cb:t=>{let e=G(t)?null:E;t.length<=50&&this.setState({website:t,errMsg_website:e,validateWebSite:!1})},onFocus:()=>{let t=this.state.website;t.startsWith("https://")&&(t=t.replace("https://","")),this.setState({website:t})}})}),i.jsx(gt,{md:12,children:i.jsxs(mt,{children:[i.jsx(gt,{md:6,className:"marginT30",title:(null==(a=this.state.countryDropdownItem)?void 0:a.country)||"Select country",children:i.jsx(s,{errorMessage:this.state.errMsg_countryDropdownItem,required:!0,value:this.state.countryDropdownItem?this.state.countryDropdownItem:{countryId:-1,country:""},label:this.state.countryDropdownItem?"Country":"Select country",textField:"country",dataItemKey:"countryId",data:this.state.countryData,handleChange:t=>{var e,a,n,i;let l=(null==(a=null==(e=t.target.value)?void 0:e.country)?void 0:a.length)>0?null:k;this.setState({countryDropdownItem:null==(n=t.target)?void 0:n.value,errMsg_countryDropdownItem:l}),this.getStateDetails(null==(i=t.target.value)?void 0:i.countryId)}})}),i.jsx(gt,{md:6,className:"marginT30",title:(null==(n=this.state.stateDropdownItem)?void 0:n.state)||"Select state",children:i.jsx(s,{errorMessage:this.state.errMsg_stateDropdownItem,required:!0,disabled:!(this.state.stateData.length>0),value:this.state.stateDropdownItem?this.state.stateDropdownItem:{stateID:-1,state:""},label:this.state.stateDropdownItem?"State":"Select state",textField:"state",dataItemKey:"stateID",data:this.state.stateData,handleChange:t=>{var e,a,n;let i=(null==(a=null==(e=t.target.value)?void 0:e.state)?void 0:a.length)>0?null:z;this.setState({stateDropdownItem:t.target.value,errMsg_stateDropdownItem:i}),this.getCityDetails(null==(n=t.target.value)?void 0:n.stateID)}})})]})}),i.jsx(gt,{md:12,children:i.jsxs(mt,{children:[i.jsx(gt,{md:6,className:"marginT30",title:(null==(l=this.state.cityDropdownItem)?void 0:l.city)||"Select city",children:i.jsx(s,{errorMessage:this.state.errMsg_cityDropdownItem,required:!0,disabled:!((null==(o=this.state.cityData)?void 0:o.length)>0),value:this.state.cityDropdownItem?this.state.cityDropdownItem:{cityID:-1,city:""},label:this.state.cityDropdownItem?"City":"Select city",textField:"city",dataItemKey:"cityID",data:this.state.cityData,handleChange:t=>{var e;let a=-1!=(null==(e=t.target.value)?void 0:e.cityID)?null:U;this.setState({cityDropdownItem:t.target.value,errMsg_cityDropdownItem:a})}})}),i.jsx(gt,{md:6,className:"marginT30",children:i.jsx(d,{name:"zipcode",placeholder:"Zip code",max:10,val:this.state.zipCode,required:!0,errorMessage:this.state.errMsg_zipCode,cb:t=>{if(/^\d*$/.test(t)){let e=t.length?null:Z;/[`!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?~]/.test(t)&&(t=t.substring(0,t.length-1),e="Special character are not allowed"),this.setState({zipCode:t,errMsg_zipCode:e})}else{let t=J;this.setState({errMsg_zipCode:t})}},ob:t=>{let e=t.length<=0?Z:null;this.setState({zipCode:t,errMsg_zipCode:e})}})})]})}),i.jsx(gt,{md:6,className:"marginT30",children:i.jsx(d,{required:!0,placeholder:"Address 1",val:this.state.address,errorMessage:this.state.errMsg_address,handleOnchange:t=>{if(t.length>=51)this.setState({errMsg_address:"Address 1 exceeded the limit"});else if(!/[`!@#$%^&*()_+\-=\[\]{};':"\\|.<>\?~]/.test(t)){let e=t.length>0?null:"Enter address 1";this.setState({address:t,errMsg_address:e})}},handleOnBlur:t=>{if(t.length>50)return void this.setState({errMsg_address:"Address 1 exceeded the limit"});this.setState({errMsg_address:null});let e=t.length>0?null:"Enter address 1";this.setState({address:t,errMsg_address:e})}})}),i.jsx(gt,{md:6,className:"marginT30",children:i.jsx(s,{errorMessage:this.state.errMsg_regionDropdownItem,required:!0,value:this.state.regionDropdownItem?this.state.regionDropdownItem:{regionId:-1,regionName:""},className:"required",label:this.state.regionDropdownItem?"Region":"Select region",textField:"regionName",dataItemKey:"regionId",data:this.state.regionData,handleChange:t=>{var e;let a=(null==(e=t.target.value)?void 0:e.regionName.length)>0?null:"Select region";this.setState({regionDropdownItem:t.target.value,errMsg_regionDropdownItem:a})}})}),i.jsx(gt,{md:6,className:"marginT30",children:i.jsx(d,{required:!0,placeholder:"Address 2",val:this.state.address1,errorMessage:this.state.errMsg_address1,label:this.state.address1?"Address 2":"Enter address 2",handleOnchange:t=>{if(t.length>=51)this.setState({errMsg_address1:"Address 2 exceeded the limit"});else if(!/[`!@#$%^&*()_+\-=\[\]{};':"\\|.<>\?~]/.test(t)){let e=t.length>0?null:"Enter address 2";this.setState({address1:t,errMsg_address1:e})}},handleOnBlur:t=>{if(t.length>50)return void this.setState({errMsg_address1:"Address 2 exceeded the limit"});this.setState({errMsg_address1:null});let e=t.length>0?null:"Enter address 2";this.setState({address1:t,errMsg_address1:e})}})}),i.jsx(gt,{md:6,className:"marginT30",title:(null==(c=this.state.industryDropdownItem)?void 0:c.industryName)||"Select industry name",children:i.jsx(s,{errorMessage:this.state.errMsg_industryDropdownItem,required:!0,value:this.state.industryDropdownItem?this.state.industryDropdownItem:{industryId:-1,industryName:""},disabled:!!(null==(p=this.props)?void 0:p.EditToggle),label:this.state.industryDropdownItem?"Industry Name":"Select industry name",textField:"industryName",dataItemKey:"industryId",data:this.state.industryData,handleChange:t=>{var e,a;let n=(null==(a=null==(e=t.target.value)?void 0:e.industryName)?void 0:a.length)>0?null:H;this.setState({industryDropdownItem:t.target.value,errMsg_industryDropdownItem:n})}})}),i.jsx(gt,{md:6,children:i.jsxs(mt,{children:[i.jsx(gt,{md:6,className:"marginT30",title:(null==(h=this.state.businessTypeDropdownItem)?void 0:h.businessType)||"Select business type",children:i.jsx(s,{errorMessage:this.state.errMsg_businessTypeDropdownItem,required:!0,value:this.state.businessTypeDropdownItem?this.state.businessTypeDropdownItem:{businessTypeId:-1,businessType:""},disabled:!!(null==(m=this.props)?void 0:m.EditToggle),className:"required",label:this.state.businessTypeDropdownItem?"Business type":"Select business type",textField:"businessType",dataItemKey:"businessTypeId",data:this.state.businessTypeData,handleChange:t=>{var e,a;let n=(null==(a=null==(e=t.target.value)?void 0:e.businessType)?void 0:a.length)>0?null:V;this.setState({businessTypeDropdownItem:t.target.value,errMsg_businessTypeDropdownItem:n}),this.getData_brandPosition(t.target.value)}})}),i.jsx(gt,{md:6,className:"marginT30",title:(null==(g=this.state.brandPositionDataDropdownItem)?void 0:g.brandPositionName)||"Select brand position",children:i.jsx(s,{errorMessage:this.state.errMsg_brandPositionDataDropdownItem,required:!0,value:this.state.brandPositionDataDropdownItem?this.state.brandPositionDataDropdownItem:{brandPositionId:-1,brandPositionName:""},className:"required",label:this.state.brandPositionDataDropdownItem?"Brand position":"Select brand position",textField:"brandPositionName",dataItemKey:"brandPositionId",data:this.state.brandPositionData,handleChange:t=>{var e,a;let n=(null==(a=null==(e=t.target.value)?void 0:e.brandPositionName)?void 0:a.length)>0?null:W;this.setState({brandPositionDataDropdownItem:t.target.value,errMsg_brandPositionDataDropdownItem:n})}})})]})})]})})]})]}),i.jsxs("div",{className:"btn-container d-flex justify-content-end",children:[1!=this.props.noBackBTN?i.jsx(q,{onClick:()=>{this.backBTN()},children:this.props.EditToggle?"Cancel":"Back"}):null,i.jsxs(Y,{className:(null==(y=this.props)?void 0:y.isSupportUser)?"click-off":"",onClick:()=>this.validateAllvalue(),children:[" ",this.props.EditToggle?"Update":"Next"]})]})]})}}n(Tt,"contextType",b);const Ft=l(Tt),Pt=[{label:"Mr.",id:"1"},{label:"Ms.",id:"2"},{label:"Mrs.",id:"3"}],At={ref_country_codes:[{country:"Albania",alpha2:"AL",alpha3:"ALB",numeric:8,latitude:41,longitude:20},{country:"Algeria",alpha2:"DZ",alpha3:"DZA",numeric:12,latitude:28,longitude:3},{country:"American Samoa",alpha2:"AS",alpha3:"ASM",numeric:16,latitude:-14.3333,longitude:-170},{country:"Andorra",alpha2:"AD",alpha3:"AND",numeric:20,latitude:42.5,longitude:1.6},{country:"Angola",alpha2:"AO",alpha3:"AGO",numeric:24,latitude:-12.5,longitude:18.5},{country:"Anguilla",alpha2:"AI",alpha3:"AIA",numeric:660,latitude:18.25,longitude:-63.1667},{country:"Antarctica",alpha2:"AQ",alpha3:"ATA",numeric:10,latitude:-90,longitude:0},{country:"Antigua and Barbuda",alpha2:"AG",alpha3:"ATG",numeric:28,latitude:17.05,longitude:-61.8},{country:"Argentina",alpha2:"AR",alpha3:"ARG",numeric:32,latitude:-34,longitude:-64},{country:"Armenia",alpha2:"AM",alpha3:"ARM",numeric:51,latitude:40,longitude:45},{country:"Aruba",alpha2:"AW",alpha3:"ABW",numeric:533,latitude:12.5,longitude:-69.9667},{country:"Australia",alpha2:"AU",alpha3:"AUS",numeric:36,latitude:-27,longitude:133},{country:"Austria",alpha2:"AT",alpha3:"AUT",numeric:40,latitude:47.3333,longitude:13.3333},{country:"Azerbaijan",alpha2:"AZ",alpha3:"AZE",numeric:31,latitude:40.5,longitude:47.5},{country:"Bahamas",alpha2:"BS",alpha3:"BHS",numeric:44,latitude:24.25,longitude:-76},{country:"Bahrain",alpha2:"BH",alpha3:"BHR",numeric:48,latitude:26,longitude:50.55},{country:"Bangladesh",alpha2:"BD",alpha3:"BGD",numeric:50,latitude:24,longitude:90},{country:"Barbados",alpha2:"BB",alpha3:"BRB",numeric:52,latitude:13.1667,longitude:-59.5333},{country:"Belarus",alpha2:"BY",alpha3:"BLR",numeric:112,latitude:53,longitude:28},{country:"Belgium",alpha2:"BE",alpha3:"BEL",numeric:56,latitude:50.8333,longitude:4},{country:"Belize",alpha2:"BZ",alpha3:"BLZ",numeric:84,latitude:17.25,longitude:-88.75},{country:"Benin",alpha2:"BJ",alpha3:"BEN",numeric:204,latitude:9.5,longitude:2.25},{country:"Bermuda",alpha2:"BM",alpha3:"BMU",numeric:60,latitude:32.3333,longitude:-64.75},{country:"Bhutan",alpha2:"BT",alpha3:"BTN",numeric:64,latitude:27.5,longitude:90.5},{country:"Bolivia, Plurinational State of",alpha2:"BO",alpha3:"BOL",numeric:68,latitude:-17,longitude:-65},{country:"Bosnia and Herzegovina",alpha2:"BA",alpha3:"BIH",numeric:70,latitude:44,longitude:18},{country:"Botswana",alpha2:"BW",alpha3:"BWA",numeric:72,latitude:-22,longitude:24},{country:"Bouvet Island",alpha2:"BV",alpha3:"BVT",numeric:74,latitude:-54.4333,longitude:3.4},{country:"Brazil",alpha2:"BR",alpha3:"BRA",numeric:76,latitude:-10,longitude:-55},{country:"British Indian Ocean Territory",alpha2:"IO",alpha3:"IOT",numeric:86,latitude:-6,longitude:71.5},{country:"Brunei Darussalam",alpha2:"BN",alpha3:"BRN",numeric:96,latitude:4.5,longitude:114.6667},{country:"Bulgaria",alpha2:"BG",alpha3:"BGR",numeric:100,latitude:43,longitude:25},{country:"Burkina Faso",alpha2:"BF",alpha3:"BFA",numeric:854,latitude:13,longitude:-2},{country:"Burundi",alpha2:"BI",alpha3:"BDI",numeric:108,latitude:-3.5,longitude:30},{country:"Cambodia",alpha2:"KH",alpha3:"KHM",numeric:116,latitude:13,longitude:105},{country:"Cameroon",alpha2:"CM",alpha3:"CMR",numeric:120,latitude:6,longitude:12},{country:"Canada",alpha2:"CA",alpha3:"CAN",numeric:124,latitude:60,longitude:-95},{country:"Cape Verde",alpha2:"CV",alpha3:"CPV",numeric:132,latitude:16,longitude:-24},{country:"Cayman Islands",alpha2:"KY",alpha3:"CYM",numeric:136,latitude:19.5,longitude:-80.5},{country:"Central African Republic",alpha2:"CF",alpha3:"CAF",numeric:140,latitude:7,longitude:21},{country:"Chad",alpha2:"TD",alpha3:"TCD",numeric:148,latitude:15,longitude:19},{country:"Chile",alpha2:"CL",alpha3:"CHL",numeric:152,latitude:-30,longitude:-71},{country:"China",alpha2:"CN",alpha3:"CHN",numeric:156,latitude:35,longitude:105},{country:"Christmas Island",alpha2:"CX",alpha3:"CXR",numeric:162,latitude:-10.5,longitude:105.6667},{country:"Cocos (Keeling) Islands",alpha2:"CC",alpha3:"CCK",numeric:166,latitude:-12.5,longitude:96.8333},{country:"Colombia",alpha2:"CO",alpha3:"COL",numeric:170,latitude:4,longitude:-72},{country:"Comoros",alpha2:"KM",alpha3:"COM",numeric:174,latitude:-12.1667,longitude:44.25},{country:"Congo",alpha2:"CG",alpha3:"COG",numeric:178,latitude:-1,longitude:15},{country:"Congo, the Democratic Republic of the",alpha2:"CD",alpha3:"COD",numeric:180,latitude:0,longitude:25},{country:"Cook Islands",alpha2:"CK",alpha3:"COK",numeric:184,latitude:-21.2333,longitude:-159.7667},{country:"Costa Rica",alpha2:"CR",alpha3:"CRI",numeric:188,latitude:10,longitude:-84},{country:"Côte d'Ivoire",alpha2:"CI",alpha3:"CIV",numeric:384,latitude:8,longitude:-5},{country:"Croatia",alpha2:"HR",alpha3:"HRV",numeric:191,latitude:45.1667,longitude:15.5},{country:"Cuba",alpha2:"CU",alpha3:"CUB",numeric:192,latitude:21.5,longitude:-80},{country:"Cyprus",alpha2:"CY",alpha3:"CYP",numeric:196,latitude:35,longitude:33},{country:"Czech Republic",alpha2:"CZ",alpha3:"CZE",numeric:203,latitude:49.75,longitude:15.5},{country:"Denmark",alpha2:"DK",alpha3:"DNK",numeric:208,latitude:56,longitude:10},{country:"Djibouti",alpha2:"DJ",alpha3:"DJI",numeric:262,latitude:11.5,longitude:43},{country:"Dominica",alpha2:"DM",alpha3:"DMA",numeric:212,latitude:15.4167,longitude:-61.3333},{country:"Dominican Republic",alpha2:"DO",alpha3:"DOM",numeric:214,latitude:19,longitude:-70.6667},{country:"Ecuador",alpha2:"EC",alpha3:"ECU",numeric:218,latitude:-2,longitude:-77.5},{country:"Egypt",alpha2:"EG",alpha3:"EGY",numeric:818,latitude:27,longitude:30},{country:"El Salvador",alpha2:"SV",alpha3:"SLV",numeric:222,latitude:13.8333,longitude:-88.9167},{country:"Equatorial Guinea",alpha2:"GQ",alpha3:"GNQ",numeric:226,latitude:2,longitude:10},{country:"Eritrea",alpha2:"ER",alpha3:"ERI",numeric:232,latitude:15,longitude:39},{country:"Estonia",alpha2:"EE",alpha3:"EST",numeric:233,latitude:59,longitude:26},{country:"Ethiopia",alpha2:"ET",alpha3:"ETH",numeric:231,latitude:8,longitude:38},{country:"Falkland Islands (Malvinas)",alpha2:"FK",alpha3:"FLK",numeric:238,latitude:-51.75,longitude:-59},{country:"Faroe Islands",alpha2:"FO",alpha3:"FRO",numeric:234,latitude:62,longitude:-7},{country:"Fiji",alpha2:"FJ",alpha3:"FJI",numeric:242,latitude:-18,longitude:175},{country:"Finland",alpha2:"FI",alpha3:"FIN",numeric:246,latitude:64,longitude:26},{country:"France",alpha2:"FR",alpha3:"FRA",numeric:250,latitude:46,longitude:2},{country:"French Guiana",alpha2:"GF",alpha3:"GUF",numeric:254,latitude:4,longitude:-53},{country:"French Polynesia",alpha2:"PF",alpha3:"PYF",numeric:258,latitude:-15,longitude:-140},{country:"French Southern Territories",alpha2:"TF",alpha3:"ATF",numeric:260,latitude:-43,longitude:67},{country:"Gabon",alpha2:"GA",alpha3:"GAB",numeric:266,latitude:-1,longitude:11.75},{country:"Gambia",alpha2:"GM",alpha3:"GMB",numeric:270,latitude:13.4667,longitude:-16.5667},{country:"Georgia",alpha2:"GE",alpha3:"GEO",numeric:268,latitude:42,longitude:43.5},{country:"Germany",alpha2:"DE",alpha3:"DEU",numeric:276,latitude:51,longitude:9},{country:"Ghana",alpha2:"GH",alpha3:"GHA",numeric:288,latitude:8,longitude:-2},{country:"Gibraltar",alpha2:"GI",alpha3:"GIB",numeric:292,latitude:36.1833,longitude:-5.3667},{country:"Greece",alpha2:"GR",alpha3:"GRC",numeric:300,latitude:39,longitude:22},{country:"Greenland",alpha2:"GL",alpha3:"GRL",numeric:304,latitude:72,longitude:-40},{country:"Grenada",alpha2:"GD",alpha3:"GRD",numeric:308,latitude:12.1167,longitude:-61.6667},{country:"Guadeloupe",alpha2:"GP",alpha3:"GLP",numeric:312,latitude:16.25,longitude:-61.5833},{country:"Guam",alpha2:"GU",alpha3:"GUM",numeric:316,latitude:13.4667,longitude:144.7833},{country:"Guatemala",alpha2:"GT",alpha3:"GTM",numeric:320,latitude:15.5,longitude:-90.25},{country:"Guernsey",alpha2:"GG",alpha3:"GGY",numeric:831,latitude:49.5,longitude:-2.56},{country:"Guinea",alpha2:"GN",alpha3:"GIN",numeric:324,latitude:11,longitude:-10},{country:"Guinea-Bissau",alpha2:"GW",alpha3:"GNB",numeric:624,latitude:12,longitude:-15},{country:"Guyana",alpha2:"GY",alpha3:"GUY",numeric:328,latitude:5,longitude:-59},{country:"Haiti",alpha2:"HT",alpha3:"HTI",numeric:332,latitude:19,longitude:-72.4167},{country:"Heard Island and McDonald Islands",alpha2:"HM",alpha3:"HMD",numeric:334,latitude:-53.1,longitude:72.5167},{country:"Holy See (Vatican City State)",alpha2:"VA",alpha3:"VAT",numeric:336,latitude:41.9,longitude:12.45},{country:"Honduras",alpha2:"HN",alpha3:"HND",numeric:340,latitude:15,longitude:-86.5},{country:"Hong Kong",alpha2:"HK",alpha3:"HKG",numeric:344,latitude:22.25,longitude:114.1667},{country:"Hungary",alpha2:"HU",alpha3:"HUN",numeric:348,latitude:47,longitude:20},{country:"Iceland",alpha2:"IS",alpha3:"ISL",numeric:352,latitude:65,longitude:-18},{country:"India",alpha2:"IN",alpha3:"IND",numeric:356,latitude:20,longitude:77},{country:"Indonesia",alpha2:"ID",alpha3:"IDN",numeric:360,latitude:-5,longitude:120},{country:"Iran, Islamic Republic of",alpha2:"IR",alpha3:"IRN",numeric:364,latitude:32,longitude:53},{country:"Iraq",alpha2:"IQ",alpha3:"IRQ",numeric:368,latitude:33,longitude:44},{country:"Ireland",alpha2:"IE",alpha3:"IRL",numeric:372,latitude:53,longitude:-8},{country:"Isle of Man",alpha2:"IM",alpha3:"IMN",numeric:833,latitude:54.23,longitude:-4.55},{country:"Israel",alpha2:"IL",alpha3:"ISR",numeric:376,latitude:31.5,longitude:34.75},{country:"Italy",alpha2:"IT",alpha3:"ITA",numeric:380,latitude:42.8333,longitude:12.8333},{country:"Jamaica",alpha2:"JM",alpha3:"JAM",numeric:388,latitude:18.25,longitude:-77.5},{country:"Japan",alpha2:"JP",alpha3:"JPN",numeric:392,latitude:36,longitude:138},{country:"Jersey",alpha2:"JE",alpha3:"JEY",numeric:832,latitude:49.21,longitude:-2.13},{country:"Jordan",alpha2:"JO",alpha3:"JOR",numeric:400,latitude:31,longitude:36},{country:"Kazakhstan",alpha2:"KZ",alpha3:"KAZ",numeric:398,latitude:48,longitude:68},{country:"Kenya",alpha2:"KE",alpha3:"KEN",numeric:404,latitude:1,longitude:38},{country:"Kiribati",alpha2:"KI",alpha3:"KIR",numeric:296,latitude:1.4167,longitude:173},{country:"Korea, Democratic People's Republic of",alpha2:"KP",alpha3:"PRK",numeric:408,latitude:40,longitude:127},{country:"Korea, Republic of",alpha2:"KR",alpha3:"KOR",numeric:410,latitude:37,longitude:127.5},{country:"Kuwait",alpha2:"KW",alpha3:"KWT",numeric:414,latitude:29.3375,longitude:47.6581},{country:"Kyrgyzstan",alpha2:"KG",alpha3:"KGZ",numeric:417,latitude:41,longitude:75},{country:"Lao People's Democratic Republic",alpha2:"LA",alpha3:"LAO",numeric:418,latitude:18,longitude:105},{country:"Latvia",alpha2:"LV",alpha3:"LVA",numeric:428,latitude:57,longitude:25},{country:"Lebanon",alpha2:"LB",alpha3:"LBN",numeric:422,latitude:33.8333,longitude:35.8333},{country:"Lesotho",alpha2:"LS",alpha3:"LSO",numeric:426,latitude:-29.5,longitude:28.5},{country:"Liberia",alpha2:"LR",alpha3:"LBR",numeric:430,latitude:6.5,longitude:-9.5},{country:"Libyan Arab Jamahiriya",alpha2:"LY",alpha3:"LBY",numeric:434,latitude:25,longitude:17},{country:"Liechtenstein",alpha2:"LI",alpha3:"LIE",numeric:438,latitude:47.1667,longitude:9.5333},{country:"Lithuania",alpha2:"LT",alpha3:"LTU",numeric:440,latitude:56,longitude:24},{country:"Luxembourg",alpha2:"LU",alpha3:"LUX",numeric:442,latitude:49.75,longitude:6.1667},{country:"Macao",alpha2:"MO",alpha3:"MAC",numeric:446,latitude:22.1667,longitude:113.55},{country:"Macedonia, the former Yugoslav Republic of",alpha2:"MK",alpha3:"MKD",numeric:807,latitude:41.8333,longitude:22},{country:"Madagascar",alpha2:"MG",alpha3:"MDG",numeric:450,latitude:-20,longitude:47},{country:"Malawi",alpha2:"MW",alpha3:"MWI",numeric:454,latitude:-13.5,longitude:34},{country:"Malaysia",alpha2:"MY",alpha3:"MYS",numeric:458,latitude:2.5,longitude:112.5},{country:"Maldives",alpha2:"MV",alpha3:"MDV",numeric:462,latitude:3.25,longitude:73},{country:"Mali",alpha2:"ML",alpha3:"MLI",numeric:466,latitude:17,longitude:-4},{country:"Malta",alpha2:"MT",alpha3:"MLT",numeric:470,latitude:35.8333,longitude:14.5833},{country:"Marshall Islands",alpha2:"MH",alpha3:"MHL",numeric:584,latitude:9,longitude:168},{country:"Martinique",alpha2:"MQ",alpha3:"MTQ",numeric:474,latitude:14.6667,longitude:-61},{country:"Mauritania",alpha2:"MR",alpha3:"MRT",numeric:478,latitude:20,longitude:-12},{country:"Mauritius",alpha2:"MU",alpha3:"MUS",numeric:480,latitude:-20.2833,longitude:57.55},{country:"Mayotte",alpha2:"YT",alpha3:"MYT",numeric:175,latitude:-12.8333,longitude:45.1667},{country:"Mexico",alpha2:"MX",alpha3:"MEX",numeric:484,latitude:23,longitude:-102},{country:"Micronesia, Federated States of",alpha2:"FM",alpha3:"FSM",numeric:583,latitude:6.9167,longitude:158.25},{country:"Moldova, Republic of",alpha2:"MD",alpha3:"MDA",numeric:498,latitude:47,longitude:29},{country:"Monaco",alpha2:"MC",alpha3:"MCO",numeric:492,latitude:43.7333,longitude:7.4},{country:"Mongolia",alpha2:"MN",alpha3:"MNG",numeric:496,latitude:46,longitude:105},{country:"Montenegro",alpha2:"ME",alpha3:"MNE",numeric:499,latitude:42,longitude:19},{country:"Montserrat",alpha2:"MS",alpha3:"MSR",numeric:500,latitude:16.75,longitude:-62.2},{country:"Morocco",alpha2:"MA",alpha3:"MAR",numeric:504,latitude:32,longitude:-5},{country:"Mozambique",alpha2:"MZ",alpha3:"MOZ",numeric:508,latitude:-18.25,longitude:35},{country:"Myanmar",alpha2:"MM",alpha3:"MMR",numeric:104,latitude:22,longitude:98},{country:"Namibia",alpha2:"NA",alpha3:"NAM",numeric:516,latitude:-22,longitude:17},{country:"Nauru",alpha2:"NR",alpha3:"NRU",numeric:520,latitude:-.5333,longitude:166.9167},{country:"Nepal",alpha2:"NP",alpha3:"NPL",numeric:524,latitude:28,longitude:84},{country:"Netherlands",alpha2:"NL",alpha3:"NLD",numeric:528,latitude:52.5,longitude:5.75},{country:"Netherlands Antilles",alpha2:"AN",alpha3:"ANT",numeric:530,latitude:12.25,longitude:-68.75},{country:"New Caledonia",alpha2:"NC",alpha3:"NCL",numeric:540,latitude:-21.5,longitude:165.5},{country:"New Zealand",alpha2:"NZ",alpha3:"NZL",numeric:554,latitude:-41,longitude:174},{country:"Nicaragua",alpha2:"NI",alpha3:"NIC",numeric:558,latitude:13,longitude:-85},{country:"Niger",alpha2:"NE",alpha3:"NER",numeric:562,latitude:16,longitude:8},{country:"Nigeria",alpha2:"NG",alpha3:"NGA",numeric:566,latitude:10,longitude:8},{country:"Niue",alpha2:"NU",alpha3:"NIU",numeric:570,latitude:-19.0333,longitude:-169.8667},{country:"Norfolk Island",alpha2:"NF",alpha3:"NFK",numeric:574,latitude:-29.0333,longitude:167.95},{country:"Northern Mariana Islands",alpha2:"MP",alpha3:"MNP",numeric:580,latitude:15.2,longitude:145.75},{country:"Norway",alpha2:"NO",alpha3:"NOR",numeric:578,latitude:62,longitude:10},{country:"Oman",alpha2:"OM",alpha3:"OMN",numeric:512,latitude:21,longitude:57},{country:"Pakistan",alpha2:"PK",alpha3:"PAK",numeric:586,latitude:30,longitude:70},{country:"Palau",alpha2:"PW",alpha3:"PLW",numeric:585,latitude:7.5,longitude:134.5},{country:"Palestinian Territory, Occupied",alpha2:"PS",alpha3:"PSE",numeric:275,latitude:32,longitude:35.25},{country:"Panama",alpha2:"PA",alpha3:"PAN",numeric:591,latitude:9,longitude:-80},{country:"Papua New Guinea",alpha2:"PG",alpha3:"PNG",numeric:598,latitude:-6,longitude:147},{country:"Paraguay",alpha2:"PY",alpha3:"PRY",numeric:600,latitude:-23,longitude:-58},{country:"Peru",alpha2:"PE",alpha3:"PER",numeric:604,latitude:-10,longitude:-76},{country:"Philippines",alpha2:"PH",alpha3:"PHL",numeric:608,latitude:13,longitude:122},{country:"Pitcairn",alpha2:"PN",alpha3:"PCN",numeric:612,latitude:-24.7,longitude:-127.4},{country:"Poland",alpha2:"PL",alpha3:"POL",numeric:616,latitude:52,longitude:20},{country:"Portugal",alpha2:"PT",alpha3:"PRT",numeric:620,latitude:39.5,longitude:-8},{country:"Puerto Rico",alpha2:"PR",alpha3:"PRI",numeric:630,latitude:18.25,longitude:-66.5},{country:"Qatar",alpha2:"QA",alpha3:"QAT",numeric:634,latitude:25.5,longitude:51.25},{country:"Réunion",alpha2:"RE",alpha3:"REU",numeric:638,latitude:-21.1,longitude:55.6},{country:"Romania",alpha2:"RO",alpha3:"ROU",numeric:642,latitude:46,longitude:25},{country:"Russian Federation",alpha2:"RU",alpha3:"RUS",numeric:643,latitude:60,longitude:100},{country:"Rwanda",alpha2:"RW",alpha3:"RWA",numeric:646,latitude:-2,longitude:30},{country:"Saint Helena, Ascension and Tristan da Cunha",alpha2:"SH",alpha3:"SHN",numeric:654,latitude:-15.9333,longitude:-5.7},{country:"Saint Kitts and Nevis",alpha2:"KN",alpha3:"KNA",numeric:659,latitude:17.3333,longitude:-62.75},{country:"Saint Lucia",alpha2:"LC",alpha3:"LCA",numeric:662,latitude:13.8833,longitude:-61.1333},{country:"Saint Pierre and Miquelon",alpha2:"PM",alpha3:"SPM",numeric:666,latitude:46.8333,longitude:-56.3333},{country:"Saint Vincent and the Grenadines",alpha2:"VC",alpha3:"VCT",numeric:670,latitude:13.25,longitude:-61.2},{country:"Samoa",alpha2:"WS",alpha3:"WSM",numeric:882,latitude:-13.5833,longitude:-172.3333},{country:"San Marino",alpha2:"SM",alpha3:"SMR",numeric:674,latitude:43.7667,longitude:12.4167},{country:"Sao Tome and Principe",alpha2:"ST",alpha3:"STP",numeric:678,latitude:1,longitude:7},{country:"Saudi Arabia",alpha2:"SA",alpha3:"SAU",numeric:682,latitude:25,longitude:45},{country:"Senegal",alpha2:"SN",alpha3:"SEN",numeric:686,latitude:14,longitude:-14},{country:"Serbia",alpha2:"RS",alpha3:"SRB",numeric:688,latitude:44,longitude:21},{country:"Seychelles",alpha2:"SC",alpha3:"SYC",numeric:690,latitude:-4.5833,longitude:55.6667},{country:"Sierra Leone",alpha2:"SL",alpha3:"SLE",numeric:694,latitude:8.5,longitude:-11.5},{country:"Singapore",alpha2:"SG",alpha3:"SGP",numeric:702,latitude:1.3667,longitude:103.8},{country:"Slovakia",alpha2:"SK",alpha3:"SVK",numeric:703,latitude:48.6667,longitude:19.5},{country:"Slovenia",alpha2:"SI",alpha3:"SVN",numeric:705,latitude:46,longitude:15},{country:"Solomon Islands",alpha2:"SB",alpha3:"SLB",numeric:90,latitude:-8,longitude:159},{country:"Somalia",alpha2:"SO",alpha3:"SOM",numeric:706,latitude:10,longitude:49},{country:"South Africa",alpha2:"ZA",alpha3:"ZAF",numeric:710,latitude:-29,longitude:24},{country:"South Georgia and the South Sandwich Islands",alpha2:"GS",alpha3:"SGS",numeric:239,latitude:-54.5,longitude:-37},{country:"Spain",alpha2:"ES",alpha3:"ESP",numeric:724,latitude:40,longitude:-4},{country:"Sri Lanka",alpha2:"LK",alpha3:"LKA",numeric:144,latitude:7,longitude:81},{country:"Sudan",alpha2:"SD",alpha3:"SDN",numeric:736,latitude:15,longitude:30},{country:"Suriname",alpha2:"SR",alpha3:"SUR",numeric:740,latitude:4,longitude:-56},{country:"Svalbard and Jan Mayen",alpha2:"SJ",alpha3:"SJM",numeric:744,latitude:78,longitude:20},{country:"Swaziland",alpha2:"SZ",alpha3:"SWZ",numeric:748,latitude:-26.5,longitude:31.5},{country:"Sweden",alpha2:"SE",alpha3:"SWE",numeric:752,latitude:62,longitude:15},{country:"Switzerland",alpha2:"CH",alpha3:"CHE",numeric:756,latitude:47,longitude:8},{country:"Syrian Arab Republic",alpha2:"SY",alpha3:"SYR",numeric:760,latitude:35,longitude:38},{country:"Taiwan, Province of China",alpha2:"TW",alpha3:"TWN",numeric:158,latitude:23.5,longitude:121},{country:"Tajikistan",alpha2:"TJ",alpha3:"TJK",numeric:762,latitude:39,longitude:71},{country:"Tanzania, United Republic of",alpha2:"TZ",alpha3:"TZA",numeric:834,latitude:-6,longitude:35},{country:"Thailand",alpha2:"TH",alpha3:"THA",numeric:764,latitude:15,longitude:100},{country:"Timor-Leste",alpha2:"TL",alpha3:"TLS",numeric:626,latitude:-8.55,longitude:125.5167},{country:"Togo",alpha2:"TG",alpha3:"TGO",numeric:768,latitude:8,longitude:1.1667},{country:"Tokelau",alpha2:"TK",alpha3:"TKL",numeric:772,latitude:-9,longitude:-172},{country:"Tonga",alpha2:"TO",alpha3:"TON",numeric:776,latitude:-20,longitude:-175},{country:"Trinidad and Tobago",alpha2:"TT",alpha3:"TTO",numeric:780,latitude:11,longitude:-61},{country:"Tunisia",alpha2:"TN",alpha3:"TUN",numeric:788,latitude:34,longitude:9},{country:"Turkey",alpha2:"TR",alpha3:"TUR",numeric:792,latitude:39,longitude:35},{country:"Turkmenistan",alpha2:"TM",alpha3:"TKM",numeric:795,latitude:40,longitude:60},{country:"Turks and Caicos Islands",alpha2:"TC",alpha3:"TCA",numeric:796,latitude:21.75,longitude:-71.5833},{country:"Tuvalu",alpha2:"TV",alpha3:"TUV",numeric:798,latitude:-8,longitude:178},{country:"Uganda",alpha2:"UG",alpha3:"UGA",numeric:800,latitude:1,longitude:32},{country:"Ukraine",alpha2:"UA",alpha3:"UKR",numeric:804,latitude:49,longitude:32},{country:"United Arab Emirates",alpha2:"AE",alpha3:"ARE",numeric:784,latitude:24,longitude:54},{country:"United Kingdom",alpha2:"GB",alpha3:"GBR",numeric:826,latitude:54,longitude:-2},{country:"United States",alpha2:"US",alpha3:"USA",numeric:840,latitude:38,longitude:-97},{country:"United States Minor Outlying Islands",alpha2:"UM",alpha3:"UMI",numeric:581,latitude:19.2833,longitude:166.6},{country:"Uruguay",alpha2:"UY",alpha3:"URY",numeric:858,latitude:-33,longitude:-56},{country:"Uzbekistan",alpha2:"UZ",alpha3:"UZB",numeric:860,latitude:41,longitude:64},{country:"Vanuatu",alpha2:"VU",alpha3:"VUT",numeric:548,latitude:-16,longitude:167},{country:"Venezuela, Bolivarian Republic of",alpha2:"VE",alpha3:"VEN",numeric:862,latitude:8,longitude:-66},{country:"Viet Nam",alpha2:"VN",alpha3:"VNM",numeric:704,latitude:16,longitude:106},{country:"Virgin Islands, British",alpha2:"VG",alpha3:"VGB",numeric:92,latitude:18.5,longitude:-64.5},{country:"Virgin Islands, U.S.",alpha2:"VI",alpha3:"VIR",numeric:850,latitude:18.3333,longitude:-64.8333},{country:"Wallis and Futuna",alpha2:"WF",alpha3:"WLF",numeric:876,latitude:-13.3,longitude:-176.2},{country:"Western Sahara",alpha2:"EH",alpha3:"ESH",numeric:732,latitude:24.5,longitude:-13},{country:"Yemen",alpha2:"YE",alpha3:"YEM",numeric:887,latitude:15,longitude:48},{country:"Zambia",alpha2:"ZM",alpha3:"ZMB",numeric:894,latitude:-15,longitude:30},{country:"Zimbabwe",alpha2:"ZW",alpha3:"ZWE",numeric:716,latitude:-20,longitude:30},{country:"Afghanistan",alpha2:"AF",alpha3:"AFG",numeric:4,latitude:33,longitude:65}]};let Rt=Ct;It(yt);class _t extends o.Component{constructor(){super(...arguments),n(this,"state",{...this.context.globalStateData.getKeyContactInfoData.locationSettings,licenseTypeId:0,clientBranchTypeId:0,accountTypeId:0,isHybrid:!1,regionStructure:"",reportDirectUrl:"",reportTitle:"",addClinetErr:null,isCpPortal:!1,cpCode:"",promoCode:"",hashval:"TVNmXSFXIWtiIXd7bi03Wjd1MS9GNQ==",isAgency:!0,agencyId:0,parentClientId:0,isChildAccount:!0,userId:0,lmaId:0,isPayment:!1,Active:!1,sourceType:$()}),n(this,"componentDidMount",(t=>{var e,a,n,i;const{EditToggle:l,ClientId:o}=this.props;this.getCurrencyDetails(),1==l&&null!=o&&this.getLocalizationDetailsData(o);let r=null==(i=null==(n=null==(a=null==(e=this.context.globalStateData)?void 0:e.getKeyContactInfoData)?void 0:a.CompanyDetails)?void 0:n.countryDropdownItem)?void 0:i.countryId;null!=r&&0==l&&this.getLocalizationDetails(r);const s=At.ref_country_codes.filter((t=>{var e,a,n;return t.alpha2===(null==(n=null==(a=null==(e=this.context.globalStateData.getKeyContactInfoData)?void 0:e.CompanyDetails)?void 0:a.countryDropdownItem)?void 0:n.countryCode)}));this.setState({countryLocation:s[0]});const d=x();this.setState({licenseTypeId:null==d?void 0:d.licensingTypeId,clientBranchTypeId:0,accountTypeId:0,isHybrid:!1,regionStructure:"",reportDirectUrl:"",reportTitle:"",isCpPortal:!1,cpCode:"",promoCode:"",hashval:"TVNmXSFXIWtiIXd7bi03Wjd1MS9GNQ==",isAgency:null==d?void 0:d.isAgency,agencyId:0,parentClientId:null==d?void 0:d.parentClientId,isChildAccount:!0,userId:null==d?void 0:d.userId,lmaId:0,isPayment:!1,Active:!1})})),n(this,"getLocalizationDetailsData",(t=>{P({path:Q,params:{clientId:t},loading:this.context.globalStateData.setIsLoadingData,sessionOut:this.context.globalStateData.setSessionOutData,ok:t=>{!0===t.status&&this.setUpdateLocalizationDetails(t.data)},fail:t=>{}})})),n(this,"setUpdateLocalizationDetails",(t=>{this.setState({currencyDropdownItem:this.state.currencyDropdownData.filter((e=>e.currencyId===t.currencyId))[0]||{currencyId:-1,currencyName:"-- Select currency --"},languageDropdownItem:this.state.languageDropdownData.filter((e=>e.languageId===t.languageId))[0]||this.state.languageDropdownData[0]||{languageId:-1,languageName:"-- Select language --"},dateFormatDropdownItem:this.state.dateFormatDropdownData.filter((e=>e.dateFormatId===(null==t?void 0:t.dateFormatId)))[0]||{dateFormatId:-1,dateFormat:"-- Select date format --"},timeFormatDropdownItem:this.state.timeFormatDropdownData.filter((e=>e.timeFormatId===t.timeformatId))[0]||{timeformatId:-1,timeFormat:"-- Select time format --"},timeZoneDropdownItem:this.state.timeZoneDropdownData.filter((e=>e.timezoneId===t.timezoneId))[0]||{timezoneId:-1,timezoneName:"-- Select timezone --"},dayLightSaving:t.isDayLight||!1})})),n(this,"getLocalizationDetails",(t=>{P({path:X,params:{CountryID:t},loading:this.context.globalStateData.setIsLoadingData,sessionOut:this.context.globalStateData.setSessionOutData,ok:t=>{!0===t.status&&this.setDefaultLocalizationDetails(t.data)},fail:t=>{}})})),n(this,"setDefaultLocalizationDetails",(t=>{this.setState({dateFormatDropdownItem:this.state.dateFormatDropdownData.filter((e=>e.dateFormatId===t.defaultDateformatID))[0]||{dateFormatId:-1,dateFormat:"-- Select date format --"},languageDropdownItem:this.state.languageDropdownData.filter((e=>e.languageId===t.defaultLanguageId))[0]||this.state.languageDropdownData[0]||{languageId:-1,languageName:"-- Select language --"},currencyDropdownItem:this.state.currencyDropdownData.filter((e=>e.currencyId===t.currencyID))[0]||{currencyId:-1,currencyName:"-- Select currency --"},languageDropdownItem:this.state.languageDropdownData.filter((e=>e.languageId===t.defaultLanguageId))[0]||this.state.languageDropdownData[0]||{languageId:-1,languageName:"-- Select language --"},timeFormatDropdownItem:this.state.timeFormatDropdownData.filter((e=>e.timeFormatId===t.defaultTimeFormatID))[0]||{timeFormatId:-1,timeFormat:"-- Select time format --"},timeZoneDropdownItem:this.state.timeZoneDropdownData.filter((e=>e.timezoneId===t.defaultTimeZoneID))[0]||{timezoneId:-1,timezoneName:"-- Select timezone --"},dayLightSaving:t.isDayLight||!1})})),n(this,"getCurrencyDetails",(()=>{var t;let e=N();if(null!=e){if(null!=(null==e?void 0:e.currencyMaster)){const t=null==e?void 0:e.currencyMaster.map((t=>t));this.setState({currencyDropdownData:t})}if(null!=(null==e?void 0:e.languageMaster)){const t=null==e?void 0:e.languageMaster.map((t=>t));this.setState({languageDropdownData:t})}if(null!=(null==e?void 0:e.dateFormat)){const a=null==(t=null==e?void 0:e.dateFormat)?void 0:t.map((t=>t));this.setState({dateFormatDropdownData:a})}if(null!=(null==e?void 0:e.timeFormat)){const t=null==e?void 0:e.timeFormat.map((t=>t));this.setState({timeFormatDropdownData:t})}if(null!=(null==e?void 0:e.timeZone)){const t=null==e?void 0:e.timeZone.map((t=>t));this.setState({timeZoneDropdownData:t})}}})),n(this,"getCountryDetails",(t=>{P({path:tt,params:{CountryID:t},loading:this.context.globalStateData.setIsLoadingData,ok:t=>{t.status&&(t.status&&(null==t?void 0:t.data)&&this.setCountryDetailsDataInState(null==t?void 0:t.data),et("country details",t.data))},fail:t=>{et("country details err",t.message)}})})),n(this,"setCountryDetailsDataInState",(t=>{let e=N(),a=e.currencyMaster.filter((e=>e.currencyId===(null==t?void 0:t.currencyID))),n=e.languageMaster.filter((e=>e.languageId===(null==t?void 0:t.defaultLanguageId))),i=e.dateFormat.filter((e=>e.dateFormatId===(null==t?void 0:t.defaultDateformatID))),l=e.timeFormat.filter((e=>e.timeFormatId===(null==t?void 0:t.defaultTimeFormatID))),o=e.timeZone.filter((e=>e.timezoneId===(null==t?void 0:t.defaultTimeZoneID)));this.setState({currencyDropdownItem:a[0],languageDropdownItem:n[0],dateFormatDropdownItem:i[0],timeFormatDropdownItem:l[0],timeZoneDropdownItem:o[0]})})),n(this,"postDataToServer",(t=>{var e,a,n,i,l,o,r,s,d,u,c,p,h,m,g,y,D,I,S,v,C,f,w,b,M,N,x,T,F,A,R,_,j,L,B,E,K,O,G,k,z,U,Z,H,V,W,q;this.props.location;const{isCpPortal:Y,cpCode:J,promoCode:$,hashval:Q,isAgency:X,agencyId:tt,parentClientId:et,isChildAccount:nt,userId:it,lmaId:lt,isPayment:ot,Active:rt,licenseTypeId:st,clientBranchTypeId:dt,accountTypeId:ut,isHybrid:ct,regionStructure:pt,reportDirectUrl:ht,reportTitle:mt}=this.state;let gt=null==(n=null==(a=null==(e=this.context.globalStateData.getKeyContactInfoData)?void 0:e.CompanyDetails)?void 0:a.preferredRegionsitem)?void 0:n.join(", "),yt={companyName:null==(l=null==(i=this.context.globalStateData.getKeyContactInfoData)?void 0:i.CompanyDetails)?void 0:l.company,website:null==(r=null==(o=this.context.globalStateData.getKeyContactInfoData)?void 0:o.CompanyDetails)?void 0:r.website,address:`${null==(d=null==(s=this.context.globalStateData.getKeyContactInfoData)?void 0:s.CompanyDetails)?void 0:d.address}$${null==(c=null==(u=this.context.globalStateData.getKeyContactInfoData)?void 0:u.CompanyDetails)?void 0:c.address1}`,city:null==(m=null==(h=null==(p=this.context.globalStateData.getKeyContactInfoData)?void 0:p.CompanyDetails)?void 0:h.cityDropdownItem)?void 0:m.city,state:null==(D=null==(y=null==(g=this.context.globalStateData.getKeyContactInfoData)?void 0:g.CompanyDetails)?void 0:y.stateDropdownItem)?void 0:D.state,zipCode:null==(S=null==(I=this.context.globalStateData.getKeyContactInfoData)?void 0:I.CompanyDetails)?void 0:S.zipCode,countryId:null==(f=null==(C=null==(v=this.context.globalStateData.getKeyContactInfoData)?void 0:v.CompanyDetails)?void 0:C.countryDropdownItem)?void 0:f.countryId,companyLogo:null==(b=null==(w=this.context.globalStateData.getKeyContactInfoData)?void 0:w.CompanyDetails)?void 0:b.profilePath,regionId:null==(x=null==(N=null==(M=this.context.globalStateData.getKeyContactInfoData)?void 0:M.CompanyDetails)?void 0:N.regionDropdownItem)?void 0:x.regionId,isDefaultRegion:null==(F=null==(T=this.context.globalStateData.getKeyContactInfoData)?void 0:T.CompanyDetails)?void 0:F.preferredRegionsCheckBox,IsPreferredRegion:null==(R=null==(A=this.context.globalStateData.getKeyContactInfoData)?void 0:A.CompanyDetails)?void 0:R.preferredRegionsCheckBox,regionName:null==(L=null==(j=null==(_=this.context.globalStateData.getKeyContactInfoData)?void 0:_.CompanyDetails)?void 0:j.regionDropdownItem)?void 0:L.regionName,parentCompanyName:null==(E=null==(B=this.context.globalStateData.getKeyContactInfoData)?void 0:B.CompanyDetails)?void 0:E.parentCompany,mappingId:null==(O=null==(K=this.context.globalStateData.getKeyContactInfoData)?void 0:K.CompanyDetails)?void 0:O.parentCompany,licenseTypeId:st,clientBranchTypeId:dt,accountTypeId:ut,isHybrid:ct,regionStructure:gt,brandPositionId:null==(z=null==(k=null==(G=this.context.globalStateData.getKeyContactInfoData)?void 0:G.CompanyDetails)?void 0:k.brandPositionDataDropdownItem)?void 0:z.brandPositionId,industryId:null==(H=null==(Z=null==(U=this.context.globalStateData.getKeyContactInfoData)?void 0:U.CompanyDetails)?void 0:Z.industryDropdownItem)?void 0:H.industryId,businessTypeId:null==(q=null==(W=null==(V=this.context.globalStateData.getKeyContactInfoData)?void 0:V.CompanyDetails)?void 0:W.businessTypeDropdownItem)?void 0:q.businessTypeId},Dt="run";Dt="app";let It={isCpPortal:Y,cpCode:J,promoCode:$,isAgency:!1,agencyId:tt,parentClientId:et,isChildAccount:!0,userId:it,agencyId:0,lmaId:lt,isPayment:ot,isActive:rt,GlobalSetting:{currencyId:this.state.currencyDropdownItem.currencyId,languageId:this.state.languageDropdownItem.languageId,dateFormatId:this.state.dateFormatDropdownItem.dateFormatId,timeFormatId:this.state.timeFormatDropdownItem.timeFormatId,timeZoneId:this.state.timeZoneDropdownItem.timezoneId,isDayLight:!1},CompanyDetail:yt,platformName:"app"};this.context.globalStateData.setIsLoadingData(!0),P({path:at,params:It,sessionOut:this.context.globalStateData.setSessionOutData,ok:t=>{t.status?(this.context.globalStateData.setKeyContactInfoData({...this.context.globalStateData.getKeyContactInfoData,CompanyDetails:Lt,locationSettings:Bt}),this.logOut()):(this.context.globalStateData.setIsLoadingData(!1),this.setState({addClinetErr:(null==t?void 0:t.message)||"Something happened"}),this.setState({errMsgCurrency:(null==t?void 0:t.message)||"Something happened"}),setTimeout((()=>{this.setState({errMsgCurrency:""})}),2e3))},fail:t=>{this.context.globalStateData.setIsLoadingData(!1),this.setState({addClinetErr:(null==t?void 0:t.message)||"Something happened"}),this.setState({errMsgCurrency:(null==t?void 0:t.message)||"Something happened"}),this.setState({errMsgCurrency:""})}})})),n(this,"logOut",(()=>{P({path:nt,isCache:!1,ok:t=>{if(null==t?void 0:t.status)return this.context.globalStateData.setIsLoadingData(!1),this.afterLogout(),void this.props.history.push({pathname:"/thanksforsignup",state:{qas:!0,payment:!0}});this.context.globalStateData.setIsLoadingData(!1)},fail:t=>{this.context.globalStateData.setIsLoadingData(!1)}})})),n(this,"afterLogout",(()=>{for(var t in localStorage.removeItem("isAuth"),localStorage.removeItem("session"),localStorage.removeItem("lsCampaignMaster"),localStorage.removeItem("lsUserData"),localStorage.removeItem("MobileApp"),localStorage.removeItem("pdetails"),localStorage.removeItem("projectId"),localStorage.removeItem("lsConfig"),localStorage.removeItem("btype"),localStorage.removeItem("ccreate"),localStorage.removeItem("companyvalue"),localStorage.removeItem("isAgency"),localStorage)t.includes("camp_")&&localStorage.removeItem(t);this.context.toggleAuth(!1)})),n(this,"validateState",(()=>{const{currencyDropdownData:t,currencyDropdownItem:e,languageDropdownData:a,timeZoneDropdownData:n,timeFormatDropdownData:i,languageDropdownItem:l,dateFormatDropdownData:o,dateFormatDropdownItem:r,timeFormatDropdownItem:s,timeZoneDropdownItem:d,errMsgCurrency:u,errMsgLanguage:p,errMsgDateFormat:h,errMsgTimeFormat:m,errMsgTimeZone:g,dayLightSaving:y}=this.state;if(null===e||c(e.currencyName)||e.currencyName.toLowerCase().includes("select"))return void this.setState({errMsgCurrency:it});if(null===l||c(l.languageName)||l.languageName.toLowerCase().includes("select"))return void this.setState({errMsgLanguage:lt});if(null===r||c(r.dateFormat)||r.dateFormat.toLowerCase().includes("select"))return void this.setState({errMsgDateFormat:ot});if(null===s||c(s.timeFormat)||s.timeFormat.toLowerCase().includes("select"))return void this.setState({errMsgTimeFormat:rt});if(null===d||c(d.timezoneName)||d.timezoneName.toLowerCase().includes("select"))return void this.setState({errMsgTimeZone:st});const D={ClientId:this.props.ClientId,currencyId:this.state.currencyDropdownItem.currencyId,languageId:this.state.languageDropdownItem.languageId,dateFormatId:this.state.dateFormatDropdownItem.dateFormatId,timeFormatId:this.state.timeFormatDropdownItem.timeFormatId,timeZoneId:this.state.timeZoneDropdownItem.timezoneId,isDayLight:!1};if(1==this.props.EditToggle)return void this.UpdateClientlocalizationData(D);this.context.globalStateData.setKeyContactInfoData({...this.context.globalStateData.getKeyContactInfoData,locationSettings:this.state});const I={clientDetail:{...this.props.params.clientDetail,...D}};let S={...this.props.params,...I};S.userTypeId=4,S.sourceType=$(),this.postDataToServer(S)})),n(this,"UpdateClientlocalizationData",(()=>{var t;let e={ClientId:this.props.ClientId,currencyId:this.state.currencyDropdownItem.currencyId,languageId:this.state.languageDropdownItem.languageId,dateFormatId:this.state.dateFormatDropdownItem.dateFormatId,timeFormatId:this.state.timeFormatDropdownItem.timeFormatId,timeZoneId:this.state.timeZoneDropdownItem.timezoneId,isDayLight:!1};null==(t=this.props)||t.removeUpdateContact(!0),P({path:dt,params:e,loading:this.context.globalStateData.setIsLoadingData,sessionOut:this.context.globalStateData.setSessionOutData,ok:t=>{var e;if(t.status){this.context.globalStateData.setKeyContactInfoData({...this.context.globalStateData.getKeyContactInfoData,CompanyDetails:Lt,locationSettings:Bt}),this.props.netxBtn(!0),null==(e=this.props)||e.removeUpdateContact(!0);const t=new CustomEvent("updateCompanyDetails",{detail:{message:"Hello from custom event!"}});window.dispatchEvent(t)}else this.setState({errMsgCurrency:(null==t?void 0:t.message)||"Something happened"}),setTimeout((()=>{this.setState({errMsgCurrency:""})}),2e3)},fail:t=>{this.setState({errMsgCurrency:(null==t?void 0:t.message)||"Something happened"}),this.setState({errMsgCurrency:""})}})}))}render(){return this.state,i.jsxs(pt,{className:"box-bottom-space",children:[i.jsxs(ht,{show:null!=this.state.addClinetErr,centered:!0,size:"md",children:[i.jsxs(ht.Header,{children:[i.jsx("h2",{children:"Client"}),i.jsx(ct,{mainClass:"close",size:"md",handleClose:()=>{this.setState({addClinetErr:null})}})]}),i.jsx(ht.Body,{children:i.jsx("p",{children:this.state.addClinetErr})})]}),i.jsx("div",{className:"box-design rs-box-min-height py40",children:i.jsxs(mt,{children:[i.jsx(gt,{children:i.jsx("div",{className:"portlet-map",children:i.jsx(Dt,{constructorType:"mapChart",highcharts:yt,options:Et(this.state.countryLocation)})})}),i.jsxs(gt,{children:[i.jsxs(mt,{children:[i.jsx(gt,{className:"marginT30",children:i.jsx("div",{className:"position-relative",children:i.jsx(s,{className:"required",textField:"currencyName",dataItemKey:"currencyId",data:this.state.currencyDropdownData,errorMessage:this.state.errMsgCurrency,value:this.state.currencyDropdownItem||{currencyId:-1,currencyName:""},label:this.state.currencyDropdownItem?"Currency":"Select currency",onChange:t=>{let e=t.target.value.currencyName.length>0?null:"Select currency";this.setState({currencyDropdownItem:t.target.value,errMsgCurrency:e})}})})}),i.jsx(gt,{className:"marginT30",children:i.jsx("div",{className:"position-relative",children:i.jsx(s,{className:"required",textField:"languageName",dataItemKey:"languageId",data:this.state.languageDropdownData,errorMessage:this.state.errMsgLanguage,value:this.state.languageDropdownItem||{languageId:-1,languageName:""},label:this.state.languageDropdownItem?"Language":"Select language",onChange:t=>{let e=t.target.value.languageName.length>0?null:"Select language";this.setState({languageDropdownItem:t.target.value,errMsgLanguage:e})}})})})]}),i.jsxs(mt,{children:[i.jsx(gt,{className:"marginT30",children:i.jsx("div",{className:"position-relative",children:i.jsx(s,{className:"required",textField:"dateFormat",dataItemKey:"dateFormatId",data:this.state.dateFormatDropdownData,errorMessage:this.state.errMsgDateFormat,value:this.state.dateFormatDropdownItem||{dateFormatId:-1,dateFormat:""},label:this.state.dateFormatDropdownItem?"Date format":"Select date format",onChange:t=>{let e=t.target.value.dateFormat.length>0?null:ot;this.setState({dateFormatDropdownItem:t.target.value,errMsgDateFormat:e})}})})}),i.jsx(gt,{className:"marginT30",children:i.jsx("div",{className:"position-relative",children:i.jsx(s,{className:"required",textField:"timeFormat",dataItemKey:"timeFormatId",data:this.state.timeFormatDropdownData,errorMessage:this.state.errMsgTimeFormat,value:this.state.timeFormatDropdownItem||{timeFormatId:-1,timeFormat:""},label:this.state.timeFormatDropdownItem?"Time format":"Select time format",onChange:t=>{let e=t.target.value.timeFormat.length>0?null:rt;this.setState({timeFormatDropdownItem:t.target.value,errMsgTimeFormat:e})}})})})]}),i.jsx(mt,{children:i.jsx(gt,{className:"position-relative marginT30",children:i.jsx("div",{className:"position-relative",children:i.jsx(s,{className:"required",textField:"timezoneName",dataItemKey:"timezoneId",data:this.state.timeZoneDropdownData,errorMessage:this.state.errMsgTimeZone,value:this.state.timeZoneDropdownItem||{timezoneId:-1,timezoneName:""},label:this.state.timeZoneDropdownItem?"Time zone":"Select time zone",onChange:t=>{let e=t.target.value.timezoneName.length>0?null:st;this.setState({timeZoneDropdownItem:t.target.value,errMsgTimeZone:e})}})})})})]})]})}),i.jsxs("div",{className:"btn-container d-flex justify-content-end",children:[i.jsx(q,{onClick:()=>{var t;this.context.globalStateData.setKeyContactInfoData({...this.context.globalStateData.getKeyContactInfoData,locationSettings:Bt}),null==(t=this.props)||t.backBtn(0)},children:"Back"}),i.jsxs(Y,{onClick:this.validateState,children:[" ",this.props.EditToggle?"Update":"Submit"]})]})]})}}n(_t,"contextType",b);const jt=l(_t),Lt={parentCompany:null,preferredRegionsData:[],preferredRegionsitem:null,companyData:[{id:"1",label:"LOC"},{id:"2",label:"RHQ"},{id:"3",label:"GHQ"}],company:null,companyValue:null,website:null,address:null,city:null,zipCode:null,countryData:[],countryDropdownItem:null,stateData:[],stateDropdownItem:null,cityData:[],cityDropdownItem:null,preferredRegionsCheckBox:!1,regionDropdownItem:null,regionData:[],industryData:[],industryDropdownItem:null,businessTypeData:[],businessTypeDropdownItem:null,brandPositionData:[],brandPositionDataDropdownItem:null,profilePath:null,errMsg_parentCompany:null,errMsg_preferredRegionsitem:null,errMsg_company:null,errMsg_companyValue:null,errMsg_website:null,errMsg_address:null,errMsg_city:null,errMsg_zipCode:null,errMsg_countryDropdownItem:null,errMsg_stateDropdownItem:null,errMsg_cityDropdownItem:null,errMsg_regionDropdownItem:null,errMsg_industryDropdownItem:null,errMsg_businessTypeDropdownItem:null,errMsg_brandPositionDataDropdownItem:null,errMsg_profilePath:null},Bt={countryLocation:null,currencyDropdownData:[],currencyDropdownItem:null,languageDropdownData:[],languageDropdownItem:null,dateFormatDropdownData:[],dateFormatDropdownItem:null,timeFormatDropdownData:[],timeFormatDropdownItem:null,timeZoneDropdownData:[],timeZoneDropdownItem:null,dayLightSaving:!1,errMsgCurrency:null,errMsgLanguage:null,errMsgDateFormat:null,errMsgTimeFormat:null,errMsgTimeZone:null},Et=t=>({chart:{map:"custom/world",proj4:St,height:290},title:{text:" "},credits:{enabled:!1},navigation:{buttonOptions:{enabled:!1}},mapNavigation:{enabled:!1},tooltip:{enabled:!1,headerFormat:"",pointFormat:"<span>{point.name}</span><br>Lat: {point.lat}, Lon: {point.lon}",useHTML:!0,shared:!0,backgroundColor:"#5f5f5f",borderWidth:0,shadow:!1,style:{color:"#fefefe",cursor:"default",fontSize:"13px",whiteSpace:"nowrap"}},legend:{enabled:!1},plotOptions:{mappoint:{marker:{symbol:`url(${Rt})`},dataLabels:{align:"left",x:5,verticalAlign:"middle"}}},series:[{name:"Basemap",mapData:vt,borderColor:"#ffffff",nullColor:"#749bf0",showInLegend:!1},{name:"Separators",type:"mapline",nullColor:"#707070",showInLegend:!1,enableMouseTracking:!1},{type:"mappoint",name:"Cities",data:[{name:null==t?void 0:t.country,lat:null==t?void 0:t.latitude,lon:null==t?void 0:t.longitude}]}]}),Kt=l((t=>{var e;const a=e=>(null==t?void 0:t.currentPage)===e?"active":(null==t?void 0:t.completedPages.includes(e))?"completed":"";return i.jsx(gt,{sm:15,children:i.jsx("ul",{className:"rs-list-tabs mt60",children:null==(e=null==t?void 0:t.typeDetails)?void 0:e.map((({name:e,title:n,icons:l},o)=>i.jsxs("li",{className:`${a(e)} mb20`,children:[i.jsx("span",{className:"rlt-bullet",children:(null==t?void 0:t.completedPages.includes(e))&&i.jsx("i",{className:l})}),n]},e)))})})}));export{Mt as A,ft as B,At as C,xt as W,Nt as a,bt as b,Kt as c,Ft as d,jt as e,wt as v};
