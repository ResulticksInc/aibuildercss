var e=Object.defineProperty,t=(t,a,i)=>(((t,a,i)=>{a in t?e(t,a,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[a]=i})(t,"symbol"!=typeof a?a+"":a,i),i);import{M as a,ec as i,cL as n,ed as s,av as l,bv as o,bn as d,ee as c,z as r,bK as m,Y as u,B as p,E as h,ef as g,eg as y,dB as v,eh as I,cx as b,cy as S,az as f,ar as x,U as j,ei as C,ej as D,ek as T,el as N,aC as k,be as L,em as w,X as A,en as z,eo as M,ep as q,eq as P,a0 as E,bu as O,aa as V,dW as Z,dX as U}from"./index-7d59e1e4.js";import{h as F,q as R,i as $}from"./utils-16c7e021.js";import{j as _}from"./pdf-editor-5df4b936.js";import{G as B}from"./kendo-5d73125a.js";import{T as J}from"./Tooltip-c6e1c4bf.js";import{i as G,r as H,w as W}from"./react-vendor-379f659a.js";import{RSConfirmAlert as X,RSErrorPopup as K}from"./RSConfirmAlert-56ae520e.js";import{d as Y,R as Q}from"./RSKendoDropdown-e93f1389.js";import"./RSCheckbox-31e7b177.js";import"./style-a86a43a5.js";import{C as ee,b as te}from"./styles-acfba09e.js";import"./charts-f2096496.js";import{R as ae}from"./RSSwitch-5e272b97.js";import{R as ie}from"./RSDatetimePicker-eacff383.js";import{R as ne}from"./RSIcon-9079b0f0.js";import{M as se,R as le,a as oe,F as de,O as ce,P as re}from"./ui-9ddcca8e.js";import{_ as me}from"./index-c56b47e9.js";import{C as ue}from"./index-0540604b.js";import"./HPIconDropdownComponent-2377a265.js";import{K as pe}from"./index-b70e15a0.js";const he=e=>{let t=n();return{isSmartlink:e,campaignId:0,campaignName:"",campaignType:"",productType:"",goal:"",isShowsecondaryGoal:!1,secondaryGoal:"",secondaryGoalType:"",secondaryGoalPercentage:"",goalType:{conversionName:"-- Select goal type --",conversionTypeId:-1},goalPercentage:"",tPercentage:"",startDate:"",endDate:"",endMindate:new Date,isFrquenencyEnabled:!1,campaignAttribute:{campaignAttributeId:0,attributeName:"-- Select communication type --"},productCategory:{categoryId:0,categoryName:"-- Select product type --"},dynamicList:{dynamicListId:0,dynamicListName:"-- Select your dynamic list  --"},nativeChannels:[],socialMedia:[],paidAds:[],channelTypes:[],analyticsType:[],frequency:{frequency:"",data:{}},timeZone:{timezoneId:(null==t?void 0:t.timezoneId)||-1,timezoneName:(null==t?void 0:t.timezoneName)||"-- Select timezone --"},daylightSavings:!1,tags:[]}},ge=async(e,t,n)=>{a({path:i,params:{campaignName:e,databaseName:"SmartDX_e7be7449_b573_4e29_a427_a46e36288409"},sessionOut:t.globalStateData.setSessionOutData,ok:e=>{e.status?n([!0,"Communication name already exists"]):n([!1,"Unknown error"])},fail:e=>{n([!1,""])}})},ye=(e,t,i)=>{if(!1===e.isSmartLink){e.channelTypes.sort(),e.channelTypes.reverse();let t=[];e.analyticsType.map((e=>{e.toLowerCase().includes("web")?t.push("Web"):e.toLowerCase().includes("app")&&t.push("App")})),e.goal.toLowerCase(),e.analyticsType=t}e.analyticsType.sort(),e.analyticsType.reverse(),e.analyticsType=e.analyticsType.filter(((t,a)=>e.analyticsType.indexOf(t)===a)),o(e),l("Plan Start date",F(e.startDate).format("yyyy-MM-DD hh:mm:ss").toString()),l("Plan End date",F(e.endDate).format("yyyy-MM-DD hh:mm:ss").toString());let n={timeZoneId:e.timeZone.timezoneId,userId:t.globalStateData.getLoggedInUserData.userId,industryId:1,marketId:1,regionId:1,customerTypeId:1,brandAffinityId:1,regionName:"sng",clientDateTimeFormat:1,departmentId:"1",databaseName:"SmartDX_e7be7449_b573_4e29_a427_a46e36288409",isSmartlink:e.isSmartLink,campaignId:void 0!==e.campaignId?e.campaignId:0,clientId:t.globalStateData.getLoggedInUserData.clientId,clientName:"Smartdx codes",campaignType:0!==e.dynamicList.dynamicListId?"T":"S",campaignName:e.campaignName,campaignAttributeId:e.campaignAttribute.campaignAttributeId,productCategoryId:e.productCategory.categoryId,primaryTargetCode:e.goal,primaryTargetValue:e.goalPercentage,conversionType:0!==e.dynamicList.dynamicListId?"T":"S",isCampaignGroup:"N",startDate:F(e.startDate).format("yyyy-MM-DD hh:mm:ss").toString(),endDate:F(e.endDate).format("yyyy-MM-DD hh:mm:ss").toString(),isFrquenencyEnabled:e.isFrquenencyEnabled,dynamicListId:parseInt(e.dynamicList.dynamicListId),dynamicListName:e.dynamicList.dynamicListName,channelType:!0===e.isSmartLink?e.nativeChannels:e.channelTypes,socialMedia:e.socialMedia,paidAds:e.paidAds,goalType:e.goalType,analyticsType:e.analyticsType,frequency:void 0!==e.frequency?e.frequency:{},timeZone:e.timeZone.timezoneName,daylightSavings:e.daylightSavings,tags:e.tags,secondaryTargetCode:(null==e?void 0:e.secondaryGoal)||"",secondaryTargetValue:(null==e?void 0:e.secondaryGoalPercentage)||"",secondadoryGoalType:(null==e?void 0:e.secondaryGoalType)||null};a({path:d,params:n,loading:t.globalStateData.setIsLoadingData,sessionOut:t.globalStateData.setSessionOutData,ok:e=>{i(e)},fail:e=>{i({status:!1,message:"Please try again after sometime..."})}})},ve=(e,t,i,n)=>{a({path:s,params:{campaignId:e,databaseName:"SmartDX_e7be7449_b573_4e29_a427_a46e36288409"},loading:t.globalStateData.setIsLoadingData,sessionOut:t.globalStateData.setSessionOutData,ok:e=>{if(1==e.status){let t=JSON.parse(e.data.campaignJson),a=Ie(t,i);a.campaignStatusId=e.data.campaignStatusId,n(a)}},error:e=>{}})},Ie=(e,t,a)=>{var i,n;try{let a=(e.startDate.includes("T"),F(e.startDate).add(0,"day").toDate()),d=(e.endDate.includes("T"),F(e.endDate).add(0,"day").toDate()),c=a,r=d;var s={sDate:e.startDate.includes("T")?F(e.startDate).add(-1,"day").toDate():F(e.startDate).add(0,"day").toDate()},o=s.sDate.setDate(s.sDate.getDate()+3);let m=new Date(o);const u=R.parse(null==(i=window.location)?void 0:i.search);l("PARSED ID",u,!0);let p=void 0!==u.cs?u.cs:0,h={dynamicListId:0,dynamicListName:"-- Select your dynamic list --"};0!==e.dynamicListId&&(h.dynamicListId=e.dynamicListId,h.dynamicListName=e.dynamicListName);let g=t.campaignAttributeList.filter((t=>t.campaignAttributeId===e.campaignAttributeId));0===(null==g?void 0:g.length)&&(g=t.campaignAttributeList);let y=t.productCategorysList.filter((t=>t.categoryId===e.productCategoryId));0===(null==y?void 0:y.length)&&(y=t.productCategorysList),"Engagement"===(null==e?void 0:e.primaryTargetCode)&&null===e.goalType&&(e.goalType=null==t?void 0:t.engagementList[0]),"Conversation"===(null==e?void 0:e.primaryTargetCode)&&null===e.goalType&&(e.goalType=null==t?void 0:t.conversionTypeList[0]);let v={endMindate:m,isSmartlink:!1,campaignId:e.campaignId,campaignName:e.campaignName,campaignAttribute:g[0],productCategory:y[0],goal:e.primaryTargetCode,goalType:e.goalType,goalPercentage:e.primaryTargetValue,secondaryGoal:(null==e?void 0:e.secondaryTargetCode)||"",secondaryGoalPercentage:(null==e?void 0:e.secondaryTargetValue)||"",secondaryGoalType:(null==e?void 0:e.secondadoryGoalType)||null,isShowsecondaryGoal:""!==(null==e?void 0:e.secondaryTargetCode),startDate:c,endDate:r,isFrquenencyEnabled:void 0!==e.isFrquenencyEnabled&&e.isFrquenencyEnabled,dynamicList:h,nativeChannels:0===e.channelType.length?[]:e.channelType,socialMedia:0===e.socialMedia.length?[]:e.socialMedia,paidAds:0===e.paidAds.length?[]:e.paidAds,channelTypes:0===e.channelType.length?[]:e.channelType,analyticsType:0===e.analyticsType.length?["Web"]:e.analyticsType,frequency:void 0!==(null==(n=e.frequency)?void 0:n.frequency)?e.frequency:{frequency:"Immediate"},timeZone:{timezoneId:void 0!==e.timeZoneId?e.timeZoneId:"0",timezoneName:void 0!==e.timeZone?e.timeZone:"-- Select timezone --"},daylightSavings:void 0!==e.daylightSavings&&e.daylightSavings,tags:void 0!==e.tags?e.tags:[],isDuplicate:Boolean(null==e?void 0:e.isDuplicate)||!1,campaignStatusId:p};return v.frequency=be(e),v}catch(d){}},be=e=>{var t,a,i,n,s;return 4===(null==(t=null==e?void 0:e.frequency)?void 0:t.ferquencyId)?{frequency:"Immediate"}:(5===(null==(a=null==e?void 0:e.frequency)?void 0:a.ferquencyId)||1===(null==(i=null==e?void 0:e.frequency)?void 0:i.ferquencyId)&&null!==(null==(n=e.frequency)?void 0:n.data)&&(null==(s=e.frequency)||s.data),e.frequency)},Se=(e,t,i,n)=>{a({path:c,params:{campaignAttributeId:t,metricsId:i},ok:e=>{n(e)},fail:e=>{n({status:!1,message:"Error message"})}})},fe="https://cdn.jsdelivr.net/gh/ResulticksInc/aibuildercss@main/assets/assets/svg/split-ab-aab89701.svg",xe=(e,t,a,i,s)=>{var d,c,r,m,u,p;let h=o(a);h.push.content.map((t=>{var a,i,l,o;if(t.contentType="TEXT"===t.contentType?"R":"EDM"===t.contentType?"Z":"TEMPLATE"===t.contentType?"T":"","web"===e&&delete t.mobTimerTTL,"Z"===t.contentType){let e=(new Date).toISOString().slice(0,19).replace("T"," ");t.mobTimerTTL=e}if("T"!==t.contentType&&"Z"!==t.contentType||(t.title="","mobile"===e?5!==(null==(i=null==(a=null==h?void 0:h.push)?void 0:a.deliveryType)?void 0:i.deliveryTypeId)&&(t.body=je(null==t?void 0:t.body,s,e)):5!==(null==(o=null==(l=null==h?void 0:h.push)?void 0:l.pushType)?void 0:o.deliveryTypeId)&&(t.body=je(null==t?void 0:t.body,s,e))),void 0===t.timezoneId||""===t.timezoneId){let e=n();t.timezoneId=null==e?void 0:e.timezoneId}})),l("Content",h.push.content);let g={campaignId:t,isDuplicate:"false",domainLevel:"web"===e?h.push.domainLevel.domainLevel:"",domainLevelId:"web"===e?h.push.domainLevel.domainLevelId:0,weburl:"web"===e?null==(c=null==(d=h.push)?void 0:d.domainName)?void 0:c.domainUrl:"",domainName:"web"===e?h.push.domainName:null,deliveryTypeValue:"mobile"===e?h.push.deliveryType.deliveryTypeValue:h.push.pushType.deliveryTypeValue,deliveryTypeId:"mobile"===e?h.push.deliveryType.deliveryTypeId:2===h.push.pushType.deliveryTypeId?3:h.push.pushType.deliveryTypeId,inboxClassification:0===h.push.inboxClassification.cdId?"":h.push.inboxClassification.classificationId,inboxClassificationId:h.push.inboxClassification.cdId,pushLayoutValue:h.push.pushLayout.pushLayoutValue,pushLayoutId:h.push.pushLayout.pushLayoutId,positionValue:h.push.position.positionValue,positionId:h.push.position.positionId,isCarousel:h.push.isCarousel,isSplit:h.push.isSplit,secure:h.push.secure,pushNotifyChannelDetailID:"mobile"===e?14:8,testPushCampaignEmailAddress:null,statusId:i,requestForApproval:h.push.requestForApproval,content:h.push.content};return 5===(null==g?void 0:g.deliveryTypeId)&&(g.bannerId=null==(m=null==(r=null==h?void 0:h.push)?void 0:r.containerData)?void 0:m.bannerId,g.bannerName=null==(p=null==(u=null==h?void 0:h.push)?void 0:u.containerData)?void 0:p.bannerName),g},je=(e,t,a)=>{const i=(new DOMParser).parseFromString(e,"text/html"),n=i.querySelectorAll("button[data-button-info]"),s=i.querySelectorAll('[id^="timer-"]');if("web"===a){const e=i.querySelector("style");e.textContent=e.textContent.replace(/html, body\s*{[^}]*}/,"html, body {\n    width: 100%;\n    min-height: 100vh;\n    margin: 0;\n    padding: 0;\n    background-color: #f3f4f6;\n  }")}(null==s?void 0:s.length)>0&&s.forEach((e=>{const t=i.getElementById(e.id);t.children[0].children;const a=`<script>\nwindow.onload = function() {\n    const timer = document.getElementById('${e.id}');\n    const userDate = JSON.parse(timer.dataset.userdate);\n    \n    // Calculate target time once\n    const targetTime = new Date().getTime() + \n        (userDate.days * 86400000) +    // 24*60*60*1000\n        (userDate.hours * 3600000) +    // 60*60*1000\n        (userDate.minutes * 60000) +    // 60*1000\n        (userDate.seconds * 1000);\n\n    // Cache DOM elements\n    const daysUnit = timer.querySelector('.days-unit');\n    const hoursUnit = timer.querySelector('.hours-unit');\n    const minutesUnit = timer.querySelector('.minutes-unit');\n    const secondsUnit = timer.querySelector('.seconds-unit');\n    \n    // Unit display elements\n    const daysDisplay = daysUnit.querySelector('[data-unit="days"]');\n    const hoursDisplay = hoursUnit.querySelector('[data-unit="hours"]');\n    const minutesDisplay = minutesUnit.querySelector('[data-unit="minutes"]');\n    const secondsDisplay = secondsUnit.querySelector('[data-unit="seconds"]');\n\n    function updateTimer() {\n        const diff = targetTime - new Date().getTime();\n\n        if (diff <= 0) {\n            // Time's up - show all zeros\n            daysDisplay.textContent = '00';\n            hoursDisplay.textContent = '00';\n            minutesDisplay.textContent = '00';\n            secondsDisplay.textContent = '00';\n            clearInterval(timerInterval);\n            return;\n        }\n\n        // Calculate time components\n        const totalSeconds = Math.floor(diff / 1000);\n        const days = Math.floor(totalSeconds / 86400);\n        const hours = Math.floor((totalSeconds % 86400) / 3600);\n        const minutes = Math.floor((totalSeconds % 3600) / 60);\n        const seconds = totalSeconds % 60;\n\n        // Determine which units to show\n        const showDays = days > 0;\n        const showHours = showDays || hours > 0;\n        const showMinutes = showHours || minutes > 0;\n\n        // Update displays\n        daysUnit.style.display = showDays ? 'block' : 'none';\n        hoursUnit.style.display = showHours ? 'block' : 'none';\n        minutesUnit.style.display = showMinutes ? 'block' : 'none';\n        secondsUnit.style.display = 'showMinutes' ? 'block' : 'none'; // Always show seconds\n\n        // Update values with leading zeros\n        if (showDays) daysDisplay.textContent = String(days).padStart(2, '0');\n        if (showHours) hoursDisplay.textContent = String(hours).padStart(2, '0');\n        if (showMinutes) minutesDisplay.textContent = String(minutes).padStart(2, '0');\n        secondsDisplay.textContent = String(seconds).padStart(2, '0');\n    }\n\n    // Start timer\n    const timerInterval = setInterval(updateTimer, 1000);\n    updateTimer(); // Initial call\n};\n<\/script>\n    `;t.children[2].outerHTML=a})),n.forEach((e=>{const i=e.getAttribute("data-button-info");try{const n=i.replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&lt;/g,"<").replace(/&gt;/g,">");let s=JSON.parse(n);if("smartlink"===(null==s?void 0:s.actionType)&&6===(null==s?void 0:s.actionId)&&(null==t?void 0:t.length)>0){"mobile"===a&&(s.mobilefriendlyUrl="https://slg.smartdx.co/"+t[0].smartCode);let e=JSON.parse(t[0].smartAppStoreUrl);Ce(s,e,a)}if("smartlink"===(null==s?void 0:s.actionType)&&7===(null==s?void 0:s.actionId)&&(null==t?void 0:t.length)>1){"mobile"===a&&(s.mobilefriendlyUrl="https://slg.smartdx.co/"+t[1].smartCode);let e=JSON.parse(t[1].smartAppStoreUrl);Ce(s,e,a)}const l=JSON.stringify(s);e.setAttribute("data-button-info",l)}catch(n){}}));let l=(new XMLSerializer).serializeToString(i);return l=l.replace(/<script\b[^>]*>([\s\S]*?)<\/script>/gi,((e,t)=>{const a=t.replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"');return e.replace(t,a)})),l=l.replace(/&amp;(quot|lt|gt|#39);/g,"&$1;").replace(/\x3C(\/?)script>/g,"<$1script>"),l},Ce=(e,t,a)=>{if(e.url=t.web.url,"web"===a)return e.url=t.web.url,e.mobilefriendlyUrl=t.web.url,e;let i=["Android phone","Android tablet","iPhone","iPad"];return null==i||i.map((a=>{var n,s,l,o,d;let c=null==(n=null==t?void 0:t.mobilePlatform)?void 0:n.filter((e=>e.deviceType===a));(null==c?void 0:c.length)>0&&(a===i[0]||a===i[1]?(e.activityName=null==(s=c[0].mainScreenName)?void 0:s.activityName,e.fragmentName=c[0].subScreenName,e.customParam={},(null==(l=c[0].customParameters)?void 0:l.length)>0&&c[0].customParameters.map((t=>{e.customParam[t.text]=t.value}))):(e.screenName=null==(o=c[0].mainScreenName)?void 0:o.displayName,e.customParam={},(null==(d=c[0].customParameters)?void 0:d.length)>0&&c[0].customParameters.map((t=>{e.customParam[t.text]=t.value}))))})),e},De=e=>(e.content.map((t=>{if(t.contentType="R"===t.contentType?"TEXT":"Z"===t.contentType?"EDM":"T"===t.contentType?"TEMPLATE":"",t.scheduleDate="true"===(null==e?void 0:e.isDuplicate)?"":t.scheduleDate,void 0!==t.scheduleDate&&""!==t.scheduleDate){let e=t.scheduleDate.split(" ");e.length>1&&(t.scheduleDate=`${e[0]}T${e[1]}Z`)}else t.schedule="",t.localScheduleTime=""})),{authuringType:"Web push",campaignName:"Amazon campaign",campaignPeriod:"Wed, Oct 28 - Fri, Nov 05",campaignType:"Promotion",campaignGoal:"Conversion",push:{chennalName:"Web push",domainId:"",domainName:e.domainName,domainLevel:{domainLevelId:e.domainLevelId,domainLevel:e.domainLevel},containerData:{bannerId:null==e?void 0:e.bannerId,bannerName:null==e?void 0:e.bannerName},weburl:e.domainName.domainUrl,pushType:{deliveryTypeValue:e.deliveryTypeValue,deliveryTypeId:e.deliveryTypeId},inboxClassification:{cdId:e.inboxClassificationId,classificationId:e.inboxClassification},pushLayout:{pushLayoutValue:e.pushLayoutValue,pushLayoutId:e.pushLayoutId},position:{positionValue:e.positionValue,positionId:e.positionId},isCarousel:e.isCarousel,isSplit:e.isSplit,secure:e.secure,requestForApproval:e.requestForApproval,pushNotifyChannelDetailID:8,statusId:6,testPushCampaignEmailAddress:null,content:e.content,objectRequestApproval:null==e?void 0:e.objectRequestApproval}}),Te=e=>(e.content.map((t=>{if(t.contentType="R"===t.contentType?"TEXT":"Z"===t.contentType?"EDM":"T"===t.contentType?"TEMPLATE":"",t.scheduleDate="true"===(null==e?void 0:e.isDuplicate)?"":t.scheduleDate,void 0!==t.scheduleDate&&""!==t.scheduleDate){let e=t.scheduleDate.split(" ");e.length>1&&(t.scheduleDate=`${e[0]}T${e[1]}Z`)}else t.schedule="",t.localScheduleTime=""})),{authuringType:"Mobile push",campaignName:"Flipkart campaign",campaignPeriod:"Wed, Oct 06, 2021 - Fri, Nov 05,",campaignType:"Awareness",campaignGoal:"Conversion",push:{appId:"",appName:"Vision Bank",containerData:{bannerId:null==e?void 0:e.bannerId,bannerName:null==e?void 0:e.bannerName},mobileApp:{appName:e.appName,appId:e.appId},pushType:{deliveryTypeValue:e.deliveryTypeValue,deliveryTypeId:e.deliveryTypeId},deliveryType:{deliveryTypeValue:e.deliveryTypeValue,deliveryTypeId:e.deliveryTypeId},inboxClassification:{cdId:e.inboxClassificationId,classificationId:e.inboxClassification},pushLayout:{pushLayoutValue:e.pushLayoutValue,pushLayoutId:e.pushLayoutId},position:{positionValue:e.positionValue,positionId:e.positionId},isCarousel:e.isCarousel,isSplit:e.isSplit,secure:e.secure,requestForApproval:e.requestForApproval,pushNotifyChannelDetailID:14,statusId:6,testPushCampaignEmailAddress:null,objectRequestApproval:void 0===(null==e?void 0:e.objectRequestApproval)||null===(null==e?void 0:e.objectRequestApproval)?null:null==e?void 0:e.objectRequestApproval,isRequestForApproval:void 0!==(null==e?void 0:e.objectRequestApproval)&&null!==(null==e?void 0:e.objectRequestApproval)&&Object.keys(null==e?void 0:e.objectRequestApproval).length>0,content:e.content}}),Ne=e=>{var t,i,n,s,l;G();const o=H.useContext(r),[d,c]=H.useState(null),[j,C]=H.useState([]),[D,T]=H.useState(!1),[N,k]=H.useState(null),[L,w]=H.useState(null),[A,z]=H.useState(!1),[M,q]=$({timeZoneDate:null,timeZoneList:(null==(t=m())?void 0:t.timeZone)||[],timeZone:{timezoneId:null,timezoneName:null,timezoneValue:null,offSet:null}}),[P,E]=H.useState(null),[O,V]=H.useState(null),[Z,U]=H.useState(null),[R,B]=H.useState(!1),[J,W]=H.useState("");H.useEffect((()=>{ce(),document.querySelectorAll('[role="dialog"]')[0]&&document.querySelectorAll('[role="dialog"]')[0].removeAttribute("tabIndex"),X()}),[]);const X=()=>{let t=null==e?void 0:e.channelId,i="8"===t?g:y,n={campaignId:null==e?void 0:e.campaignId,channelId:t};o.globalStateData.setIsLoadingData(!0),a({path:i,params:n,ok:e=>{var t,a,i,n,s,l;(null==e?void 0:e.status)&&(null==(a=null==(t=null==e?void 0:e.data)?void 0:t.splitData)?void 0:a.length)>0?(W(null==(i=null==e?void 0:e.data)?void 0:i.selectedContent),(""!==(null==(n=null==e?void 0:e.data)?void 0:n.localBlastDateTime)||(null==(s=null==e?void 0:e.data)?void 0:s.autoSchedule))&&B(!0),K(null==(l=null==e?void 0:e.data)?void 0:l.splitData)):o.globalStateData.setIsLoadingData(!1)},fail:e=>{o.globalStateData.setIsLoadingData(!1)}})},K=t=>{let i=null==e?void 0:e.channelId,n=v,s={campaignId:null==e?void 0:e.campaignId,channelId:i};a({path:n,params:s,ok:e=>{var a,n,s,l,d,c,r,m,u,p,h,g,y,v,I;if(o.globalStateData.setIsLoadingData(!1),null==e?void 0:e.status){if(null!==(null==(a=null==e?void 0:e.data)?void 0:a.campaignJson)&&void 0!==(null==(n=null==e?void 0:e.data)?void 0:n.campaignJson)&&""!==(null==(s=null==e?void 0:e.data)?void 0:s.campaignJson)){let t=JSON.parse(null==(l=null==e?void 0:e.data)?void 0:l.campaignJson);V(t)}if("8"===i&&null!==(null==(d=e.data)?void 0:d.webchannelJson)&&void 0!==(null==(c=e.data)?void 0:c.webchannelJson)&&""!==(null==(r=e.data)?void 0:r.webchannelJson)){let a=De(JSON.parse(null==(m=e.data)?void 0:m.webchannelJson));if((null==(p=null==(u=null==a?void 0:a.push)?void 0:u.content)?void 0:p.length)>0){const e=t.map(((e,t)=>({...e,...a.push.content[t]})));C(e)}}else if(null!==(null==(h=e.data)?void 0:h.mobilechannelJson)&&void 0!==(null==(g=e.data)?void 0:g.mobilechannelJson)&&""!==(null==(y=e.data)?void 0:y.mobilechannelJson)){let a=Te(JSON.parse(e.data.mobilechannelJson));if((null==(I=null==(v=null==a?void 0:a.push)?void 0:v.content)?void 0:I.length)>0){const e=t.map(((e,t)=>({...e,...a.push.content[t]})));C(e)}}}},fail:e=>{o.globalStateData.setIsLoadingData(!1)}})},ce=()=>{var e,t,a,i,n,s;let l=u().clientDetailsLocalization,o=null==(e=m())?void 0:e.timeZone,d=(null==o?void 0:o.filter((e=>(null==e?void 0:e.timezoneId)===(null==l?void 0:l.timeZoneId))))||[o[0]];null!==(null==l?void 0:l.timeZoneId)&&void 0!==(null==l?void 0:l.timeZoneId)&&0!==(null==l?void 0:l.timeZoneId)||(d=[o[0]]);let c=(new Date).toLocaleString([],{timeZone:null==(t=d[0])?void 0:t.timezoneValue});q((e=>{var t,a,i,n,s;e.timeZoneDate=c,e.timeZoneList=(null==(t=m())?void 0:t.timeZone)||[],e.timeZone={timezoneId:(null==l?void 0:l.timeZoneId)||(null==(a=d[0])?void 0:a.timezoneId)||0,timezoneName:(null==l?void 0:l.timeZoneName)||(null==(i=d[0])?void 0:i.timezoneName)||"-- Select timezone --",timezoneValue:null==(n=d[0])?void 0:n.timezoneValue,offSet:null==(s=d[0])?void 0:s.gmtOffset}})),E({timezoneId:(null==l?void 0:l.timeZoneId)||(null==(a=d[0])?void 0:a.timezoneId)||0,timezoneName:(null==l?void 0:l.timeZoneName)||(null==(i=d[0])?void 0:i.timezoneName)||"-- Select timezone --",timezoneValue:null==(n=d[0])?void 0:n.timezoneValue,offSet:null==(s=d[0])?void 0:s.gmtOffset})},re=(e,t)=>{let a=P.timezoneValue;const i=(new Date).toLocaleString([],{timeZone:a,hour12:!1}),[n,s]=i.split(", "),[l,o,d]=s.split(":"),c=new Date;c.setHours(l),c.setMinutes(o),c.setSeconds(d),t>c?(w(null),k(t)):(w("Selected value lesser than current date and time"),setTimeout((()=>{w(null),k(null)}),2e3))},me=e=>{var t,a;return _.jsxs("div",{className:"",children:[_.jsxs(le,{children:[_.jsx(oe,{md:2,children:_.jsx("label",{children:" "})}),_.jsx(oe,{md:6,children:_.jsx(ie,{name:"schedulerName",placeholder:"Select schedule date and time",errorMessage:L,format:!0===(null==(a=null==(t=u())?void 0:t.timeFormat)?void 0:a.includes("24"))?{skeleton:"yMMMdEHmSs"}:"MMM dd, yyyy:HH:mm a",min:b(new Date(null==O?void 0:O.startDate),2),max:S(new Date(F(null==O?void 0:O.endDate).add(0,"day").toString())),steps:{minute:2,second:10},value:null!==N?new Date(N):null,handleChange:e=>{re(P.timezoneValue,e.target.value)}})}),null!==N&&_.jsx("div",{className:"input-inner-set right52 zIndex2",children:_.jsx("i",{className:"icon-rs-close-mini icons-sm red posr bottom-10 right0 fs13",onClick:()=>{k("")}})}),!1===A?_.jsxs(le,{children:[_.jsx(oe,{md:2,children:_.jsx("label",{children:" "})}),_.jsxs(oe,{md:6,className:"d-flex justify-content-end mt15 position-relative right-13",children:[_.jsx("small",{className:"fs12",children:M.offSet}),_.jsx(f,{children:_.jsx(x,{tooltip:"Select time zone",icon:"icon-rs-pencil-edit-medium",size:"md",onClick:()=>{z(!0)}})})]})]}):null]}),A?_.jsx(_.Fragment,{children:_.jsxs(le,{className:"mt30 mb30",children:[_.jsx(oe,{md:2,children:_.jsx(de,{right:!0,label:"Select time zone"})}),_.jsx(oe,{md:6,children:_.jsx(Q,{required:!0,textField:"timezoneName",dataItemKey:"timezoneId",label:"Timezone",data:M.timeZoneList,value:M.timeZone||{timezoneId:0,timezoneName:"-- Select timezone --"},handleChange:e=>{q((t=>{var a;t.timeZoneDate=e.target.value.timezoneName,t.timeZoneList=(null==(a=m())?void 0:a.timeZone)||[],t.timeZone={timezoneId:e.target.value.timezoneId,timezoneName:e.target.value.timezoneName,timezoneValue:e.target.value.timezoneValue,offSet:e.target.value.gmtOffset}})),E({timezoneId:e.target.value.timezoneId,timezoneName:e.target.value.timezoneName,timezoneValue:e.target.value.timezoneValue,offSet:e.target.value.gmtOffset}),re(e.target.value.timezoneValue,N)}})})]})}):null]})};return _.jsxs(se,{show:e.show,centered:!0,size:4===j.length?"xlg":"lg",children:[_.jsxs(se.Header,{children:[_.jsx("h2",{children:"Split A/B"}),_.jsx(ne,{mainClass:"close",size:"md",handleClose:()=>{e.closeSplitAb()}})]}),_.jsx(se.Body,{children:_.jsxs(le,{className:"split-ab-modal mb20",children:[_.jsxs("div",{style:{display:"flex",alignItems:"flex-start",flexDirection:"column"},children:[_.jsx("label",{style:{marginBottom:15},children:`Picked the best message to be executed for remaining ${100-(null==(i=j[0])?void 0:i.recipientsPercentage)*j.length||0}%`}),_.jsx("div",{style:{display:"flex",backgroundColor:"#d4d4d4",alignItems:"center",width:"100%",padding:10,borderRadius:5,marginBottom:15},children:_.jsxs("label",{children:[`Audiences / group : ${null==(n=j[0])?void 0:n.matchedAuidence}`," ",`Remaining audiences : ${(null==(s=j[0])?void 0:s.totalAuidence)||100-(null==(l=j[0])?void 0:l.matchedAuidence)||0}`]})})]}),j.map(((e,t)=>{let a="ABCD",i=Math.ceil((null==e?void 0:e.matchedAuidence)||0);return _.jsxs(oe,{children:[_.jsx("h3",{children:`Split ${a.charAt(t)}`}),_.jsxs("div",{className:"d-flex align-items-center flex-column",children:[_.jsx("div",{className:"circular-chart-splitab",children:_.jsx(ee,{value:Math.ceil(e.contentCount/i*100),styles:te({strokeLinecap:"butt",textSize:"16px",pathTransitionDuration:.5,pathColor:a.charAt(t)===J?"#00006e":"#9ccc06",trailColor:"#eeeeee",backgroundColor:a.charAt(t)===J?"#198754":"#3e98c7"}),children:_.jsxs("div",{className:"circular-text",children:[_.jsxs("b",{children:[Math.ceil(e.contentCount/i*100)||0,_.jsx("small",{children:"%"})]}),_.jsx("span",{children:"Split size"}),_.jsx("h4",{children:Math.ceil(i)})]})})}),!0===(null==e?void 0:e.isAutoSchedule)||!0===R?_.jsx("label",{children:e.title}):_.jsx(Y,{disabled:R,lbl:e.title,name:"all",labelId:e.title,cb:a=>{c(e),U(t)}})]})]})})),null!==d&&_.jsxs(le,{className:"mt20",children:[_.jsx(oe,{md:2,children:_.jsx("label",{children:"Schedule"})}),_.jsx(oe,{md:6,className:"text-lg-start",children:_.jsx(ae,{value:D,onChange:e=>{T(e.target.value)}})})]}),D&&_.jsx(me,{})]})}),_.jsx(se.Footer,{children:_.jsxs("div",{className:"btn-container d-flex justify-content-end",children:[_.jsx(p,{onClick:()=>{e.closeSplitAb()},children:"Cancel"}),(null==j?void 0:j.length)>0&&_.jsx(h,{className:!0===j[0].isAutoSchedule||null===d?"click-off":"click-on",onClick:()=>{(()=>{if(null===d||!1===D)return void e.closeSplitAb();if(null===N||""===N)return void w("Please schedule");let t={campaignID:null==e?void 0:e.campaignId,selectedSubject:d.body,splitType:d.splitType,splittypeID:Z,autoschedule:d.isAutoSchedule,timeZoneId:P.timezoneId,scheduledate:N,channelType:8==e.channelId?"WN":"MP"};a({path:I,params:t,loading:o.globalStateData.setIsLoadingData,ok:t=>{(null==t?void 0:t.status)&&e.closeSplitAb()},fail:e=>{}})})()},children:"Save"})]})})]})},ke=e=>{const[t,a]=H.useState(!1);return _.jsxs(_.Fragment,{children:[t&&_.jsx(X,{size:"md",headerTitle:"Confirmation",para:"Are you sure, you want to play the communication?",primaryButtonText:"OK",secondaryButtonText:"Cancel",buttonClicked:t=>{a(!1),t&&(null==e||e.handleClick(8))}}),_.jsx(j,{text:"Play",position:"top",children:_.jsx("div",{className:`${null==e?void 0:e.clickOff} pl5`,onClick:()=>{a(!0)},children:_.jsx("i",{className:`${C} icons-md pr10 ${"click-on"==(null==e?void 0:e.clickOff)?"color-primary-blue":""} cursor-pointer `})})})]})},Le=e=>{const[t,a]=H.useState(!1);return _.jsxs(_.Fragment,{children:[t&&_.jsx(X,{size:"md",headerTitle:"Confirmation",para:"Are you sure, you want to stop the communication?",primaryButtonText:"OK",secondaryButtonText:"Cancel",buttonClicked:t=>{a(!1),t&&(null==e||e.handleClick(10))}}),_.jsx(j,{text:"Stop",position:"top",children:_.jsx("div",{className:`${null==e?void 0:e.clickOff} pl5`,onClick:()=>{a(!0)},children:_.jsx("i",{className:`${D} icons-md pr10 ${"click-on"==(null==e?void 0:e.clickOff)?"color-primary-blue":""} cursor-pointer `})})})]})},we=e=>{const[t,a]=H.useState(!1);return _.jsxs(_.Fragment,{children:[t&&_.jsx(X,{size:"md",headerTitle:"Confirmation",para:"Are you sure, you want to pause the communication?",primaryButtonText:"OK",secondaryButtonText:"Cancel",buttonClicked:t=>{a(!1),t&&(null==e||e.handleClick(9))}}),_.jsx(j,{text:"Pause",position:"top",children:_.jsx("div",{className:`${null==e?void 0:e.clickOff} pl5`,onClick:()=>{a(!0)},children:_.jsx("i",{className:`${T} icons-md pr10 ${"click-on"==(null==e?void 0:e.clickOff)?"color-primary-blue":""} cursor-pointer `})})})]})},Ae=e=>{const t=t=>{null==e||e.handleClick(t)};return _.jsx("div",{style:{display:"flex",paddingTop:"4px"},children:_.jsx(_.Fragment,{children:(e.jobStatusId,_.jsxs(_.Fragment,{children:[_.jsx(ke,{clickOff:6!==e.jobStatusId&&8!==e.jobStatusId&&10!==e.jobStatusId?"click-on":"click-off",handleClick:e=>t(e)}),_.jsx(we,{clickOff:10===e.jobStatusId?"click-off":9!==e.jobStatusId?"click-on":"click-off",handleClick:e=>t(e)}),_.jsx(Le,{clickOff:10!==e.jobStatusId?"click-on":"click-off",handleClick:e=>t(e)})]}))})})},ze=({position:e,text:t,type:a,className:i,image:n,children:s,pophover:l,data:o,content:d})=>(RSLog("Campaign List Detail",o,!0),_.jsx(ce,{trigger:"click",placement:e,rootClose:!0,overlay:_.jsx(re,{className:`rsp-pophover-campaign ${i} ${t?"phover-text":""} ${n?"phover-img":""}`,children:_.jsx("div",{className:"campaign-preview-wrapper",children:_.jsx(Nperview,{type:a,data:o,content:d})})}),children:s}));class Me extends B{constructor(){super(...arguments),t(this,"state",{channelList:[],saveError:!1,errMsg:null,isChannelDelete:!1,selectedIndex:0,selectCampaignId:0,selectChannelId:0,splitAbModal:!1,isCopied:!1,finalArry:[],clickPopup:!1,jobStatusId:0,dataItemVal:null,valueData:"",isCommentsPopUp:!1,commentsList:[],getAddAccessData:!1,getUpdateAccessData:!1,getDeleteAccessData:!1}),t(this,"getPermissionData",(()=>{let e=!1,t=!1,a=!1;const i=k("Communications");1==(null==i?void 0:i.get_AddAccessData)&&(e=!0),t=1==(null==i?void 0:i.accessUpdateData),(null==i?void 0:i.accessDeleteData)&&(a=!0),this.setState({getAddAccessData:e,getUpdateAccessData:t,getDeleteAccessData:a})})),t(this,"dublicateChannel",((e,t)=>{let i={channelId:t,userId:L(),campaignId:e,databaseName:"SmartDX_e7be7449_b573_4e29_a427_a46e36288409"};a({path:w,params:i,loading:this.props.globalStateData.setIsLoadingData,ok:e=>{e.status?this.props.callback():this.setState({saveError:!0,errMsg:(null==e?void 0:e.message)||A})},fail:e=>{}})})),t(this,"deleteChannel",((e,t,i)=>{a({path:z,params:{channelId:t,campaignId:e,databaseName:"SmartDX_e7be7449_b573_4e29_a427_a46e36288409"},loading:this.props.context.apiStateData.setIsLoadingData,ok:e=>{if(e.status){let e=this.props.dataItem.info,a=e.filter((e=>e.channelId===t));const i=e.indexOf(a[0]);e.splice(i,1);let n=null==e?void 0:e.sort(((e,t)=>e.channelId>t.channelId?1:-1)),s=[];["1","2","8","14","21","5","10","6","16"].map((e=>{null==n||n.map((t=>{t.copied=!1,t.channelId===e&&s.push(t)}))})),this.setState({finalArry:s}),this.forceUpdate()}else this.setState({saveError:!0,errMsg:(null==e?void 0:e.message)||A})},fail:e=>{}})})),t(this,"handleCopyClick",((e,t)=>{this.copyTextToClipboard(e).then((()=>{let e=[...this.state.finalArry];e[t].copied=!0,this.setState({finalArry:e}),this.setState({isCopied:!0}),setTimeout((()=>{let e=[...this.state.finalArry];e[t].copied=!1,this.setState({finalArry:e}),this.setState({isCopied:!1})}),1500)})).catch((e=>{}))})),t(this,"copyTextToClipboard",(async e=>"clipboard"in navigator?await navigator.clipboard.writeText(e):document.execCommand("copy",!0,e))),t(this,"getData",(e=>{let t=JSON.parse(e);return t.push={},t.push.pushType={deliveryTypeId:t.deliveryTypeId,deliveryTypeValue:t.deliveryTypeValue},t.push.deliveryType={deliveryTypeId:t.deliveryTypeId,deliveryTypeValue:t.deliveryTypeValue},t})),t(this,"getContent",(e=>this.getData(e).content[0])),t(this,"getChannelStatus",(e=>Pe["Y"===this.props.dataItem.isSmartLinkCampaign?this.props.dataItem.campaignStatusId:0!==e.channelStatusId||0===e.channelStatusId?e.channelStatusId:this.props.dataItem.campaignStatusId])),t(this,"triggerPlayPause",((e,t,i)=>{((e,t,i,n)=>{var s,l,o,d;let c={campaignName:null==(s=null==t?void 0:t.item)?void 0:s.campaignName,campaignId:null==(l=null==t?void 0:t.item)?void 0:l.campaignId,channelId:null==(o=null==t?void 0:t.item)?void 0:o.channelId,jobStatusId:i,campEndDate:new Date(null==(d=null==t?void 0:t.item)?void 0:d.scheduleDate)};a({path:N,params:c,loading:e.globalStateData.setIsLoadingData,sessionOut:e.globalStateData.setSessionOutData,ok:e=>{(null==e?void 0:e.status)?n({status:!0}):n({status:!1})},fail:e=>{n({status:!1})}})})(this.context,{item:e},t,(e=>{(null==e?void 0:e.status)&&(this.props.jobStatusChange(t,i),this.setState({clickPopup:!0,jobStatusId:t}))}))})),t(this,"getCampaignStatus",(e=>8===(null==e?void 0:e.jobStatusId)||6===(null==e?void 0:e.jobStatusId)||0===(null==e?void 0:e.jobStatusId)?Pe[this.props.dataItem.campaignStatusId]:Ee[null==e?void 0:e.jobStatusId])),t(this,"getETCamapignStatus",(e=>8===(null==e?void 0:e.jobStatusId)||6===(null==e?void 0:e.jobStatusId)||0===(null==e?void 0:e.jobStatusId)?Pe["Event trigger"===this.props.dataItem.deliveryType?this.props.dataItem.campaignStatusId:0!==e.channelStatusId?e.channelStatusId:this.props.dataItem.campaignStatusId]:Ee[null==e?void 0:e.jobStatusId])),t(this,"viewRFAComments",((e,t)=>{if(13===t.channelStatusId){let i={campaignId:e,channelId:t.channelId};a({path:M,params:i,loading:this.context.globalStateData.setIsLoadingData,ok:e=>{var t;!0===(null==e?void 0:e.status)&&(null==(t=null==e?void 0:e.data)?void 0:t.length)>0&&this.setState({isCommentsPopUp:!0,commentsList:null==e?void 0:e.data})},fail:e=>{}})}})),t(this,"CommentListPopUp",(()=>{var e;return _.jsxs(se,{show:this.state.isCommentsPopUp,size:"lg",centered:!0,children:[_.jsxs(se.Header,{children:[_.jsx(ne,{mainClass:"close",size:"md",handleClose:()=>{this.setState({isCommentsPopUp:!1})}}),_.jsx("h2",{children:"Comments list"})]}),_.jsx(se.Body,{children:_.jsx(pe,{gridClassName:"license-info-grid mt10",scrollable:!0,data:this.state.commentsList,column:[{title:"Email",cell:e=>{var t;return _.jsx("td",{children:_.jsx(le,{children:_.jsx(oe,{md:5,children:_.jsx("span",{children:null==(t=e.dataItem)?void 0:t.emailSentTo})})})})}},{title:"Comments",cell:e=>{var t;return _.jsx("td",{children:_.jsx(le,{children:_.jsx(oe,{md:5,children:_.jsx("span",{children:null==(t=e.dataItem)?void 0:t.makeChangesComments})})})})}}],settings:{total:null==(e=this.state.commentsList)?void 0:e.length},pageable:!1,config:{take:100,skip:0}})})]})}))}componentDidMount(){var e,t,a;let i=null==(a=null==(t=null==(e=this.props)?void 0:e.dataItem)?void 0:t.info)?void 0:a.sort(((e,t)=>e.channelId>t.channelId?1:-1)),n=[];["1","2","8","14","21","5","10","6","16"].map((e=>{null==i||i.map((t=>{t.copied=!1,t.channelId===e&&n.push(t)}))})),this.setState({finalArry:n}),this.getPermissionData()}svgToPng(e,t){const a=document.createElement("canvas"),i=a.getContext("2d"),n=new Image;n.onload=function(){a.width=n.width,a.height=n.height,i.drawImage(n,0,0);const e=a.toDataURL("image/png");t(e)},n.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(e)}downloadPng(e,t){const a=document.createElement("a");a.href=e,a.download=t,a.style.display="none",document.body.appendChild(a),a.click(),document.body.removeChild(a)}downLoadQRCode(e){const t=document.getElementById("qr-gen"),a=(new XMLSerializer).serializeToString(t);this.svgToPng(a,(t=>{const a=e.split("/").slice(-1);this.downloadPng(t,a)}))}render(){var e,t;return _.jsxs("div",{className:"rs-grid-detail-view",children:[_.jsx(this.CommentListPopUp,{}),!0===this.state.saveError&&_.jsx(K,{headerTitle:"Sorry",para:this.state.errMsg,primaryButtonText:"OK",buttonClicked:e=>{this.setState({saveError:!1})}}),this.state.splitAbModal&&_.jsx(Ne,{show:this.state.splitAbModal,campaignId:this.props.dataItem.campaignId,channelId:null==(e=this.state.finalArry[this.state.selectedIndex])?void 0:e.channelId,closeSplitAb:()=>this.setState({splitAbModal:!1})}),this.state.isChannelDelete&&_.jsx(X,{headerTitle:"Communication channel",title:"Do you want to delete this item?",primaryButtonText:"OK",secondaryButtonText:"Cancel",buttonClicked:e=>{this.setState({isChannelDelete:!1}),e&&this.deleteChannel(this.state.selectCampaignId,this.state.selectChannelId,this.state.selectedIndex)}}),_.jsxs("table",{className:"grid-detail-content",children:[_.jsx("thead",{children:_.jsxs("tr",{children:[_.jsx("th",{width:"10%",className:"text-center",children:"Channel"}),_.jsx("th",{width:"38%",children:"Friendly name"}),_.jsx("th",{width:(this.props.dataItem.isSmartLinkCampaign,"25%"),children:"Status"}),_.jsx("th",{width:"18%"}),(this.props.dataItem.isSmartLinkCampaign,_.jsx("th",{width:"15%",children:_.jsx("div",{className:"text-end",children:"Actions"})}))]})}),_.jsx("tbody",{children:void 0!==this.props.dataItem&&void 0!==this.props.dataItem.info&&(null==(t=this.state.finalArry)?void 0:t.map(((e,t)=>{var a,i;return _.jsxs("tr",{children:[_.jsx("td",{className:"text-center",children:_.jsx(x,{tooltip:`${null!==(null==e?void 0:e.subChannelID)?Oe[null==e?void 0:e.subChannelID][1]:Oe[e.channelId][1]}`,icon:null!==(null==e?void 0:e.subChannelID)?Oe[null==e?void 0:e.subChannelID][0]:Oe[null==e?void 0:e.channelId][0],size:"md",color:"white",mainClass:`box-view-icon bv-md mx-auto ${null!==(null==e?void 0:e.subChannelID)?Oe[null==e?void 0:e.subChannelID][2]:Oe[e.channelId][2]}`})}),_.jsx("td",{children:_.jsx("p",{children:null!==(null==e?void 0:e.subChannelID)?Oe[null==e?void 0:e.subChannelID][1]:Oe[e.channelId][1]})}),_.jsx("td",{children:_.jsxs("ul",{className:"d-flex align-items-center",children:[_.jsx("li",{children:_.jsx(j,{text:"Event trigger"===this.props.dataItem.deliveryType?`${this.getETCamapignStatus(e).title}`:`${Pe["Y"===this.props.dataItem.isSmartLinkCampaign?this.props.dataItem.campaignStatusId:0!==e.channelStatusId||0===e.channelStatusId?e.channelStatusId:this.props.dataItem.campaignStatusId].title}`,position:"top",children:"Event trigger"===this.props.dataItem.deliveryType?_.jsx("i",{className:`${this.getCampaignStatus(e).color}\n                                  } ${this.getCampaignStatus(e).icon} icons-md marginR8 posr top2 raja`,onClick:()=>{this.viewRFAComments(this.props.dataItem.campaignId,e)}}):_.jsx("i",{className:`${Pe["Y"===this.props.dataItem.isSmartLinkCampaign?this.props.dataItem.campaignStatusId:9===this.props.dataItem.campaignStatusId?9:0!==e.channelStatusId||0===e.channelStatusId?e.channelStatusId:this.props.dataItem.campaignStatusId].color} ${Pe["Y"===this.props.dataItem.isSmartLinkCampaign?this.props.dataItem.campaignStatusId:0!==e.channelStatusId||0===e.channelStatusId?e.channelStatusId:this.props.dataItem.campaignStatusId].icon} icons-md marginR8 posr top2`,onClick:()=>{this.viewRFAComments(this.props.dataItem.campaignId,e)}})})}),12===e.channelStatusId||13===e.channelStatusId?_.jsx("li",{children:_.jsx("span",{className:`  ${this.getETCamapignStatus(e).color}`,children:this.getETCamapignStatus(e).title})}):_.jsx("li",{children:"Event trigger"!==this.props.dataItem.deliveryType&&"Y"!==this.props.dataItem.isSmartLinkCampaign&&null!==e.scheduleDate&&""!==e.scheduleDate&&9!==this.props.dataItem.campaignStatusId&&_.jsx("span",{children:"0000-00-00 00:00:00"===q(e.scheduleDate,!0)?"":q(e.scheduleDate,!0)})}),"Event trigger"===this.props.dataItem.deliveryType&&9!==this.props.dataItem.campaignStatusId&&(8===parseInt(e.channelId)||14===parseInt(e.channelId))&&0!==this.props.dataItem.campaignStatusId&&6!==this.props.dataItem.campaignStatusId&&7!==this.props.dataItem.campaignStatusId&&0!==e.channelStatusId&&"Stopped"!==(null==e?void 0:e.jobStatus)&&_.jsx("li",{children:_.jsx(Ae,{jobStatusId:e.jobStatusId,handleClick:t=>{this.triggerPlayPause({...this.props.dataItem,...e},t,e.channelId)}})})]})}),_.jsx("td",{children:_.jsx("ul",{children:_.jsx("li",{children:!0===(null==e?void 0:e.isSplitAB)&&7!==(null==e?void 0:e.channelStatusId)&&7!==(null==(i=null==(a=this.props)?void 0:a.dataItem)?void 0:i.campaignStatusId)&&_.jsxs("div",{className:"d-flex align-items-center",children:[_.jsx("img",{src:fe,alt:fe}),_.jsxs("p",{className:`rs-link paddingL8 ${this.getChannelStatus(e).color}`,onClick:()=>{this.setState({splitAbModal:!this.state.splitAbModal,selectedIndex:t})},children:["split 10% ",this.getChannelStatus(e).title.toLowerCase()]})]})})})}),"N"===this.props.dataItem.isSmartLinkCampaign?_.jsx(_.Fragment,{children:_.jsx("td",{children:_.jsx("div",{className:"camp-icon float-end",children:_.jsxs("ul",{className:"camp-icon-pannel",children:[""!==e.info&&null!==e.info?_.jsx("li",{children:_.jsx(x,{icon:P,size:"md",pophover:e.info})}):null,null!==e.data&&_.jsx(_.Fragment,{children:8===parseInt(e.channelId)||14===parseInt(e.channelId)?_.jsx(j,{text:"Preview",position:"top",rootClose:!0,children:_.jsx("li",{className:this.state.getUpdateAccessData?"click-on":"click-off",children:_.jsx(J,{anchorElement:"target",position:"top",children:_.jsx(ze,{className:"preview-detail-pophover",tooltip:!1,data:this.getData(e.data),content:this.getContent(e.data),position:"left",type:8===parseInt(e.channelId)?"web":"mobile",children:_.jsx("i",{className:"icon-rs-eye-medium icons-md blue"})})})})}):null}),_.jsx("li",{children:_.jsx(j,{text:"Edit",position:"top",children:_.jsx("i",{className:"icon-rs-pencil-edit-medium icons-md blue "+(this.state.getUpdateAccessData?"click-on":"click-off"),onClick:()=>{let t=Pe[this.props.dataItem.campaignStatusId].title;const a=0!==this.props.dataItem.campaignId&&"Scheduled"!==t&&"Draft"!==t&&"Alert"!==t;localStorage.setItem("cId",this.props.dataItem.campaignId);let i=localStorage.getItem(`camp_${this.props.dataItem.campaignId}`),n={};null!=i?(n=E(i),n.notifyData={mode:"edit",editClickOff:a,statusId:O(this.props.dataItem.campaignStatusId).id,channelId:parseInt(e.channelId)}):n.notifyData={mode:"edit",editClickOff:a,statusId:O(this.props.dataItem.campaignStatusId).id,channelId:parseInt(e.channelId)},localStorage.setItem(`camp_${this.props.dataItem.campaignId}`,V(n)),this.props.history.push({pathname:"/campaign/creation-notification",search:`?cId=${this.props.dataItem.campaignId}&cs=${O(this.props.dataItem.campaignStatusId).id}`,state:{mode:"edit",campaignName:this.props.dataItem.campaignName,status:t,editClickOff:a,Channeltype:[e.channelName.toLowerCase().includes("mobile")?"Mobile push":"Web push"],AnalyticsType:[e.channelName.toLowerCase().includes("mobile")?"App":"Web"],campaignId:this.props.dataItem.campaignId,channelId:parseInt(e.channelId)}}),this.props.onButtonClick(!0)}})})}),6===this.props.dataItem.campaignStatusId?_.jsx("li",{children:_.jsx(j,{text:"Delete",position:"top",children:_.jsx("i",{className:"icon-rs-delete-medium icons-md blue "+(this.state.getDeleteAccessData?"click-on":"click-off"),onClick:()=>this.setState({selectCampaignId:this.props.dataItem.campaignId,selectChannelId:e.channelId,selectedIndex:t,isChannelDelete:!0})})})}):null]})})})}):_.jsx("td",{id:"qr",children:_.jsx("div",{className:"back-text float-end",children:"6"!==(null==e?void 0:e.channelId)&&"16"!==e.channelId&&_.jsxs(_.Fragment,{children:[this.state.isCopied&&e.copied&&_.jsx("div",{className:"copied-text",children:_.jsx("label",{className:"ml15",children:"Copied"})}),_.jsx("div",{className:"copy-text",children:_.jsx(j,{text:"Copy",position:"top",children:_.jsx("img",{src:ue,alt:"CopyMedium",className:"cursor-pointer paddingL5",onClick:()=>this.handleCopyClick(null==e?void 0:e.smartLink,t)})})}),_.jsxs("div",{id:"qr",className:"marginL10",onClick:()=>this.downLoadQRCode(null==e?void 0:e.smartLink),children:[_.jsx("div",{className:"d-flex justify-content-end mr6",children:_.jsx(j,{text:"QR Download",position:"top",children:_.jsxs("div",{className:"merge-icon",children:[_.jsx(x,{icon:Z,size:"md"}),_.jsx("i",{className:`merge-sm ${U} color-primary-blue`})]})})}),_.jsx("div",{className:"d-none",children:_.jsx(me,{id:"qr-gen",value:(null==e?void 0:e.smartLink)||"",size:230,level:"H",includeMargin:!0})})]})]})})})]})})))})]})]})}}t(Me,"contextType",r);const qe=W(Me),Pe={0:{title:"Draft",className:"status-draft",icon:"icon-rs-form-edit-medium",color:"color-draft"},5:{title:"In progress",className:"status-inprogress",icon:"icon-rs-circle-time-medium",color:"color-inprogress"},52:{title:"Alert",className:"status-alert",icon:"icon-rs-alert-medium yellow",color:"color-alert"},9:{title:"Completed",className:"status-completed",icon:"icon-rs-circle-tick-medium",color:"color-completed"},7:{title:"Scheduled",className:"status-scheduled",icon:"icon-rs-circle-time-medium",color:"color-scheduled"},20:{title:"Multistatus",className:"status-multistatus",icon:"icon-rs-multi-status-medium",color:"color-multi-status"},6:{title:"Draft",className:"status-draft",icon:"icon-rs-form-edit-medium",color:"color-draft"},12:{title:"Pending for approval",className:"status-scheduled",icon:"icon-rs-alert-medium yellow",color:"color-alert"},13:{title:"On hold",className:"status-scheduled",icon:"icon-rs-alert-medium yellow",color:"color-alert"}},Ee={9:{title:"Draft",className:"status-draft",icon:"icon-rs-form-edit-medium",color:"color-draft"},5:{title:"In progress",className:"status-inprogress",icon:"icon-rs-circle-time-medium",color:"color-inprogress"},10:{title:"Stopped",className:"status-alert",icon:"icon-rs-circle-stop-medium",color:"color-scheduled"},7:{title:"Scheduled",className:"status-scheduled",icon:"icon-rs-circle-time-medium",color:"color-scheduled"},20:{title:"Multistatus",className:"status-multistatus",icon:"icon-rs-multi-status-medium",color:"color-multi-status"},0:{title:"Draft",className:"status-draft",icon:"icon-rs-form-edit-medium",color:"color-draft"}},Oe={1:["icon-rs-email-medium","Email","bg-email"],2:["icon-rs-mobile-sms-medium","SMS","bg-sms"],5:["icon-rs-social-facebook-medium","Social media","bg-facebook"],6:["icon-rs-web-analytics-medium","Web analytics","bg-web-push"],7:["icon-rs-social-facebook-medium","Facebook","bg-facebook"],8:["icon-rs-web-notification-medium","Web push notification","bg-web-push"],9:["icon-rs-mobile-notification-medium","Mobile push notification","bg-mobile-push"],10:["icon-rs-social-google-ad-medium","Paid media","bg-paid-media"],12:["icon-rs-social-pinterest-medium","Pinterest","bg-pinterest"],14:["icon-rs-mobile-notification-medium","Mobile push notification","bg-mobile-push"],16:["icon-rs-mobile-analytics-medium","App analytics","bg-mobile-push"],21:["icon-rs-social-whatsapp-medium","WhatsApp","bg-whatsapp"],30:["icon-rs-social-linkedin-medium","LinkedIn","bg-linkedin"],31:["icon-rs-social-facebook-medium","Facebook","bg-facebook"],33:["icon-rs-social-twitter-medium","X","bg-twitter"],32:["icon-rs-social-facebook-medium","Facebook","bg-facebook"],34:["icon-rs-social-line-medium","Line","bg-primary-blue"],35:["icon-rs-social-pinterest-medium","Pinterest","bg-pinterest"],36:["icon-rs-social-instagram-medium","Instagram","bg-insta"],37:["icon-rs-social-google-ad-medium","Google ads","bg-google"],38:["icon-rs-social-facebook-ads-medium","Facebook ads","bg-facebook"]};export{qe as C,he as a,Se as b,ge as c,xe as d,Te as e,ve as g,De as p,ye as s};
